"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
var ReactComponents_eventscalendar;
(self["webpackChunkReactComponents_"] = self["webpackChunkReactComponents_"] || []).push([["eventscalendar"],{

/***/ "./CommonScripts/eventscalendar.js":
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EventsCalendarContextMenu\": function() { return /* reexport safe */ _eventscalendar_events_calendar_contextmenu__WEBPACK_IMPORTED_MODULE_4__.EventsCalendarContextMenu; },\n/* harmony export */   \"closeTimeTableEntryEditorMiniPopover\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_timetableeditor__WEBPACK_IMPORTED_MODULE_0__.closeTimeTableEntryEditorMiniPopover; },\n/* harmony export */   \"fixEventRows\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_ui_control__WEBPACK_IMPORTED_MODULE_1__.fixEventRows; },\n/* harmony export */   \"hiddenDestinations\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_arrow_navigation__WEBPACK_IMPORTED_MODULE_2__.hiddenDestinations; },\n/* harmony export */   \"installExclusiveResourcePopoverHandlers\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_availabilitytool__WEBPACK_IMPORTED_MODULE_3__.installExclusiveResourcePopoverHandlers; },\n/* harmony export */   \"mouseOutOfCell\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_arrow_navigation__WEBPACK_IMPORTED_MODULE_2__.mouseOutOfCell; },\n/* harmony export */   \"mouseOverCell\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_arrow_navigation__WEBPACK_IMPORTED_MODULE_2__.mouseOverCell; },\n/* harmony export */   \"openCalendarUnavailabilityBubble\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_ui_control__WEBPACK_IMPORTED_MODULE_1__.openCalendarUnavailabilityBubble; },\n/* harmony export */   \"openTimeTableEntryEditorMiniPopover\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_timetableeditor__WEBPACK_IMPORTED_MODULE_0__.openTimeTableEntryEditorMiniPopover; },\n/* harmony export */   \"performCellDisablement\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_ui_control__WEBPACK_IMPORTED_MODULE_1__.performCellDisablement; },\n/* harmony export */   \"registerScrollUpdateInCalendar\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_ui_control__WEBPACK_IMPORTED_MODULE_1__.registerScrollUpdateInCalendar; },\n/* harmony export */   \"setActiveStyleSheet\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_ui_control__WEBPACK_IMPORTED_MODULE_1__.setActiveStyleSheet; },\n/* harmony export */   \"setStyleSheet\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_ui_control__WEBPACK_IMPORTED_MODULE_1__.setStyleSheet; },\n/* harmony export */   \"toggleCorrespondingSummaryBubbleLock\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_ui_control__WEBPACK_IMPORTED_MODULE_1__.toggleCorrespondingSummaryBubbleLock; },\n/* harmony export */   \"toggleEventStatusLock\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_ui_control__WEBPACK_IMPORTED_MODULE_1__.toggleEventStatusLock; },\n/* harmony export */   \"toggleEventStatusLockFromBubble\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_ui_control__WEBPACK_IMPORTED_MODULE_1__.toggleEventStatusLockFromBubble; },\n/* harmony export */   \"toggleGroupLock\": function() { return /* reexport safe */ _eventscalendar_eventscalendar_ui_control__WEBPACK_IMPORTED_MODULE_1__.toggleGroupLock; }\n/* harmony export */ });\n/* harmony import */ var _eventscalendar_eventscalendar_timetableeditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./CommonScripts/eventscalendar/eventscalendar-timetableeditor.js\");\n/* harmony import */ var _eventscalendar_eventscalendar_ui_control__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./CommonScripts/eventscalendar/eventscalendar-ui-control.js\");\n/* harmony import */ var _eventscalendar_eventscalendar_arrow_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./CommonScripts/eventscalendar/eventscalendar-arrow-navigation.js\");\n/* harmony import */ var _eventscalendar_eventscalendar_availabilitytool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./CommonScripts/eventscalendar/eventscalendar-availabilitytool.js\");\n/* harmony import */ var _eventscalendar_events_calendar_contextmenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./CommonScripts/eventscalendar/events-calendar-contextmenu.js\");\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Db21tb25TY3JpcHRzL2V2ZW50c2NhbGVuZGFyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL1JlYWN0Q29tcG9uZW50c18vLi9Db21tb25TY3JpcHRzL2V2ZW50c2NhbGVuZGFyLmpzP2QzZDgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9ldmVudHNjYWxlbmRhci9ldmVudHNjYWxlbmRhci10aW1ldGFibGVlZGl0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9ldmVudHNjYWxlbmRhci9ldmVudHNjYWxlbmRhci11aS1jb250cm9sJztcbmV4cG9ydCAqIGZyb20gJy4vZXZlbnRzY2FsZW5kYXIvZXZlbnRzY2FsZW5kYXItYXJyb3ctbmF2aWdhdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL2V2ZW50c2NhbGVuZGFyL2V2ZW50c2NhbGVuZGFyLWF2YWlsYWJpbGl0eXRvb2wnO1xuZXhwb3J0ICogZnJvbSAnLi9ldmVudHNjYWxlbmRhci9ldmVudHMtY2FsZW5kYXItY29udGV4dG1lbnUnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./CommonScripts/eventscalendar.js\n");

/***/ }),

/***/ "./CommonScripts/eventscalendar/events-calendar-contextmenu.js":
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EventsCalendarContextMenu\": function() { return /* binding */ EventsCalendarContextMenu; }\n/* harmony export */ });\n/* harmony import */ var _sharedscripts_sharedscripts_genericcalendarcontextmenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./CommonScripts/sharedscripts/sharedscripts-genericcalendarcontextmenu.js\");\n/* harmony import */ var _sharedscripts_sharedscripts_npcommon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./CommonScripts/sharedscripts/sharedscripts-npcommon.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\nvar EventsCalendarContextMenu = /*#__PURE__*/function (_GenericCalendarConte) {\n  _inherits(EventsCalendarContextMenu, _GenericCalendarConte);\n  var _super = _createSuper(EventsCalendarContextMenu);\n  function EventsCalendarContextMenu(configuration) {\n    var _this;\n    _classCallCheck(this, EventsCalendarContextMenu);\n    _this = _super.call(this, configuration);\n    _this.addToGroupFilterState = configuration.locationFilterState;\n    // Set the selection in the calendar based on the one passed from the backend\n    // Remove any event that cannot be selected so the state only reflects those events that are shown to the user as selected\n    _this.selectedEvents = new Set();\n    configuration.selectedEvents.forEach(function (id) {\n      if ($(\"[data-event=\".concat(id, \"],[data-group=\").concat(id, \"]\")).length !== 0) {\n        $(\"[data-event=\".concat(id, \"]\")).addClass('ui-selected');\n        $(\"[data-group=\".concat(id, \"]\")).each(function (_, group) {\n          var groupId = $(group).attr('groupid');\n          $(\".\".concat(groupId)).addClass('ui-selected');\n        });\n        _this.selectedEvents.add(id);\n      }\n    });\n    _this.canPaste = configuration.canPaste;\n    _this.canPasteInGroup = configuration.canPasteInGroup;\n    return _this;\n  }\n  _createClass(EventsCalendarContextMenu, [{\n    key: \"menuItems\",\n    value: function menuItems() {\n      var _this2 = this;\n      return [this.actionItem('add'), this.actionItem('setUnavailable', {\n        disableif: function disableif() {\n          return _this2.contextMenuSelection().length > 1;\n        }\n      }), this.separator(), this.actionItem('showInfo', {\n        showif: function showif() {\n          return _this2.openedOnEvent();\n        }\n      }), this.submenu('setStatus', function (_, callback) {\n        return _this2.renderSetStatusSubmenu(callback);\n      }, {\n        rebuildSubmenu: true,\n        showif: function showif() {\n          return _this2.openedOnEvent();\n        }\n      }), this.submenu('setProfile', function (_, callback) {\n        return _this2.renderSetProfileSubmenu(callback);\n      }, {\n        showif: function showif() {\n          return _this2.openedOnEvent();\n        }\n      }), this.actionItem('repeat', {\n        hideif: function hideif() {\n          return _this2.openedOnEmptyCell();\n        },\n        disableif: function disableif() {\n          return _this2.contextMenuSelection().length !== 1;\n        }\n      }), this.actionItem('listResources', {\n        showif: function showif() {\n          return _this2.openedOnEvent();\n        }\n      }), this.separator({\n        hideif: function hideif() {\n          return _this2.openedOnEmptyCell();\n        }\n      }), this.submenu('select', function (_, callback) {\n        return _this2.renderEventStructure(callback);\n      }, {\n        rebuildSubmenu: true,\n        showif: function showif() {\n          return _this2.openedOnEvent();\n        }\n      }), this.actionItem('group', {\n        showif: function showif() {\n          return _this2.openedOnEvent();\n        }\n      }), this.submenu('addToGroup', [this.search(this.configuration.searchPlaceholderText, _.debounce(this.configuration.addToGroupAutocomplete, 200), function (event, ui, context) {\n        return _this2.configuration.addToGroupCallback(_objectSpread(_objectSpread({}, context), {}, {\n          group: ui,\n          isNew: false\n        }));\n      }, {\n        withFilter: true,\n        filterLabelFunction: function filterLabelFunction() {\n          return _this2.addToGroupFilterState ? _this2.configuration.locationFilterOnLabel : _this2.configuration.locationFilterOffLabel;\n        },\n        filterTooltipFunction: function filterTooltipFunction() {\n          return _this2.addToGroupFilterState ? _this2.configuration.locationFilterOnTooltip : _this2.configuration.locationFilterOffTooltip;\n        },\n        filterToggle: function filterToggle(callback) {\n          return _this2.toggleAddToGroupFilterState(callback);\n        },\n        onNew: this.configuration.canCreateEvents ? function (newName) {\n          _this2.configuration.addToGroupCallback(_objectSpread(_objectSpread({}, _this2.actionCallbackContext()), {}, {\n            newGroup: newName,\n            isNew: true\n          }));\n          _this2.close();\n        } : null,\n        minLength: 3\n      })], {\n        rebuildSubmenu: true,\n        showif: function showif() {\n          return _this2.openedOnEvent();\n        }\n      }), this.actionItem('ungroup', {\n        showif: function showif() {\n          return _this2.openedOnEvent();\n        }\n      }), this.separator({\n        showif: function showif() {\n          return _this2.openedOnEvent();\n        }\n      }), this.actionItem('move', {\n        showif: function showif() {\n          return _this2.openedOnEvent();\n        },\n        disableif: function disableif() {\n          return _this2.contextMenuSelection().length !== 1;\n        }\n      }), this.separator({\n        showif: function showif() {\n          return _this2.openedOnEvent();\n        }\n      }), this.actionItem('copy', {\n        hideif: function hideif() {\n          return _this2.openedOnEmptyCell();\n        }\n      }), this.actionItem('paste', {\n        disableif: function disableif() {\n          return !_this2.canPaste;\n        }\n      }), this.actionItem('pasteInGroup', {\n        disableif: function disableif() {\n          return !_this2.canPasteInGroup;\n        }\n      }), this.actionItem('delete', {\n        hideif: function hideif() {\n          return _this2.openedOnEmptyCell();\n        }\n      }), this.separator(), this.actionItem('undo', {\n        disableif: !this.configuration.hasUndo\n      })];\n    }\n  }, {\n    key: \"menuIdentifier\",\n    value: function menuIdentifier() {\n      return 'eventsCalendarContextMenu';\n    }\n  }, {\n    key: \"beforeMenuOpen\",\n    value: function beforeMenuOpen(contextMenuOpenEvent) {\n      var target = $(contextMenuOpenEvent.target).closest('.decoration,.empty');\n      $('.currentMenuFocus').removeClass('currentMenuFocus');\n      var multiSelect = $(target).hasClass('ui-selected') || (0,_sharedscripts_sharedscripts_npcommon__WEBPACK_IMPORTED_MODULE_1__.hasMetaKey)(contextMenuOpenEvent);\n      if (!multiSelect) $('.ui-selected').removeClass('ui-selected');\n      this.contextMenuGroupSelected = contextMenuOpenEvent.altKey;\n      this.selectCell(target, this.contextMenuGroupSelected, multiSelect);\n      target.addClass('currentMenuFocus').not('.empty').removeClass('group-selected selected').not('.ui-selected').addClass('ui-selected ui-selected-by-menu');\n      if (this.contextMenuGroupSelected) $('.group-selected,.selected').removeClass('group-selected selected').not('.ui-selected').addClass('ui-selected ui-selected-by-menu ui-group-selected-by-menu');else $('.group-selected,.selected').removeClass('group-selected selected');\n    }\n  }, {\n    key: \"openedOnEvent\",\n    value: function openedOnEvent() {\n      return $(this.contextMenuTarget).closest('.decoration').not('.blocked').length !== 0;\n    }\n  }, {\n    key: \"openedOnEmptyCell\",\n    value: function openedOnEmptyCell() {\n      return $(this.contextMenuTarget).closest('.empty').length !== 0;\n    }\n  }, {\n    key: \"beforeMenuClose\",\n    value: function beforeMenuClose() {\n      var _this3 = this;\n      var selectedByMenu = $('.ui-selected-by-menu');\n      selectedByMenu.each(function (_, selected) {\n        if ($(selected).hasClass('ui-group-selected-by-menu')) {\n          _this3.selectedEvents.delete($(selected).data('group'));\n        } else {\n          _this3.selectedEvents.delete($(selected).data('event'));\n        }\n      });\n      $('.currentMenuFocus').trigger('mouseout').removeClass('currentMenuFocus');\n      selectedByMenu.removeClass('ui-selected ui-selected-by-menu disabled').removeClass('ui-selected-by-menu ui-group-selected-by-menu');\n      $('.dev-removeonmenuclose').remove();\n    }\n  }, {\n    key: \"afterMenuClose\",\n    value: function afterMenuClose() {\n      // No action required\n    }\n  }, {\n    key: \"actionCallbackContext\",\n    value: function actionCallbackContext() {\n      return {\n        contextMenuCell: $(this.contextMenuTarget).closest('.empty,.decoration').attr('id'),\n        contextMenuGroupSelected: this.contextMenuGroupSelected,\n        selectedEvents: _toConsumableArray(this.selectedEvents) // Convert the set to an array\n      };\n    }\n  }, {\n    key: \"renderSetStatusSubmenu\",\n    value: function renderSetStatusSubmenu(callback) {\n      var _this4 = this;\n      var statusClassNames = $('#theCalendar .ui-selected').map(function (idx, selection) {\n        return _.detect($(selection).attr('class').split(/\\s+/), function (i) {\n          return i.indexOf('status-') !== -1;\n        });\n      });\n      statusClassNames = _.uniq(statusClassNames);\n      var currentStatus = statusClassNames.length === 1 ? statusClassNames[0] : null;\n      this.configuration.getSettableStatussesFunction(this.actionCallbackContext(), function (statuses) {\n        callback(statuses.map(function (status) {\n          return {\n            'an': 'item',\n            'id': status.id,\n            'text': status.name,\n            'cssClass': status.cssName === currentStatus ? 'current' : null,\n            'fn': function fn(event) {\n              return _this4.configuration.actions.setStatus.fn(event, _objectSpread(_objectSpread({}, _this4.actionCallbackContext()), {}, {\n                status: status.id\n              }));\n            }\n          };\n        }));\n      });\n    }\n  }, {\n    key: \"renderSetProfileSubmenu\",\n    value: function renderSetProfileSubmenu(callback) {\n      var _this5 = this;\n      var profileClassNames = $('#theCalendar .ui-selected').map(function (idx, selection) {\n        return _.detect($(selection).attr('class').split(/\\s+/), function (i) {\n          return i.indexOf('decoration-') !== -1;\n        });\n      });\n      profileClassNames = _.uniq(profileClassNames);\n      var currentProfile = profileClassNames.length === 1 ? profileClassNames[0] : null;\n      callback(this.configuration.eventProfiles.map(function (eventProfile) {\n        return {\n          'an': 'item',\n          'id': eventProfile.id,\n          'text': eventProfile.name,\n          'cssClass': eventProfile.cssName === currentProfile ? 'current' : null,\n          'fn': function fn(event) {\n            return _this5.configuration.actions.setProfile.fn(event, _objectSpread(_objectSpread({}, _this5.actionCallbackContext()), {}, {\n              profile: eventProfile.id\n            }));\n          }\n        };\n      }));\n    }\n  }, {\n    key: \"renderEventStructure\",\n    value: function renderEventStructure(callback) {\n      var _this6 = this;\n      this.configuration.getEventStructureFunction(this.actionCallbackContext(), function (treeItems) {\n        callback(treeItems.map(function (item) {\n          return {\n            'a': 'hoverable',\n            'id': item.id,\n            'text': item.name.padStart(item.name.length + item.level * 3, ' '),\n            'cssClass': item.groupId,\n            'mouseover': function mouseover() {\n              $(\".\".concat(item.rootGroupId, \".selected\")).removeClass('selected');\n              $(\".\".concat(item.groupId)).addClass('selected');\n            },\n            'mouseout': function mouseout() {\n              return $(\".\".concat(item.rootGroupId, \".selected\")).removeClass('selected');\n            },\n            'disableif': item.disabled,\n            'fn': function fn(event) {\n              var metaKeyPressed = (0,_sharedscripts_sharedscripts_npcommon__WEBPACK_IMPORTED_MODULE_1__.hasMetaKey)(event);\n              var selectedByMenu = $('.ui-selected-by-menu');\n              var toSelect = $(\"li.\".concat(item.groupId));\n              if (toSelect.find('.dev-group-lock--actual').length > 0) {\n                toSelect.addClass('disabled');\n              }\n              if (selectedByMenu.length > 0) {\n                selectedByMenu.removeClass('ui-selected');\n                selectedByMenu.each(function (_, element) {\n                  return _this6.selectedEvents.delete($(element).data('event'));\n                });\n              }\n              if (!metaKeyPressed) {\n                _this6.selectedEvents.clear();\n                $('.ui-selected').removeClass('ui-selected');\n              }\n              toSelect.removeClass('ui-selected-by-menu selected').addClass('ui-selected');\n              _this6.selectedEvents.add(item.id);\n            }\n          };\n        }));\n      });\n    }\n  }, {\n    key: \"toggleAddToGroupFilterState\",\n    value: function toggleAddToGroupFilterState(callback) {\n      var _this7 = this;\n      var newState = !this.addToGroupFilterState;\n      this.configuration.locationFilterToggle(newState, function () {\n        _this7.addToGroupFilterState = newState;\n        callback();\n      });\n    }\n  }, {\n    key: \"deselectAll\",\n    value: function deselectAll() {\n      this.selectedEvents.clear();\n      $('.group-selected,.selected,.ui-selected,.currentMenuFocus').removeClass('group-selected selected ui-selected currentMenuFocus');\n    }\n  }, {\n    key: \"selectCell\",\n    value: function selectCell(cellQuery, altKeyPressed, metaKeyPressed) {\n      var _this8 = this;\n      // If we clicked the empty cell, or we didn't press the meta key, we clear the current selection\n      if (cellQuery.hasClass('empty') || !metaKeyPressed) {\n        this.selectedEvents.clear();\n      }\n      var groupId = cellQuery.attr('groupid');\n      var group = cellQuery.data('group');\n\n      // Add the entire group or the clicked event depending on whether the alt key was held\n      if (cellQuery.hasClass('decoration')) {\n        if (altKeyPressed && groupId !== undefined) {\n          $(\".\".concat(groupId)).each(function (_, elementInGroup) {\n            _this8.selectedEvents.delete($(elementInGroup).data('event'));\n          });\n          this.selectedEvents.add(group);\n        } else if (groupId === undefined || !this.selectedEvents.has(group)) {\n          // If the entire group is not already selected, select the event\n          this.selectedEvents.add(cellQuery.data('event'));\n        }\n      }\n    }\n\n    // Invoked via a grid script whenever a cell is clicked\n  }, {\n    key: \"onCellClick\",\n    value: function onCellClick(event) {\n      var cellQuery = $(event.target);\n      var altKeyPressed = event.altKey;\n      var metaKeyPressed = (0,_sharedscripts_sharedscripts_npcommon__WEBPACK_IMPORTED_MODULE_1__.hasMetaKey)(event);\n      if (!(cellQuery.hasClass('decoration') || cellQuery.hasClass('empty'))) {\n        return;\n      }\n      this.selectCell(cellQuery, altKeyPressed, metaKeyPressed);\n      var groupId = cellQuery.attr('groupid');\n      // Update the visual state of the selections\n      var cells;\n      // If the alt key is pressed, we select our group\n      if (altKeyPressed && groupId !== undefined) {\n        cells = $(\".\".concat(groupId));\n      } else {\n        cells = cellQuery;\n      }\n\n      // If the cmd or ctrl keys are pressed, we do not unselect previous cells\n      if (!metaKeyPressed) {\n        $('.ui-selected').removeClass('ui-selected');\n      }\n      cells.not('.empty').addClass('ui-selected');\n    }\n\n    // Invoked by the jQuery UI configured in the backend\n  }, {\n    key: \"setLassoSelection\",\n    value: function setLassoSelection(event) {\n      var _this9 = this;\n      var metaKeyPressed = (0,_sharedscripts_sharedscripts_npcommon__WEBPACK_IMPORTED_MODULE_1__.hasMetaKey)(event);\n      if (!metaKeyPressed) {\n        this.selectedEvents.clear();\n      }\n      $('.ui-selected').filter(function (_, element) {\n        return $(element).css('visibility') !== 'hidden';\n      }).each(function (_, element) {\n        return _this9.selectCell($(element), false, true);\n      });\n    }\n  }, {\n    key: \"updateAfterCopy\",\n    value: function updateAfterCopy(canPaste, canPasteInGroup) {\n      this.canPaste = canPaste;\n      this.canPasteInGroup = canPasteInGroup;\n      this.deselectAll();\n    }\n  }]);\n  return EventsCalendarContextMenu;\n}(_sharedscripts_sharedscripts_genericcalendarcontextmenu__WEBPACK_IMPORTED_MODULE_0__.GenericCalendarContextMenu);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Db21tb25TY3JpcHRzL2V2ZW50c2NhbGVuZGFyL2V2ZW50cy1jYWxlbmRhci1jb250ZXh0bWVudS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL1JlYWN0Q29tcG9uZW50c18vLi9Db21tb25TY3JpcHRzL2V2ZW50c2NhbGVuZGFyL2V2ZW50cy1jYWxlbmRhci1jb250ZXh0bWVudS5qcz80MDU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdlbmVyaWNDYWxlbmRhckNvbnRleHRNZW51IH0gZnJvbSAnLi4vc2hhcmVkc2NyaXB0cy9zaGFyZWRzY3JpcHRzLWdlbmVyaWNjYWxlbmRhcmNvbnRleHRtZW51JztcbmltcG9ydCB7IGhhc01ldGFLZXl9IGZyb20gJy4uL3NoYXJlZHNjcmlwdHMvc2hhcmVkc2NyaXB0cy1ucGNvbW1vbic7XG5cbmV4cG9ydCBjbGFzcyBFdmVudHNDYWxlbmRhckNvbnRleHRNZW51IGV4dGVuZHMgR2VuZXJpY0NhbGVuZGFyQ29udGV4dE1lbnUge1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBzdXBlcihjb25maWd1cmF0aW9uKTtcbiAgICB0aGlzLmFkZFRvR3JvdXBGaWx0ZXJTdGF0ZSA9IGNvbmZpZ3VyYXRpb24ubG9jYXRpb25GaWx0ZXJTdGF0ZTtcbiAgICAvLyBTZXQgdGhlIHNlbGVjdGlvbiBpbiB0aGUgY2FsZW5kYXIgYmFzZWQgb24gdGhlIG9uZSBwYXNzZWQgZnJvbSB0aGUgYmFja2VuZFxuICAgIC8vIFJlbW92ZSBhbnkgZXZlbnQgdGhhdCBjYW5ub3QgYmUgc2VsZWN0ZWQgc28gdGhlIHN0YXRlIG9ubHkgcmVmbGVjdHMgdGhvc2UgZXZlbnRzIHRoYXQgYXJlIHNob3duIHRvIHRoZSB1c2VyIGFzIHNlbGVjdGVkXG4gICAgdGhpcy5zZWxlY3RlZEV2ZW50cyA9IG5ldyBTZXQoKTtcbiAgICBjb25maWd1cmF0aW9uLnNlbGVjdGVkRXZlbnRzLmZvckVhY2goaWQgPT4ge1xuICAgICAgaWYoJChgW2RhdGEtZXZlbnQ9JHtpZH1dLFtkYXRhLWdyb3VwPSR7aWR9XWApLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAkKGBbZGF0YS1ldmVudD0ke2lkfV1gKS5hZGRDbGFzcygndWktc2VsZWN0ZWQnKTtcbiAgICAgICAgJChgW2RhdGEtZ3JvdXA9JHtpZH1dYCkuZWFjaCgoXywgZ3JvdXApID0+IHtcbiAgICAgICAgICBjb25zdCBncm91cElkID0gJChncm91cCkuYXR0cignZ3JvdXBpZCcpO1xuICAgICAgICAgICQoYC4ke2dyb3VwSWR9YCkuYWRkQ2xhc3MoJ3VpLXNlbGVjdGVkJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRFdmVudHMuYWRkKGlkKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuY2FuUGFzdGUgPSBjb25maWd1cmF0aW9uLmNhblBhc3RlO1xuICAgIHRoaXMuY2FuUGFzdGVJbkdyb3VwID0gY29uZmlndXJhdGlvbi5jYW5QYXN0ZUluR3JvdXA7XG4gIH1cblxuICBtZW51SXRlbXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHRoaXMuYWN0aW9uSXRlbSgnYWRkJyksXG4gICAgICB0aGlzLmFjdGlvbkl0ZW0oJ3NldFVuYXZhaWxhYmxlJywge2Rpc2FibGVpZjogKCkgPT4gdGhpcy5jb250ZXh0TWVudVNlbGVjdGlvbigpLmxlbmd0aCA+IDEgfSksXG4gICAgICB0aGlzLnNlcGFyYXRvcigpLFxuICAgICAgdGhpcy5hY3Rpb25JdGVtKCdzaG93SW5mbycsIHtzaG93aWY6ICgpID0+IHRoaXMub3BlbmVkT25FdmVudCgpIH0pLFxuICAgICAgdGhpcy5zdWJtZW51KCdzZXRTdGF0dXMnLCAoXywgY2FsbGJhY2spID0+IHRoaXMucmVuZGVyU2V0U3RhdHVzU3VibWVudShjYWxsYmFjayksIHtcbiAgICAgICAgcmVidWlsZFN1Ym1lbnU6IHRydWUsXG4gICAgICAgIHNob3dpZjogKCkgPT4gdGhpcy5vcGVuZWRPbkV2ZW50KClcbiAgICAgIH0pLFxuICAgICAgdGhpcy5zdWJtZW51KCdzZXRQcm9maWxlJywgKF8sIGNhbGxiYWNrKSA9PiB0aGlzLnJlbmRlclNldFByb2ZpbGVTdWJtZW51KGNhbGxiYWNrKSwge3Nob3dpZjogKCkgPT4gdGhpcy5vcGVuZWRPbkV2ZW50KCl9KSxcbiAgICAgIHRoaXMuYWN0aW9uSXRlbSgncmVwZWF0Jywge2hpZGVpZjogKCkgPT4gdGhpcy5vcGVuZWRPbkVtcHR5Q2VsbCgpLCBkaXNhYmxlaWY6ICgpID0+IHRoaXMuY29udGV4dE1lbnVTZWxlY3Rpb24oKS5sZW5ndGggIT09IDEgfSksXG4gICAgICB0aGlzLmFjdGlvbkl0ZW0oJ2xpc3RSZXNvdXJjZXMnLCAge3Nob3dpZjogKCkgPT4gdGhpcy5vcGVuZWRPbkV2ZW50KCl9KSxcbiAgICAgIHRoaXMuc2VwYXJhdG9yKHsgaGlkZWlmOiAoKSA9PiB0aGlzLm9wZW5lZE9uRW1wdHlDZWxsKCkgfSksXG4gICAgICB0aGlzLnN1Ym1lbnUoJ3NlbGVjdCcsIChfLCBjYWxsYmFjaykgPT4gdGhpcy5yZW5kZXJFdmVudFN0cnVjdHVyZShjYWxsYmFjayksIHtcbiAgICAgICAgcmVidWlsZFN1Ym1lbnU6IHRydWUsXG4gICAgICAgIHNob3dpZjogKCkgPT4gdGhpcy5vcGVuZWRPbkV2ZW50KClcbiAgICAgIH0pLFxuICAgICAgdGhpcy5hY3Rpb25JdGVtKCdncm91cCcsIHsgc2hvd2lmOiAoKSA9PiB0aGlzLm9wZW5lZE9uRXZlbnQoKSB9KSxcbiAgICAgIHRoaXMuc3VibWVudSgnYWRkVG9Hcm91cCcsIFtcbiAgICAgICAgdGhpcy5zZWFyY2goXG4gICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnNlYXJjaFBsYWNlaG9sZGVyVGV4dCxcbiAgICAgICAgICBfLmRlYm91bmNlKHRoaXMuY29uZmlndXJhdGlvbi5hZGRUb0dyb3VwQXV0b2NvbXBsZXRlLCAyMDApLFxuICAgICAgICAgIChldmVudCwgdWksIGNvbnRleHQpID0+IHRoaXMuY29uZmlndXJhdGlvbi5hZGRUb0dyb3VwQ2FsbGJhY2soeyAuLi5jb250ZXh0LCBncm91cDogdWksIGlzTmV3OiBmYWxzZSB9KSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB3aXRoRmlsdGVyOiB0cnVlLFxuICAgICAgICAgICAgZmlsdGVyTGFiZWxGdW5jdGlvbjogKCkgPT4gdGhpcy5hZGRUb0dyb3VwRmlsdGVyU3RhdGUgPyB0aGlzLmNvbmZpZ3VyYXRpb24ubG9jYXRpb25GaWx0ZXJPbkxhYmVsIDogdGhpcy5jb25maWd1cmF0aW9uLmxvY2F0aW9uRmlsdGVyT2ZmTGFiZWwsXG4gICAgICAgICAgICBmaWx0ZXJUb29sdGlwRnVuY3Rpb246ICgpID0+IHRoaXMuYWRkVG9Hcm91cEZpbHRlclN0YXRlID8gdGhpcy5jb25maWd1cmF0aW9uLmxvY2F0aW9uRmlsdGVyT25Ub29sdGlwIDogdGhpcy5jb25maWd1cmF0aW9uLmxvY2F0aW9uRmlsdGVyT2ZmVG9vbHRpcCxcbiAgICAgICAgICAgIGZpbHRlclRvZ2dsZTogKGNhbGxiYWNrKSA9PiB0aGlzLnRvZ2dsZUFkZFRvR3JvdXBGaWx0ZXJTdGF0ZShjYWxsYmFjayksXG4gICAgICAgICAgICBvbk5ldzogdGhpcy5jb25maWd1cmF0aW9uLmNhbkNyZWF0ZUV2ZW50cyA/IChuZXdOYW1lKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5hZGRUb0dyb3VwQ2FsbGJhY2soeyAuLi50aGlzLmFjdGlvbkNhbGxiYWNrQ29udGV4dCgpLCBuZXdHcm91cDogbmV3TmFtZSwgaXNOZXc6IHRydWUgfSk7XG4gICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH0gOiBudWxsLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiAzXG4gICAgICAgICAgfSlcbiAgICAgIF0sIHsgcmVidWlsZFN1Ym1lbnU6IHRydWUsIHNob3dpZjogKCkgPT4gdGhpcy5vcGVuZWRPbkV2ZW50KCkgfSksXG4gICAgICB0aGlzLmFjdGlvbkl0ZW0oJ3VuZ3JvdXAnLCB7IHNob3dpZjogKCkgPT4gdGhpcy5vcGVuZWRPbkV2ZW50KCkgfSksXG4gICAgICB0aGlzLnNlcGFyYXRvcih7IHNob3dpZjogKCkgPT4gdGhpcy5vcGVuZWRPbkV2ZW50KCl9KSxcbiAgICAgIHRoaXMuYWN0aW9uSXRlbSgnbW92ZScsIHsgc2hvd2lmOiAoKSA9PiB0aGlzLm9wZW5lZE9uRXZlbnQoKSwgZGlzYWJsZWlmOiAoKSA9PiB0aGlzLmNvbnRleHRNZW51U2VsZWN0aW9uKCkubGVuZ3RoICE9PSAxIH0pLFxuICAgICAgdGhpcy5zZXBhcmF0b3IoeyBzaG93aWY6ICgpID0+IHRoaXMub3BlbmVkT25FdmVudCgpfSksXG4gICAgICB0aGlzLmFjdGlvbkl0ZW0oJ2NvcHknLCB7IGhpZGVpZjogKCkgPT4gdGhpcy5vcGVuZWRPbkVtcHR5Q2VsbCgpIH0pLFxuICAgICAgdGhpcy5hY3Rpb25JdGVtKCdwYXN0ZScsIHtkaXNhYmxlaWY6ICgpID0+ICF0aGlzLmNhblBhc3RlIH0pLFxuICAgICAgdGhpcy5hY3Rpb25JdGVtKCdwYXN0ZUluR3JvdXAnLCB7ZGlzYWJsZWlmOiAoKSA9PiAhdGhpcy5jYW5QYXN0ZUluR3JvdXAgfSksXG4gICAgICB0aGlzLmFjdGlvbkl0ZW0oJ2RlbGV0ZScsIHsgaGlkZWlmOiAoKSA9PiB0aGlzLm9wZW5lZE9uRW1wdHlDZWxsKCkgfSksXG4gICAgICB0aGlzLnNlcGFyYXRvcigpLFxuICAgICAgdGhpcy5hY3Rpb25JdGVtKCd1bmRvJywgeyBkaXNhYmxlaWY6ICF0aGlzLmNvbmZpZ3VyYXRpb24uaGFzVW5kbyB9KSxcbiAgICBdO1xuICB9XG5cbiAgbWVudUlkZW50aWZpZXIoKSB7XG4gICAgcmV0dXJuICdldmVudHNDYWxlbmRhckNvbnRleHRNZW51JztcbiAgfVxuXG5cbiAgYmVmb3JlTWVudU9wZW4oY29udGV4dE1lbnVPcGVuRXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSAkKGNvbnRleHRNZW51T3BlbkV2ZW50LnRhcmdldCkuY2xvc2VzdCgnLmRlY29yYXRpb24sLmVtcHR5Jyk7XG4gICAgJCgnLmN1cnJlbnRNZW51Rm9jdXMnKS5yZW1vdmVDbGFzcygnY3VycmVudE1lbnVGb2N1cycpO1xuICAgIGNvbnN0IG11bHRpU2VsZWN0ID0gJCh0YXJnZXQpLmhhc0NsYXNzKCd1aS1zZWxlY3RlZCcpIHx8IGhhc01ldGFLZXkoY29udGV4dE1lbnVPcGVuRXZlbnQpO1xuICAgIGlmICghbXVsdGlTZWxlY3QpICQoJy51aS1zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCd1aS1zZWxlY3RlZCcpO1xuICAgIHRoaXMuY29udGV4dE1lbnVHcm91cFNlbGVjdGVkID0gY29udGV4dE1lbnVPcGVuRXZlbnQuYWx0S2V5O1xuICAgIHRoaXMuc2VsZWN0Q2VsbCh0YXJnZXQsIHRoaXMuY29udGV4dE1lbnVHcm91cFNlbGVjdGVkLCBtdWx0aVNlbGVjdCk7XG4gICAgdGFyZ2V0XG4gICAgICAuYWRkQ2xhc3MoJ2N1cnJlbnRNZW51Rm9jdXMnKVxuICAgICAgLm5vdCgnLmVtcHR5JylcbiAgICAgIC5yZW1vdmVDbGFzcygnZ3JvdXAtc2VsZWN0ZWQgc2VsZWN0ZWQnKVxuICAgICAgLm5vdCgnLnVpLXNlbGVjdGVkJylcbiAgICAgIC5hZGRDbGFzcygndWktc2VsZWN0ZWQgdWktc2VsZWN0ZWQtYnktbWVudScpO1xuICAgIGlmICh0aGlzLmNvbnRleHRNZW51R3JvdXBTZWxlY3RlZClcbiAgICAgICQoJy5ncm91cC1zZWxlY3RlZCwuc2VsZWN0ZWQnKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2dyb3VwLXNlbGVjdGVkIHNlbGVjdGVkJylcbiAgICAgICAgLm5vdCgnLnVpLXNlbGVjdGVkJylcbiAgICAgICAgLmFkZENsYXNzKCd1aS1zZWxlY3RlZCB1aS1zZWxlY3RlZC1ieS1tZW51IHVpLWdyb3VwLXNlbGVjdGVkLWJ5LW1lbnUnKTtcbiAgICBlbHNlICQoJy5ncm91cC1zZWxlY3RlZCwuc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnZ3JvdXAtc2VsZWN0ZWQgc2VsZWN0ZWQnKTtcbiAgfVxuXG5cbiAgb3BlbmVkT25FdmVudCgpIHtcbiAgICByZXR1cm4gJCh0aGlzLmNvbnRleHRNZW51VGFyZ2V0KS5jbG9zZXN0KCcuZGVjb3JhdGlvbicpLm5vdCgnLmJsb2NrZWQnKS5sZW5ndGggIT09IDA7XG4gIH1cblxuICBvcGVuZWRPbkVtcHR5Q2VsbCgpIHtcbiAgICByZXR1cm4gJCh0aGlzLmNvbnRleHRNZW51VGFyZ2V0KS5jbG9zZXN0KCcuZW1wdHknKS5sZW5ndGggIT09IDA7XG4gIH1cblxuICBiZWZvcmVNZW51Q2xvc2UoKSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRCeU1lbnUgPSAkKCcudWktc2VsZWN0ZWQtYnktbWVudScpO1xuICAgIHNlbGVjdGVkQnlNZW51LmVhY2goKF8sc2VsZWN0ZWQpID0+IHtcbiAgICAgIGlmICgkKHNlbGVjdGVkKS5oYXNDbGFzcygndWktZ3JvdXAtc2VsZWN0ZWQtYnktbWVudScpKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRFdmVudHMuZGVsZXRlKCQoc2VsZWN0ZWQpLmRhdGEoJ2dyb3VwJykpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNlbGVjdGVkRXZlbnRzLmRlbGV0ZSgkKHNlbGVjdGVkKS5kYXRhKCdldmVudCcpKVxuICAgICAgfVxuICAgIH0pO1xuICAgICQoJy5jdXJyZW50TWVudUZvY3VzJykudHJpZ2dlcignbW91c2VvdXQnKS5yZW1vdmVDbGFzcygnY3VycmVudE1lbnVGb2N1cycpO1xuICAgIHNlbGVjdGVkQnlNZW51LnJlbW92ZUNsYXNzKCd1aS1zZWxlY3RlZCB1aS1zZWxlY3RlZC1ieS1tZW51IGRpc2FibGVkJykucmVtb3ZlQ2xhc3MoJ3VpLXNlbGVjdGVkLWJ5LW1lbnUgdWktZ3JvdXAtc2VsZWN0ZWQtYnktbWVudScpO1xuICAgICQoJy5kZXYtcmVtb3Zlb25tZW51Y2xvc2UnKS5yZW1vdmUoKTtcbiAgfVxuXG4gIGFmdGVyTWVudUNsb3NlKCkge1xuICAgIC8vIE5vIGFjdGlvbiByZXF1aXJlZFxuICB9XG5cbiAgYWN0aW9uQ2FsbGJhY2tDb250ZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb250ZXh0TWVudUNlbGw6ICQodGhpcy5jb250ZXh0TWVudVRhcmdldCkuY2xvc2VzdCgnLmVtcHR5LC5kZWNvcmF0aW9uJykuYXR0cignaWQnKSxcbiAgICAgIGNvbnRleHRNZW51R3JvdXBTZWxlY3RlZDogdGhpcy5jb250ZXh0TWVudUdyb3VwU2VsZWN0ZWQsXG4gICAgICBzZWxlY3RlZEV2ZW50czogWy4uLiB0aGlzLnNlbGVjdGVkRXZlbnRzIF0gLy8gQ29udmVydCB0aGUgc2V0IHRvIGFuIGFycmF5XG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlclNldFN0YXR1c1N1Ym1lbnUoY2FsbGJhY2spIHtcbiAgICBsZXQgc3RhdHVzQ2xhc3NOYW1lcyA9ICQoJyN0aGVDYWxlbmRhciAudWktc2VsZWN0ZWQnKS5tYXAoKGlkeCwgc2VsZWN0aW9uKSA9PiB7XG4gICAgICByZXR1cm4gXy5kZXRlY3QoJChzZWxlY3Rpb24pLmF0dHIoJ2NsYXNzJykuc3BsaXQoL1xccysvKSwgIChpKSA9PiB7XG4gICAgICAgIHJldHVybiBpLmluZGV4T2YoJ3N0YXR1cy0nKSAhPT0gLTE7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBzdGF0dXNDbGFzc05hbWVzID0gXy51bmlxKHN0YXR1c0NsYXNzTmFtZXMpO1xuICAgIGNvbnN0IGN1cnJlbnRTdGF0dXMgPSBzdGF0dXNDbGFzc05hbWVzLmxlbmd0aCA9PT0gMSA/IHN0YXR1c0NsYXNzTmFtZXNbMF0gOiBudWxsO1xuICAgIHRoaXMuY29uZmlndXJhdGlvbi5nZXRTZXR0YWJsZVN0YXR1c3Nlc0Z1bmN0aW9uKHRoaXMuYWN0aW9uQ2FsbGJhY2tDb250ZXh0KCksIChzdGF0dXNlcykgPT4ge1xuICAgICAgY2FsbGJhY2soc3RhdHVzZXMubWFwKHN0YXR1cyA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgJ2FuJzogJ2l0ZW0nLFxuICAgICAgICAgICdpZCc6IHN0YXR1cy5pZCxcbiAgICAgICAgICAndGV4dCc6IHN0YXR1cy5uYW1lLFxuICAgICAgICAgICdjc3NDbGFzcyc6IHN0YXR1cy5jc3NOYW1lID09PSBjdXJyZW50U3RhdHVzID8gJ2N1cnJlbnQnIDogbnVsbCxcbiAgICAgICAgICAnZm4nOiAoZXZlbnQpID0+IHRoaXMuY29uZmlndXJhdGlvbi5hY3Rpb25zLnNldFN0YXR1cy5mbihldmVudCwge1xuICAgICAgICAgICAgLi4uIHRoaXMuYWN0aW9uQ2FsbGJhY2tDb250ZXh0KCksXG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy5pZFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlclNldFByb2ZpbGVTdWJtZW51KGNhbGxiYWNrKSB7XG4gICAgbGV0IHByb2ZpbGVDbGFzc05hbWVzID0gJCgnI3RoZUNhbGVuZGFyIC51aS1zZWxlY3RlZCcpLm1hcCgoaWR4LCBzZWxlY3Rpb24pID0+IHtcbiAgICAgIHJldHVybiBfLmRldGVjdCgkKHNlbGVjdGlvbikuYXR0cignY2xhc3MnKS5zcGxpdCgvXFxzKy8pLCAgKGkpID0+IHtcbiAgICAgICAgcmV0dXJuIGkuaW5kZXhPZignZGVjb3JhdGlvbi0nKSAhPT0gLTE7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBwcm9maWxlQ2xhc3NOYW1lcyA9IF8udW5pcShwcm9maWxlQ2xhc3NOYW1lcyk7XG4gICAgY29uc3QgY3VycmVudFByb2ZpbGUgPSBwcm9maWxlQ2xhc3NOYW1lcy5sZW5ndGggPT09IDEgPyBwcm9maWxlQ2xhc3NOYW1lc1swXSA6IG51bGw7XG4gICAgY2FsbGJhY2sodGhpcy5jb25maWd1cmF0aW9uLmV2ZW50UHJvZmlsZXMubWFwKGV2ZW50UHJvZmlsZSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAnYW4nOiAnaXRlbScsXG4gICAgICAgICdpZCc6IGV2ZW50UHJvZmlsZS5pZCxcbiAgICAgICAgJ3RleHQnOiBldmVudFByb2ZpbGUubmFtZSxcbiAgICAgICAgJ2Nzc0NsYXNzJzogZXZlbnRQcm9maWxlLmNzc05hbWUgPT09IGN1cnJlbnRQcm9maWxlID8gJ2N1cnJlbnQnIDogbnVsbCxcbiAgICAgICAgJ2ZuJzogKGV2ZW50KSA9PiB0aGlzLmNvbmZpZ3VyYXRpb24uYWN0aW9ucy5zZXRQcm9maWxlLmZuKGV2ZW50LCB7XG4gICAgICAgICAgLi4uIHRoaXMuYWN0aW9uQ2FsbGJhY2tDb250ZXh0KCksXG4gICAgICAgICAgcHJvZmlsZTogZXZlbnRQcm9maWxlLmlkXG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH0pKTtcbiAgfVxuXG4gIHJlbmRlckV2ZW50U3RydWN0dXJlKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jb25maWd1cmF0aW9uLmdldEV2ZW50U3RydWN0dXJlRnVuY3Rpb24odGhpcy5hY3Rpb25DYWxsYmFja0NvbnRleHQoKSwgKHRyZWVJdGVtcykgPT4ge1xuICAgICAgY2FsbGJhY2sodHJlZUl0ZW1zLm1hcChpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAnYSc6ICdob3ZlcmFibGUnLFxuICAgICAgICAgICdpZCc6IGl0ZW0uaWQsXG4gICAgICAgICAgJ3RleHQnOiBpdGVtLm5hbWUucGFkU3RhcnQoaXRlbS5uYW1lLmxlbmd0aCArIChpdGVtLmxldmVsICogMyksICcgJyksXG4gICAgICAgICAgJ2Nzc0NsYXNzJzogaXRlbS5ncm91cElkLFxuICAgICAgICAgICdtb3VzZW92ZXInOiAoKSA9PiB7XG4gICAgICAgICAgICAkKGAuJHsgIGl0ZW0ucm9vdEdyb3VwSWR9LnNlbGVjdGVkYCkucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAkKGAuJHsgIGl0ZW0uZ3JvdXBJZH1gKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgICdtb3VzZW91dCc6ICgpID0+ICQoYC4keyAgaXRlbS5yb290R3JvdXBJZH0uc2VsZWN0ZWRgKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKSxcbiAgICAgICAgICAnZGlzYWJsZWlmJzogaXRlbS5kaXNhYmxlZCxcbiAgICAgICAgICAnZm4nOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFLZXlQcmVzc2VkID0gaGFzTWV0YUtleShldmVudCk7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZEJ5TWVudSA9ICQoJy51aS1zZWxlY3RlZC1ieS1tZW51Jyk7XG4gICAgICAgICAgICBjb25zdCB0b1NlbGVjdCA9ICQoYGxpLiR7aXRlbS5ncm91cElkfWApO1xuICAgICAgICAgICAgaWYgKHRvU2VsZWN0LmZpbmQoJy5kZXYtZ3JvdXAtbG9jay0tYWN0dWFsJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICB0b1NlbGVjdC5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEJ5TWVudS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkQnlNZW51LnJlbW92ZUNsYXNzKCd1aS1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICBzZWxlY3RlZEJ5TWVudS5lYWNoKChfLCBlbGVtZW50KSA9PiB0aGlzLnNlbGVjdGVkRXZlbnRzLmRlbGV0ZSgkKGVsZW1lbnQpLmRhdGEoJ2V2ZW50JykpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFtZXRhS2V5UHJlc3NlZCkge1xuICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRXZlbnRzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICQoJy51aS1zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCd1aS1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9TZWxlY3QucmVtb3ZlQ2xhc3MoJ3VpLXNlbGVjdGVkLWJ5LW1lbnUgc2VsZWN0ZWQnKS5hZGRDbGFzcygndWktc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFdmVudHMuYWRkKGl0ZW0uaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlQWRkVG9Hcm91cEZpbHRlclN0YXRlKGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbmV3U3RhdGUgPSAhdGhpcy5hZGRUb0dyb3VwRmlsdGVyU3RhdGU7XG4gICAgdGhpcy5jb25maWd1cmF0aW9uLmxvY2F0aW9uRmlsdGVyVG9nZ2xlKG5ld1N0YXRlLCAoKSA9PiB7XG4gICAgICB0aGlzLmFkZFRvR3JvdXBGaWx0ZXJTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlc2VsZWN0QWxsKCkge1xuICAgIHRoaXMuc2VsZWN0ZWRFdmVudHMuY2xlYXIoKTtcbiAgICAkKCcuZ3JvdXAtc2VsZWN0ZWQsLnNlbGVjdGVkLC51aS1zZWxlY3RlZCwuY3VycmVudE1lbnVGb2N1cycpLnJlbW92ZUNsYXNzKCdncm91cC1zZWxlY3RlZCBzZWxlY3RlZCB1aS1zZWxlY3RlZCBjdXJyZW50TWVudUZvY3VzJyk7XG4gIH1cblxuICBzZWxlY3RDZWxsKGNlbGxRdWVyeSwgYWx0S2V5UHJlc3NlZCwgbWV0YUtleVByZXNzZWQpIHtcbiAgICAvLyBJZiB3ZSBjbGlja2VkIHRoZSBlbXB0eSBjZWxsLCBvciB3ZSBkaWRuJ3QgcHJlc3MgdGhlIG1ldGEga2V5LCB3ZSBjbGVhciB0aGUgY3VycmVudCBzZWxlY3Rpb25cbiAgICBpZiAoY2VsbFF1ZXJ5Lmhhc0NsYXNzKCdlbXB0eScpIHx8ICFtZXRhS2V5UHJlc3NlZCkge1xuICAgICAgdGhpcy5zZWxlY3RlZEV2ZW50cy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNvbnN0IGdyb3VwSWQgPSBjZWxsUXVlcnkuYXR0cignZ3JvdXBpZCcpO1xuICAgIGNvbnN0IGdyb3VwID0gY2VsbFF1ZXJ5LmRhdGEoJ2dyb3VwJyk7XG5cbiAgICAvLyBBZGQgdGhlIGVudGlyZSBncm91cCBvciB0aGUgY2xpY2tlZCBldmVudCBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgYWx0IGtleSB3YXMgaGVsZFxuICAgIGlmIChjZWxsUXVlcnkuaGFzQ2xhc3MoJ2RlY29yYXRpb24nKSkge1xuICAgICAgaWYgKGFsdEtleVByZXNzZWQgJiYgIGdyb3VwSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAkKGAuJHtncm91cElkfWApLmVhY2goKF8sZWxlbWVudEluR3JvdXApID0+IHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkRXZlbnRzLmRlbGV0ZSgkKGVsZW1lbnRJbkdyb3VwKS5kYXRhKCdldmVudCcpKVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEV2ZW50cy5hZGQoZ3JvdXApO1xuICAgICAgfSBlbHNlXG4gICAgICBpZiAoZ3JvdXBJZCA9PT0gdW5kZWZpbmVkIHx8ICF0aGlzLnNlbGVjdGVkRXZlbnRzLmhhcyhncm91cCkpIHtcbiAgICAgICAgLy8gSWYgdGhlIGVudGlyZSBncm91cCBpcyBub3QgYWxyZWFkeSBzZWxlY3RlZCwgc2VsZWN0IHRoZSBldmVudFxuICAgICAgICB0aGlzLnNlbGVjdGVkRXZlbnRzLmFkZChjZWxsUXVlcnkuZGF0YSgnZXZlbnQnKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSW52b2tlZCB2aWEgYSBncmlkIHNjcmlwdCB3aGVuZXZlciBhIGNlbGwgaXMgY2xpY2tlZFxuICBvbkNlbGxDbGljayhldmVudCkge1xuICAgIGNvbnN0IGNlbGxRdWVyeSA9ICQoZXZlbnQudGFyZ2V0KTtcbiAgICBjb25zdCBhbHRLZXlQcmVzc2VkID0gZXZlbnQuYWx0S2V5O1xuICAgIGNvbnN0IG1ldGFLZXlQcmVzc2VkID0gaGFzTWV0YUtleShldmVudCk7XG5cbiAgICBpZiAoIShjZWxsUXVlcnkuaGFzQ2xhc3MoJ2RlY29yYXRpb24nKSB8fCBjZWxsUXVlcnkuaGFzQ2xhc3MoJ2VtcHR5JykpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZWxlY3RDZWxsKGNlbGxRdWVyeSwgYWx0S2V5UHJlc3NlZCwgbWV0YUtleVByZXNzZWQpO1xuXG4gICAgY29uc3QgZ3JvdXBJZCA9IGNlbGxRdWVyeS5hdHRyKCdncm91cGlkJyk7XG4gICAgLy8gVXBkYXRlIHRoZSB2aXN1YWwgc3RhdGUgb2YgdGhlIHNlbGVjdGlvbnNcbiAgICBsZXQgY2VsbHM7XG4gICAgLy8gSWYgdGhlIGFsdCBrZXkgaXMgcHJlc3NlZCwgd2Ugc2VsZWN0IG91ciBncm91cFxuICAgIGlmIChhbHRLZXlQcmVzc2VkICYmIGdyb3VwSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2VsbHMgPSAkKGAuJHtncm91cElkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjZWxscyA9IGNlbGxRdWVyeTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgY21kIG9yIGN0cmwga2V5cyBhcmUgcHJlc3NlZCwgd2UgZG8gbm90IHVuc2VsZWN0IHByZXZpb3VzIGNlbGxzXG4gICAgaWYgKCFtZXRhS2V5UHJlc3NlZCkge1xuICAgICAgJCgnLnVpLXNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ3VpLXNlbGVjdGVkJyk7XG4gICAgfVxuXG4gICAgY2VsbHMubm90KCcuZW1wdHknKS5hZGRDbGFzcygndWktc2VsZWN0ZWQnKTtcbiAgfVxuXG4gIC8vIEludm9rZWQgYnkgdGhlIGpRdWVyeSBVSSBjb25maWd1cmVkIGluIHRoZSBiYWNrZW5kXG4gIHNldExhc3NvU2VsZWN0aW9uKGV2ZW50KSB7XG4gICAgY29uc3QgbWV0YUtleVByZXNzZWQgPSBoYXNNZXRhS2V5KGV2ZW50KTtcbiAgICBpZiAoIW1ldGFLZXlQcmVzc2VkKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkRXZlbnRzLmNsZWFyKCk7XG4gICAgfVxuICAgICQoJy51aS1zZWxlY3RlZCcpXG4gICAgICAuZmlsdGVyKChfLGVsZW1lbnQpID0+ICQoZWxlbWVudCkuY3NzKCd2aXNpYmlsaXR5JykgIT09ICdoaWRkZW4nKVxuICAgICAgLmVhY2goKF8sIGVsZW1lbnQpID0+IHRoaXMuc2VsZWN0Q2VsbCgkKGVsZW1lbnQpLCBmYWxzZSwgdHJ1ZSkpO1xuICB9XG5cbiAgdXBkYXRlQWZ0ZXJDb3B5KGNhblBhc3RlLCBjYW5QYXN0ZUluR3JvdXApIHtcbiAgICB0aGlzLmNhblBhc3RlID0gY2FuUGFzdGU7XG4gICAgdGhpcy5jYW5QYXN0ZUluR3JvdXAgPSBjYW5QYXN0ZUluR3JvdXA7XG4gICAgdGhpcy5kZXNlbGVjdEFsbCgpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./CommonScripts/eventscalendar/events-calendar-contextmenu.js\n");

/***/ }),

/***/ "./CommonScripts/eventscalendar/eventscalendar-arrow-navigation.js":
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hiddenDestinations\": function() { return /* binding */ hiddenDestinations; },\n/* harmony export */   \"mouseOutOfCell\": function() { return /* binding */ mouseOutOfCell; },\n/* harmony export */   \"mouseOverCell\": function() { return /* binding */ mouseOverCell; }\n/* harmony export */ });\nvar hiddenHighlights = [];\nvar hiddenDestinations = [];\nfunction highlightHiddenCells(query, groupId) {\n  query.each(function () {\n    var id = $(this).attr('id');\n    hiddenDestinations[id] = groupId;\n    clearTimeout(hiddenHighlights[id]);\n  });\n  query.addClass('selected');\n}\nfunction unlightHiddenCells(query) {\n  query.each(function () {\n    var id = $(this).attr('id');\n    hiddenHighlights[id] = setTimeout(function () {\n      $(\"#\".concat(id)).removeClass('selected');\n      hiddenDestinations[id] = null;\n    }, 2000);\n  });\n}\nfunction showNearestOf(aQuery, viewportFilter) {\n  var y;\n  var array = aQuery.map(function () {\n    return $(this).closest('li').offset().top;\n  });\n  if (viewportFilter === ':above-the-top') y = _.max(array);else y = _.min(array);\n  aQuery.filter(function () {\n    return $(this).closest('li').offset().top === y;\n  }).show();\n}\nfunction highlightArrows(fromQuery, groupQuery, arrowQuery, numberOfRelatedEvents, viewportFilter) {\n  var myOffset = fromQuery.closest('li').offset().top;\n  var arrowfilterFunction;\n  var cellsfilterFunction;\n  if (viewportFilter === ':above-the-top') {\n    arrowfilterFunction = function arrowfilterFunction() {\n      return $(this).closest('li').offset().top <= myOffset;\n    };\n    cellsfilterFunction = function cellsfilterFunction() {\n      return $(this).closest('li').offset().top < myOffset;\n    };\n  } else {\n    arrowfilterFunction = function arrowfilterFunction() {\n      return $(this).closest('li').offset().top >= myOffset;\n    };\n    cellsfilterFunction = function cellsfilterFunction() {\n      return $(this).closest('li').offset().top > myOffset;\n    };\n  }\n  if (numberOfRelatedEvents === 0) {\n    if (groupQuery.filter(viewportFilter).length > 0) showNearestOf(arrowQuery.filter(arrowfilterFunction), viewportFilter);\n  } else if (groupQuery.filter(cellsfilterFunction).length !== numberOfRelatedEvents) showNearestOf(arrowQuery.filter(arrowfilterFunction), viewportFilter);else if (groupQuery.filter(viewportFilter).length > 0) showNearestOf(arrowQuery.filter(arrowfilterFunction), viewportFilter);\n}\n\n/* When the mouse is hovered over a cell, we need to select the entire group and production.\nThe arrows should be shown as well when the event has a group */\nfunction mouseOverCell(aCellQuery) {\n  var groupId = aCellQuery.attr('groupid');\n\n  // must stop handling when we are hovering over a composite cell's droplist in unexpanded view because otherwise we highlight strange things\n  if (aCellQuery.parent().closest('.decoration').length !== 0 && $('#calendar').hasClass('collapsed')) return;\n  if (groupId !== undefined) {\n    var productionId = aCellQuery.attr('productionid');\n    var groupQuery = $(\".\".concat(groupId));\n    var productionQuery = $(\".\".concat(productionId));\n    var arrowQuery = $(\".\".concat(aCellQuery.attr('arrowquery')));\n    var earlierEventsSize = aCellQuery.data('earlierevents');\n    var laterEventsSize = aCellQuery.data('laterevents');\n    groupQuery.not('.hiddencell').addClass('group-selected');\n    productionQuery.not('.hiddencell').addClass('selected');\n    highlightHiddenCells(groupQuery.filter('.hiddenCell'), groupId);\n    if (earlierEventsSize !== 0) highlightArrows(aCellQuery, groupQuery, arrowQuery.filter('.sooner'), earlierEventsSize, ':above-the-top');\n    if (laterEventsSize !== 0) highlightArrows(aCellQuery, groupQuery, arrowQuery.filter('.later'), laterEventsSize, ':below-the-fold');\n  } else {\n    aCellQuery.addClass('group-selected selected');\n  }\n}\n\n/* When the mouse is removed from the cell, we need to unselect the entire group, except if we opened the menu.\nAn opened schedule or summary window should also be closed at this time (if it was not pinned). */\nfunction mouseOutOfCell(aCellQuery) {\n  var groupId = aCellQuery.attr('groupid');\n  var productionId = aCellQuery.attr('productionid');\n  var eventScheduleQuery = $(\"#\".concat(aCellQuery.attr('schedulebubble')));\n  var eventSummaryQuery = $(\"#\".concat(aCellQuery.attr('summarybubble')));\n  if (groupId !== undefined) {\n    var groupQuery = $(\".\".concat(groupId));\n    var productionQuery = $(\".\".concat(productionId));\n    var arrowQuery = $(\".\".concat(aCellQuery.attr('arrowquery')));\n    if (aCellQuery.get(0) != $('.currentMenuFocus').get(0)) {\n      groupQuery.not('.hiddenCell').removeClass('group-selected');\n      productionQuery.removeClass('selected');\n      unlightHiddenCells(groupQuery.filter('.hiddenCell'));\n    }\n    arrowQuery.hide();\n  } else {\n    aCellQuery.removeClass('group-selected selected');\n  }\n\n  // When leaving the cell, always close all the non-pinned bubbles\n  setTimeout(function () {\n    eventScheduleQuery.not('.pinned').not('.mousehovering').fadeOut('fast');\n    eventSummaryQuery.not('.pinned').not('.mousehovering').fadeOut('fast');\n  }, 300);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Db21tb25TY3JpcHRzL2V2ZW50c2NhbGVuZGFyL2V2ZW50c2NhbGVuZGFyLWFycm93LW5hdmlnYXRpb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBSUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQVFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUmVhY3RDb21wb25lbnRzXy8uL0NvbW1vblNjcmlwdHMvZXZlbnRzY2FsZW5kYXIvZXZlbnRzY2FsZW5kYXItYXJyb3ctbmF2aWdhdGlvbi5qcz9hMTFlIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGhpZGRlbkhpZ2hsaWdodHMgPSBbXTtcbmV4cG9ydCBjb25zdCBoaWRkZW5EZXN0aW5hdGlvbnMgPSBbXTtcblxuZnVuY3Rpb24gaGlnaGxpZ2h0SGlkZGVuQ2VsbHMocXVlcnksIGdyb3VwSWQpIHtcbiAgcXVlcnkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gICAgaGlkZGVuRGVzdGluYXRpb25zW2lkXSA9IGdyb3VwSWQ7XG4gICAgY2xlYXJUaW1lb3V0KGhpZGRlbkhpZ2hsaWdodHNbaWRdKTtcbiAgfSk7XG4gIHF1ZXJ5LmFkZENsYXNzKCdzZWxlY3RlZCcpO1xufVxuXG5mdW5jdGlvbiB1bmxpZ2h0SGlkZGVuQ2VsbHMocXVlcnkpIHtcbiAgcXVlcnkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gICAgaGlkZGVuSGlnaGxpZ2h0c1tpZF0gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICQoYCMke2lkfWApLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgaGlkZGVuRGVzdGluYXRpb25zW2lkXSA9IG51bGw7XG4gICAgfSwgMjAwMCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzaG93TmVhcmVzdE9mKGFRdWVyeSwgdmlld3BvcnRGaWx0ZXIpIHtcbiAgbGV0IHk7XG4gIGNvbnN0IGFycmF5ID0gYVF1ZXJ5Lm1hcChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICQodGhpcykuY2xvc2VzdCgnbGknKS5vZmZzZXQoKS50b3A7XG4gIH0pO1xuXG4gIGlmICh2aWV3cG9ydEZpbHRlciA9PT0gJzphYm92ZS10aGUtdG9wJykgeSA9IF8ubWF4KGFycmF5KTtcbiAgZWxzZSB5ID0gXy5taW4oYXJyYXkpO1xuICBhUXVlcnlcbiAgICAuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkKHRoaXMpLmNsb3Nlc3QoJ2xpJykub2Zmc2V0KCkudG9wID09PSB5O1xuICAgIH0pXG4gICAgLnNob3coKTtcbn1cblxuZnVuY3Rpb24gaGlnaGxpZ2h0QXJyb3dzKGZyb21RdWVyeSwgZ3JvdXBRdWVyeSwgYXJyb3dRdWVyeSwgbnVtYmVyT2ZSZWxhdGVkRXZlbnRzLCB2aWV3cG9ydEZpbHRlcikge1xuICBjb25zdCBteU9mZnNldCA9IGZyb21RdWVyeS5jbG9zZXN0KCdsaScpLm9mZnNldCgpLnRvcDtcbiAgbGV0IGFycm93ZmlsdGVyRnVuY3Rpb247XG4gIGxldCBjZWxsc2ZpbHRlckZ1bmN0aW9uO1xuXG4gIGlmICh2aWV3cG9ydEZpbHRlciA9PT0gJzphYm92ZS10aGUtdG9wJykge1xuICAgIGFycm93ZmlsdGVyRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJCh0aGlzKS5jbG9zZXN0KCdsaScpLm9mZnNldCgpLnRvcCA8PSBteU9mZnNldDtcbiAgICB9O1xuICAgIGNlbGxzZmlsdGVyRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJCh0aGlzKS5jbG9zZXN0KCdsaScpLm9mZnNldCgpLnRvcCA8IG15T2Zmc2V0O1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgYXJyb3dmaWx0ZXJGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkKHRoaXMpLmNsb3Nlc3QoJ2xpJykub2Zmc2V0KCkudG9wID49IG15T2Zmc2V0O1xuICAgIH07XG4gICAgY2VsbHNmaWx0ZXJGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkKHRoaXMpLmNsb3Nlc3QoJ2xpJykub2Zmc2V0KCkudG9wID4gbXlPZmZzZXQ7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChudW1iZXJPZlJlbGF0ZWRFdmVudHMgPT09IDApIHtcbiAgICBpZiAoZ3JvdXBRdWVyeS5maWx0ZXIodmlld3BvcnRGaWx0ZXIpLmxlbmd0aCA+IDApXG4gICAgICBzaG93TmVhcmVzdE9mKGFycm93UXVlcnkuZmlsdGVyKGFycm93ZmlsdGVyRnVuY3Rpb24pLCB2aWV3cG9ydEZpbHRlcik7XG4gIH0gZWxzZSBpZiAoZ3JvdXBRdWVyeS5maWx0ZXIoY2VsbHNmaWx0ZXJGdW5jdGlvbikubGVuZ3RoICE9PSBudW1iZXJPZlJlbGF0ZWRFdmVudHMpXG4gICAgc2hvd05lYXJlc3RPZihhcnJvd1F1ZXJ5LmZpbHRlcihhcnJvd2ZpbHRlckZ1bmN0aW9uKSwgdmlld3BvcnRGaWx0ZXIpO1xuICBlbHNlIGlmIChncm91cFF1ZXJ5LmZpbHRlcih2aWV3cG9ydEZpbHRlcikubGVuZ3RoID4gMClcbiAgICBzaG93TmVhcmVzdE9mKGFycm93UXVlcnkuZmlsdGVyKGFycm93ZmlsdGVyRnVuY3Rpb24pLCB2aWV3cG9ydEZpbHRlcik7XG59XG5cbi8qIFdoZW4gdGhlIG1vdXNlIGlzIGhvdmVyZWQgb3ZlciBhIGNlbGwsIHdlIG5lZWQgdG8gc2VsZWN0IHRoZSBlbnRpcmUgZ3JvdXAgYW5kIHByb2R1Y3Rpb24uXG5UaGUgYXJyb3dzIHNob3VsZCBiZSBzaG93biBhcyB3ZWxsIHdoZW4gdGhlIGV2ZW50IGhhcyBhIGdyb3VwICovXG5leHBvcnQgZnVuY3Rpb24gbW91c2VPdmVyQ2VsbChhQ2VsbFF1ZXJ5KSB7XG4gIGNvbnN0IGdyb3VwSWQgPSBhQ2VsbFF1ZXJ5LmF0dHIoJ2dyb3VwaWQnKTtcblxuICAvLyBtdXN0IHN0b3AgaGFuZGxpbmcgd2hlbiB3ZSBhcmUgaG92ZXJpbmcgb3ZlciBhIGNvbXBvc2l0ZSBjZWxsJ3MgZHJvcGxpc3QgaW4gdW5leHBhbmRlZCB2aWV3IGJlY2F1c2Ugb3RoZXJ3aXNlIHdlIGhpZ2hsaWdodCBzdHJhbmdlIHRoaW5nc1xuICBpZiAoXG4gICAgYUNlbGxRdWVyeS5wYXJlbnQoKS5jbG9zZXN0KCcuZGVjb3JhdGlvbicpLmxlbmd0aCAhPT0gMCAmJlxuICAgICQoJyNjYWxlbmRhcicpLmhhc0NsYXNzKCdjb2xsYXBzZWQnKVxuICApXG4gICAgcmV0dXJuO1xuXG4gIGlmIChncm91cElkICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBwcm9kdWN0aW9uSWQgPSBhQ2VsbFF1ZXJ5LmF0dHIoJ3Byb2R1Y3Rpb25pZCcpO1xuICAgIGNvbnN0IGdyb3VwUXVlcnkgPSAkKGAuJHtncm91cElkfWApO1xuICAgIGNvbnN0IHByb2R1Y3Rpb25RdWVyeSA9ICQoYC4ke3Byb2R1Y3Rpb25JZH1gKTtcbiAgICBjb25zdCBhcnJvd1F1ZXJ5ID0gJChgLiR7YUNlbGxRdWVyeS5hdHRyKCdhcnJvd3F1ZXJ5Jyl9YCk7XG4gICAgY29uc3QgZWFybGllckV2ZW50c1NpemUgPSBhQ2VsbFF1ZXJ5LmRhdGEoJ2VhcmxpZXJldmVudHMnKTtcbiAgICBjb25zdCBsYXRlckV2ZW50c1NpemUgPSBhQ2VsbFF1ZXJ5LmRhdGEoJ2xhdGVyZXZlbnRzJyk7XG5cbiAgICBncm91cFF1ZXJ5Lm5vdCgnLmhpZGRlbmNlbGwnKS5hZGRDbGFzcygnZ3JvdXAtc2VsZWN0ZWQnKTtcbiAgICBwcm9kdWN0aW9uUXVlcnkubm90KCcuaGlkZGVuY2VsbCcpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgIGhpZ2hsaWdodEhpZGRlbkNlbGxzKGdyb3VwUXVlcnkuZmlsdGVyKCcuaGlkZGVuQ2VsbCcpLCBncm91cElkKTtcbiAgICBpZiAoZWFybGllckV2ZW50c1NpemUgIT09IDApXG4gICAgICBoaWdobGlnaHRBcnJvd3MoXG4gICAgICAgIGFDZWxsUXVlcnksXG4gICAgICAgIGdyb3VwUXVlcnksXG4gICAgICAgIGFycm93UXVlcnkuZmlsdGVyKCcuc29vbmVyJyksXG4gICAgICAgIGVhcmxpZXJFdmVudHNTaXplLFxuICAgICAgICAnOmFib3ZlLXRoZS10b3AnXG4gICAgICApO1xuICAgIGlmIChsYXRlckV2ZW50c1NpemUgIT09IDApXG4gICAgICBoaWdobGlnaHRBcnJvd3MoXG4gICAgICAgIGFDZWxsUXVlcnksXG4gICAgICAgIGdyb3VwUXVlcnksXG4gICAgICAgIGFycm93UXVlcnkuZmlsdGVyKCcubGF0ZXInKSxcbiAgICAgICAgbGF0ZXJFdmVudHNTaXplLFxuICAgICAgICAnOmJlbG93LXRoZS1mb2xkJ1xuICAgICAgKTtcbiAgfSBlbHNlIHtcbiAgICBhQ2VsbFF1ZXJ5LmFkZENsYXNzKCdncm91cC1zZWxlY3RlZCBzZWxlY3RlZCcpO1xuICB9XG59XG5cbi8qIFdoZW4gdGhlIG1vdXNlIGlzIHJlbW92ZWQgZnJvbSB0aGUgY2VsbCwgd2UgbmVlZCB0byB1bnNlbGVjdCB0aGUgZW50aXJlIGdyb3VwLCBleGNlcHQgaWYgd2Ugb3BlbmVkIHRoZSBtZW51LlxuQW4gb3BlbmVkIHNjaGVkdWxlIG9yIHN1bW1hcnkgd2luZG93IHNob3VsZCBhbHNvIGJlIGNsb3NlZCBhdCB0aGlzIHRpbWUgKGlmIGl0IHdhcyBub3QgcGlubmVkKS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3VzZU91dE9mQ2VsbChhQ2VsbFF1ZXJ5KSB7XG4gIGNvbnN0IGdyb3VwSWQgPSBhQ2VsbFF1ZXJ5LmF0dHIoJ2dyb3VwaWQnKTtcbiAgY29uc3QgcHJvZHVjdGlvbklkID0gYUNlbGxRdWVyeS5hdHRyKCdwcm9kdWN0aW9uaWQnKTtcblxuICBjb25zdCBldmVudFNjaGVkdWxlUXVlcnkgPSAkKGAjJHthQ2VsbFF1ZXJ5LmF0dHIoJ3NjaGVkdWxlYnViYmxlJyl9YCk7XG4gIGNvbnN0IGV2ZW50U3VtbWFyeVF1ZXJ5ID0gJChgIyR7YUNlbGxRdWVyeS5hdHRyKCdzdW1tYXJ5YnViYmxlJyl9YCk7XG5cbiAgaWYgKGdyb3VwSWQgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGdyb3VwUXVlcnkgPSAkKGAuJHtncm91cElkfWApO1xuICAgIGNvbnN0IHByb2R1Y3Rpb25RdWVyeSA9ICQoYC4ke3Byb2R1Y3Rpb25JZH1gKTtcbiAgICBjb25zdCBhcnJvd1F1ZXJ5ID0gJChgLiR7YUNlbGxRdWVyeS5hdHRyKCdhcnJvd3F1ZXJ5Jyl9YCk7XG5cbiAgICBpZiAoYUNlbGxRdWVyeS5nZXQoMCkgIT0gJCgnLmN1cnJlbnRNZW51Rm9jdXMnKS5nZXQoMCkpIHtcbiAgICAgIGdyb3VwUXVlcnkubm90KCcuaGlkZGVuQ2VsbCcpLnJlbW92ZUNsYXNzKCdncm91cC1zZWxlY3RlZCcpO1xuICAgICAgcHJvZHVjdGlvblF1ZXJ5LnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgdW5saWdodEhpZGRlbkNlbGxzKGdyb3VwUXVlcnkuZmlsdGVyKCcuaGlkZGVuQ2VsbCcpKTtcbiAgICB9XG4gICAgYXJyb3dRdWVyeS5oaWRlKCk7XG4gIH0gZWxzZSB7XG4gICAgYUNlbGxRdWVyeS5yZW1vdmVDbGFzcygnZ3JvdXAtc2VsZWN0ZWQgc2VsZWN0ZWQnKTtcbiAgfVxuXG4gIC8vIFdoZW4gbGVhdmluZyB0aGUgY2VsbCwgYWx3YXlzIGNsb3NlIGFsbCB0aGUgbm9uLXBpbm5lZCBidWJibGVzXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGV2ZW50U2NoZWR1bGVRdWVyeS5ub3QoJy5waW5uZWQnKS5ub3QoJy5tb3VzZWhvdmVyaW5nJykuZmFkZU91dCgnZmFzdCcpO1xuICAgIGV2ZW50U3VtbWFyeVF1ZXJ5Lm5vdCgnLnBpbm5lZCcpLm5vdCgnLm1vdXNlaG92ZXJpbmcnKS5mYWRlT3V0KCdmYXN0Jyk7XG4gIH0sIDMwMCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./CommonScripts/eventscalendar/eventscalendar-arrow-navigation.js\n");

/***/ }),

/***/ "./CommonScripts/eventscalendar/eventscalendar-availabilitytool.js":
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"installExclusiveResourcePopoverHandlers\": function() { return /* binding */ installExclusiveResourcePopoverHandlers; }\n/* harmony export */ });\nfunction installExclusiveResourcePopoverHandlers() {\n  $('body').on('mouseenter', '.availabilityslot-resourceconflict', function () {\n    showExclusiveResourcePopover(this);\n  });\n  $('body').on('mouseleave', '.availabilityslot-resourceconflict', hideExclusiveResourcePopover);\n}\nfunction showExclusiveResourcePopover(span) {\n  var timeDiv = $(span).parent();\n  var itemRow = $(span).closest('.slot-time');\n  var container = $(span).closest('.availability-results');\n  var popover = itemRow.find(\".popover\".concat(timeDiv.attr('class').indexOf('slot-row-1') > -1 ? '.popover-before' : '.popover-after'));\n  var offsetContainer = container.offset();\n  var offsetParent = timeDiv.offset();\n  var offsetRow = itemRow.offset();\n  var popoverHeight = popover.show().outerHeight();\n  var top;\n  if (Math.abs(offsetContainer.top - offsetParent.top) < popoverHeight + 10) {\n    popover.addClass('top-center');\n    top = offsetParent.top + timeDiv.outerHeight() + 3;\n  } else {\n    popover.addClass('bottom-center');\n    top = offsetParent.top - (popoverHeight + 6);\n  }\n  popover.css({\n    top: top - offsetRow.top,\n    left: itemRow.width() / 2 - popover.width() / 2\n  });\n}\nfunction hideExclusiveResourcePopover() {\n  var popover = $('#availabilityPanel-results .popover');\n  popover.removeClass('top-center').removeClass('bottom-center');\n  popover.css({\n    top: 0,\n    left: 0\n  });\n  popover.hide();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Db21tb25TY3JpcHRzL2V2ZW50c2NhbGVuZGFyL2V2ZW50c2NhbGVuZGFyLWF2YWlsYWJpbGl0eXRvb2wuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUmVhY3RDb21wb25lbnRzXy8uL0NvbW1vblNjcmlwdHMvZXZlbnRzY2FsZW5kYXIvZXZlbnRzY2FsZW5kYXItYXZhaWxhYmlsaXR5dG9vbC5qcz80NTE2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpbnN0YWxsRXhjbHVzaXZlUmVzb3VyY2VQb3BvdmVySGFuZGxlcnMoKSB7XG4gICQoJ2JvZHknKS5vbignbW91c2VlbnRlcicsICcuYXZhaWxhYmlsaXR5c2xvdC1yZXNvdXJjZWNvbmZsaWN0JywgZnVuY3Rpb24gKCkge1xuICAgIHNob3dFeGNsdXNpdmVSZXNvdXJjZVBvcG92ZXIodGhpcyk7XG4gIH0pO1xuICAkKCdib2R5Jykub24oJ21vdXNlbGVhdmUnLCAnLmF2YWlsYWJpbGl0eXNsb3QtcmVzb3VyY2Vjb25mbGljdCcsIGhpZGVFeGNsdXNpdmVSZXNvdXJjZVBvcG92ZXIpO1xufVxuXG5mdW5jdGlvbiBzaG93RXhjbHVzaXZlUmVzb3VyY2VQb3BvdmVyKHNwYW4pIHtcbiAgY29uc3QgdGltZURpdiA9ICQoc3BhbikucGFyZW50KCk7XG4gIGNvbnN0IGl0ZW1Sb3cgPSAkKHNwYW4pLmNsb3Nlc3QoJy5zbG90LXRpbWUnKTtcbiAgY29uc3QgY29udGFpbmVyID0gJChzcGFuKS5jbG9zZXN0KCcuYXZhaWxhYmlsaXR5LXJlc3VsdHMnKTtcbiAgY29uc3QgcG9wb3ZlciA9IGl0ZW1Sb3cuZmluZChcbiAgICBgLnBvcG92ZXIke1xuICAgICAgdGltZURpdi5hdHRyKCdjbGFzcycpLmluZGV4T2YoJ3Nsb3Qtcm93LTEnKSA+IC0xID8gJy5wb3BvdmVyLWJlZm9yZScgOiAnLnBvcG92ZXItYWZ0ZXInXG4gICAgfWBcbiAgKTtcbiAgY29uc3Qgb2Zmc2V0Q29udGFpbmVyID0gY29udGFpbmVyLm9mZnNldCgpO1xuICBjb25zdCBvZmZzZXRQYXJlbnQgPSB0aW1lRGl2Lm9mZnNldCgpO1xuICBjb25zdCBvZmZzZXRSb3cgPSBpdGVtUm93Lm9mZnNldCgpO1xuICBjb25zdCBwb3BvdmVySGVpZ2h0ID0gcG9wb3Zlci5zaG93KCkub3V0ZXJIZWlnaHQoKTtcbiAgbGV0IHRvcDtcbiAgaWYgKE1hdGguYWJzKG9mZnNldENvbnRhaW5lci50b3AgLSBvZmZzZXRQYXJlbnQudG9wKSA8IHBvcG92ZXJIZWlnaHQgKyAxMCkge1xuICAgIHBvcG92ZXIuYWRkQ2xhc3MoJ3RvcC1jZW50ZXInKTtcbiAgICB0b3AgPSBvZmZzZXRQYXJlbnQudG9wICsgdGltZURpdi5vdXRlckhlaWdodCgpICsgMztcbiAgfSBlbHNlIHtcbiAgICBwb3BvdmVyLmFkZENsYXNzKCdib3R0b20tY2VudGVyJyk7XG4gICAgdG9wID0gb2Zmc2V0UGFyZW50LnRvcCAtIChwb3BvdmVySGVpZ2h0ICsgNik7XG4gIH1cbiAgcG9wb3Zlci5jc3Moe1xuICAgIHRvcDogdG9wIC0gb2Zmc2V0Um93LnRvcCxcbiAgICBsZWZ0OiBpdGVtUm93LndpZHRoKCkgLyAyIC0gcG9wb3Zlci53aWR0aCgpIC8gMlxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGlkZUV4Y2x1c2l2ZVJlc291cmNlUG9wb3ZlcigpIHtcbiAgY29uc3QgcG9wb3ZlciA9ICQoJyNhdmFpbGFiaWxpdHlQYW5lbC1yZXN1bHRzIC5wb3BvdmVyJyk7XG4gIHBvcG92ZXIucmVtb3ZlQ2xhc3MoJ3RvcC1jZW50ZXInKS5yZW1vdmVDbGFzcygnYm90dG9tLWNlbnRlcicpO1xuICBwb3BvdmVyLmNzcyh7XG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDBcbiAgfSk7XG4gIHBvcG92ZXIuaGlkZSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./CommonScripts/eventscalendar/eventscalendar-availabilitytool.js\n");

/***/ }),

/***/ "./CommonScripts/eventscalendar/eventscalendar-timetableeditor.js":
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"closeTimeTableEntryEditorMiniPopover\": function() { return /* binding */ closeTimeTableEntryEditorMiniPopover; },\n/* harmony export */   \"openTimeTableEntryEditorMiniPopover\": function() { return /* binding */ openTimeTableEntryEditorMiniPopover; }\n/* harmony export */ });\n/* Script to open and position a mini-popover in the timetable entry editor */\nfunction openTimeTableEntryEditorMiniPopover(popoverID, relativeToID, alwaysOpenOnLeft) {\n  var popover = $(\"#\".concat(popoverID));\n  var relativeTo = $(\"#\".concat(relativeToID));\n  var relativeToOffset = relativeTo.offset();\n  var parentClass;\n  var popoverClass;\n\n  // If we would fall outside of the window on the right, then put the popover on the left\n  if (alwaysOpenOnLeft || relativeToOffset.left + relativeTo.width() + popover.width() > window.innerWidth) {\n    parentClass = 'mini-popover-container-pop-left-down';\n    popoverClass = 'right';\n  } else {\n    parentClass = 'mini-popover-container-pop-right-down';\n    popoverClass = 'left';\n  }\n  popover.addClass(popoverClass);\n  popover.parent().addClass(parentClass);\n  popover.show();\n}\n\n/* Script to close a mini-popover in the timetable entry editor */\nfunction closeTimeTableEntryEditorMiniPopover(popoverID) {\n  var popover = $(\"#\".concat(popoverID));\n  popover.parent().removeClass('mini-popover-container-pop-right-down mini-popover-container-pop-left-down');\n  popover.remove();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Db21tb25TY3JpcHRzL2V2ZW50c2NhbGVuZGFyL2V2ZW50c2NhbGVuZGFyLXRpbWV0YWJsZWVkaXRvci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SZWFjdENvbXBvbmVudHNfLy4vQ29tbW9uU2NyaXB0cy9ldmVudHNjYWxlbmRhci9ldmVudHNjYWxlbmRhci10aW1ldGFibGVlZGl0b3IuanM/MTllMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBTY3JpcHQgdG8gb3BlbiBhbmQgcG9zaXRpb24gYSBtaW5pLXBvcG92ZXIgaW4gdGhlIHRpbWV0YWJsZSBlbnRyeSBlZGl0b3IgKi9cbmV4cG9ydCBmdW5jdGlvbiBvcGVuVGltZVRhYmxlRW50cnlFZGl0b3JNaW5pUG9wb3Zlcihwb3BvdmVySUQsIHJlbGF0aXZlVG9JRCwgYWx3YXlzT3Blbk9uTGVmdCkge1xuICBjb25zdCBwb3BvdmVyID0gJChgIyR7cG9wb3ZlcklEfWApO1xuICBjb25zdCByZWxhdGl2ZVRvID0gJChgIyR7cmVsYXRpdmVUb0lEfWApO1xuICBjb25zdCByZWxhdGl2ZVRvT2Zmc2V0ID0gcmVsYXRpdmVUby5vZmZzZXQoKTtcbiAgbGV0IHBhcmVudENsYXNzO1xuICBsZXQgcG9wb3ZlckNsYXNzO1xuXG4gIC8vIElmIHdlIHdvdWxkIGZhbGwgb3V0c2lkZSBvZiB0aGUgd2luZG93IG9uIHRoZSByaWdodCwgdGhlbiBwdXQgdGhlIHBvcG92ZXIgb24gdGhlIGxlZnRcbiAgaWYgKFxuICAgIGFsd2F5c09wZW5PbkxlZnQgfHxcbiAgICByZWxhdGl2ZVRvT2Zmc2V0LmxlZnQgKyByZWxhdGl2ZVRvLndpZHRoKCkgKyBwb3BvdmVyLndpZHRoKCkgPiB3aW5kb3cuaW5uZXJXaWR0aFxuICApIHtcbiAgICBwYXJlbnRDbGFzcyA9ICdtaW5pLXBvcG92ZXItY29udGFpbmVyLXBvcC1sZWZ0LWRvd24nO1xuICAgIHBvcG92ZXJDbGFzcyA9ICdyaWdodCc7XG4gIH0gZWxzZSB7XG4gICAgcGFyZW50Q2xhc3MgPSAnbWluaS1wb3BvdmVyLWNvbnRhaW5lci1wb3AtcmlnaHQtZG93bic7XG4gICAgcG9wb3ZlckNsYXNzID0gJ2xlZnQnO1xuICB9XG5cbiAgcG9wb3Zlci5hZGRDbGFzcyhwb3BvdmVyQ2xhc3MpO1xuICBwb3BvdmVyLnBhcmVudCgpLmFkZENsYXNzKHBhcmVudENsYXNzKTtcbiAgcG9wb3Zlci5zaG93KCk7XG59XG5cbi8qIFNjcmlwdCB0byBjbG9zZSBhIG1pbmktcG9wb3ZlciBpbiB0aGUgdGltZXRhYmxlIGVudHJ5IGVkaXRvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlVGltZVRhYmxlRW50cnlFZGl0b3JNaW5pUG9wb3Zlcihwb3BvdmVySUQpIHtcbiAgY29uc3QgcG9wb3ZlciA9ICQoYCMke3BvcG92ZXJJRH1gKTtcbiAgcG9wb3ZlclxuICAgIC5wYXJlbnQoKVxuICAgIC5yZW1vdmVDbGFzcygnbWluaS1wb3BvdmVyLWNvbnRhaW5lci1wb3AtcmlnaHQtZG93biBtaW5pLXBvcG92ZXItY29udGFpbmVyLXBvcC1sZWZ0LWRvd24nKTtcbiAgcG9wb3Zlci5yZW1vdmUoKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./CommonScripts/eventscalendar/eventscalendar-timetableeditor.js\n");

/***/ }),

/***/ "./CommonScripts/eventscalendar/eventscalendar-ui-control.js":
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fixEventRows\": function() { return /* binding */ fixEventRows; },\n/* harmony export */   \"openCalendarUnavailabilityBubble\": function() { return /* binding */ openCalendarUnavailabilityBubble; },\n/* harmony export */   \"performCellDisablement\": function() { return /* binding */ performCellDisablement; },\n/* harmony export */   \"registerScrollUpdateInCalendar\": function() { return /* binding */ registerScrollUpdateInCalendar; },\n/* harmony export */   \"setActiveStyleSheet\": function() { return /* binding */ setActiveStyleSheet; },\n/* harmony export */   \"setStyleSheet\": function() { return /* binding */ setStyleSheet; },\n/* harmony export */   \"toggleCorrespondingSummaryBubbleLock\": function() { return /* binding */ toggleCorrespondingSummaryBubbleLock; },\n/* harmony export */   \"toggleEventStatusLock\": function() { return /* binding */ toggleEventStatusLock; },\n/* harmony export */   \"toggleEventStatusLockFromBubble\": function() { return /* binding */ toggleEventStatusLockFromBubble; },\n/* harmony export */   \"toggleGroupLock\": function() { return /* binding */ toggleGroupLock; }\n/* harmony export */ });\n/* harmony import */ var _sharedscripts_sharedscripts_bubbles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./CommonScripts/sharedscripts/sharedscripts-bubbles.js\");\n/* harmony import */ var _sharedscripts_sharedscripts_npcommon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./CommonScripts/sharedscripts/sharedscripts-npcommon.js\");\n\n\n\n/* Style sheet switching */\nfunction getActiveStyleSheet() {\n  var i;\n  var a;\n  for (i = 0; a = document.getElementsByTagName('link')[i]; i++) {\n    if (a.getAttribute('rel').indexOf('style') !== -1 && a.getAttribute('title') && !a.disabled) return a.getAttribute('title');\n  }\n  return null;\n}\nfunction setActiveStyleSheet(name) {\n  var i;\n  var a;\n  for (i = 0; a = document.getElementsByTagName('link')[i]; i++) {\n    if (a.getAttribute('rel').indexOf('style') !== -1 && a.getAttribute('title')) {\n      a.disabled = true;\n      if (a.getAttribute('title') === name) a.disabled = false;\n    }\n  }\n}\nfunction setStyleSheet(name) {\n  $(\"a[dev-stylesheet='\".concat(getActiveStyleSheet(), \"']\")).removeClass('active');\n  setActiveStyleSheet(name);\n  $(\"a[dev-stylesheet='\".concat(name, \"']\")).addClass('active');\n}\n\n// Scripts to control the scrolling of the column headers and date columns\nfunction registerScrollUpdateInCalendar(addMenuDivId) {\n  var datesElement = $('.dates');\n  var locationmenuElement = $(\"#\".concat(addMenuDivId));\n  var resourcesElement = $('#calendar ul li h1');\n  var teamstatsElement = $('.tp-stats');\n  datesElement.css('margin-top', -(window.scrollY + 40));\n  resourcesElement.css('margin-left', -(window.scrollX - 2));\n  teamstatsElement.css('margin-left', -(window.scrollX - 100));\n  function update() {\n    locationmenuElement.css('margin-top', window.scrollY);\n    teamstatsElement.css('margin-left', -(window.scrollX - 100));\n    datesElement.css('margin-top', -(window.scrollY + 40));\n    resourcesElement.css('margin-left', -(window.scrollX - 2));\n  }\n  $(window).off('scroll.scrollupdate').on('scroll.scrollupdate', null, null, update);\n}\nfunction openCalendarUnavailabilityBubble(bubbleId, refId, exclusiveWithId, closingId, leftxoffset, rightxoffset, topyoffset, bottomyoffset) {\n  // Open the bubble and afterwards set the focus on the first input\n  (0,_sharedscripts_sharedscripts_bubbles__WEBPACK_IMPORTED_MODULE_0__.openInfoBubble)(bubbleId, refId, exclusiveWithId, closingId, leftxoffset, rightxoffset, topyoffset, bottomyoffset);\n  $(bubbleId).find('input.input-time').first().focus().trigger('select');\n}\n\n/* Function to set the correct css classes for the height of an entire expanded row in the events calendar */\nfunction fixEventRows() {\n  var size = $('.dates ol li').length;\n  var _loop = function _loop(i) {\n    var max = 0;\n    // get all cells on the same row (in the collapsed view). make sure not to select the cells in the dropdown list\n    var all = $(\"#cal>li>ol>li:nth-of-type(\".concat(i, \")\")).not('#cal>li>ol>li>ol>li');\n    all.each(function () {\n      if ($(this).attr('eventcells')) max = Math.max(max, $(this).attr('eventcells'));\n    });\n    // remove all existing expanded-* classnames\n    all.each(function () {\n      $(this)[0].className = $(this)[0].className.replace(/\\bexpanded-.*?\\b/g, '');\n    });\n    // if we have a max>0, then add the expanded-* classname\n    if (max !== 0) all.addClass(\"expanded-\".concat(max));\n  };\n  for (var i = 1; i <= size; i++) {\n    _loop(i);\n  }\n}\n\n// Replacing a cell in the calendar should take note of possible concurrent actions by the user. At this time, we only cope with opening the context menu\njQuery.fn.replaceCell = function (html) {\n  return this.each(function () {\n    var element = $(this);\n    var replacement = $(html);\n    var isCurrent = element.hasClass('currentMenuFocus');\n    if (isCurrent) replacement.addClass('currentMenuFocus');\n    element.replaceWith(replacement);\n  });\n};\n\n/* Cell disablement */\nfunction performCellDisablement(event, cellQuery) {\n  var cells;\n  // Remove the disabled state of the selected cells if we are not doing a multiple select\n  if (!(0,_sharedscripts_sharedscripts_npcommon__WEBPACK_IMPORTED_MODULE_1__.hasMetaKey)(event) && !(event.which === 3 && $(event.target).hasClass('disabled'))) $('li.ui-selected').removeClass('disabled');\n\n  // If we are selecting the entire group, then check if there is an actual lock in that group and if so, indicate that visually\n  if (event.altKey && cellQuery.attr('groupid') !== undefined) {\n    cells = $(\".\".concat(cellQuery.attr('groupid')));\n    if (cells.find('.dev-group-lock--actual').length > 0) cells.addClass('disabled');\n  }\n}\n\n/* Function to toggle an event status lock */\n/* This function not only toggles the unlocked class name, but also updates the permissions of the cell to indicate that it was unlocked */\nfunction toggleEventStatusLock(lock) {\n  var targetPermissions = $(lock).closest('li').data('permissions');\n  if (lock.hasClass('unlocked')) lock.removeClass('unlocked').closest('li').removeClass('unlocked').data('permissions', targetPermissions.replace('l', ''));else lock.addClass('unlocked').closest('li').addClass('unlocked').data('permissions', \"\".concat(targetPermissions, \"l\"));\n}\n\n/* Function to toggle a group lock */\n/* This function not only toggles the unlocked class name, but also updates the permissions of the cell to indicate that it was unlocked */\nfunction toggleGroupLock(lock) {\n  var targetPermissions = $(lock).closest('.projectname').data('permissions');\n  if (lock.hasClass('group-lock--open')) lock.removeClass('group-lock--open').closest('.projectname').data('permissions', targetPermissions.replace('l', ''));else lock.addClass('group-lock--open').closest('.projectname').data('permissions', \"\".concat(targetPermissions, \"l\"));\n}\nfunction toggleCorrespondingSummaryBubbleLock(cellLock) {\n  var summaryID = $(cellLock).closest('li').attr('summarybubble');\n  var bubble = $(\"#\".concat(summaryID));\n  var lock = bubble.find('.lock-toggle');\n  var editableFields = [bubble.find('.location'), bubble.find('.date'), bubble.find('.dev-event-name')];\n  if (!cellLock.hasClass('unlocked')) {\n    lock.removeClass('lock-toggle--open');\n    editableFields.forEach(function (element) {\n      var elementToManipulate = element;\n      elementToManipulate.find('span:eq(0)').show();\n      elementToManipulate.find('span:eq(1)').hide();\n      if (!element.hasClass('dev-event-name')) elementToManipulate = element.find('span:eq(0)');\n      elementToManipulate.removeClass('cal-info-bubble__explicit-link').data('disabled.editable', true);\n    });\n  } else {\n    lock.addClass('lock-toggle--open');\n    editableFields.forEach(function (element) {\n      if (element.hasClass('dev-event-name')) element.data('disabled.editable', false);else element.find('span:eq(0)').addClass('cal-info-bubble__explicit-link').data('disabled.editable', false);\n    });\n  }\n}\nfunction toggleEventStatusLockFromBubble(bubbleLock) {\n  var calendarCellID = bubbleLock.attr('calendarcell');\n  // Toggle the lock; if there is an unlockable group lock, then toggle that one too\n  var groupLock = $(\"#\".concat(calendarCellID)).closest('li').find('.group-lock.dev-group-lock-toggle');\n  if (groupLock.length > 0) toggleGroupLock(groupLock);\n  toggleEventStatusLock($(\"#\".concat(calendarCellID)).find('.dev-event-lock-toggle'));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Db21tb25TY3JpcHRzL2V2ZW50c2NhbGVuZGFyL2V2ZW50c2NhbGVuZGFyLXVpLWNvbnRyb2wuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFDQTtBQVVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVpBO0FBQUE7QUFhQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFZQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL1JlYWN0Q29tcG9uZW50c18vLi9Db21tb25TY3JpcHRzL2V2ZW50c2NhbGVuZGFyL2V2ZW50c2NhbGVuZGFyLXVpLWNvbnRyb2wuanM/MTEwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvcGVuSW5mb0J1YmJsZSB9IGZyb20gJy4uL3NoYXJlZHNjcmlwdHMvc2hhcmVkc2NyaXB0cy1idWJibGVzJztcbmltcG9ydCB7IGhhc01ldGFLZXkgfSBmcm9tICcuLi9zaGFyZWRzY3JpcHRzL3NoYXJlZHNjcmlwdHMtbnBjb21tb24nO1xuXG4vKiBTdHlsZSBzaGVldCBzd2l0Y2hpbmcgKi9cbmZ1bmN0aW9uIGdldEFjdGl2ZVN0eWxlU2hlZXQoKSB7XG4gIGxldCBpO1xuICBsZXQgYTtcbiAgZm9yIChpID0gMDsgKGEgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpW2ldKTsgaSsrKVxuICAgIGlmIChhLmdldEF0dHJpYnV0ZSgncmVsJykuaW5kZXhPZignc3R5bGUnKSAhPT0gLTEgJiYgYS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgJiYgIWEuZGlzYWJsZWQpXG4gICAgICByZXR1cm4gYS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBY3RpdmVTdHlsZVNoZWV0KG5hbWUpIHtcbiAgbGV0IGk7XG4gIGxldCBhO1xuICBmb3IgKGkgPSAwOyAoYSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaW5rJylbaV0pOyBpKyspIHtcbiAgICBpZiAoYS5nZXRBdHRyaWJ1dGUoJ3JlbCcpLmluZGV4T2YoJ3N0eWxlJykgIT09IC0xICYmIGEuZ2V0QXR0cmlidXRlKCd0aXRsZScpKSB7XG4gICAgICBhLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGlmIChhLmdldEF0dHJpYnV0ZSgndGl0bGUnKSA9PT0gbmFtZSkgYS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U3R5bGVTaGVldChuYW1lKSB7XG4gICQoYGFbZGV2LXN0eWxlc2hlZXQ9JyR7Z2V0QWN0aXZlU3R5bGVTaGVldCgpfSddYCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICBzZXRBY3RpdmVTdHlsZVNoZWV0KG5hbWUpO1xuICAkKGBhW2Rldi1zdHlsZXNoZWV0PScke25hbWV9J11gKS5hZGRDbGFzcygnYWN0aXZlJyk7XG59XG5cbi8vIFNjcmlwdHMgdG8gY29udHJvbCB0aGUgc2Nyb2xsaW5nIG9mIHRoZSBjb2x1bW4gaGVhZGVycyBhbmQgZGF0ZSBjb2x1bW5zXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJTY3JvbGxVcGRhdGVJbkNhbGVuZGFyKGFkZE1lbnVEaXZJZCkge1xuICBjb25zdCBkYXRlc0VsZW1lbnQgPSAkKCcuZGF0ZXMnKTtcbiAgY29uc3QgbG9jYXRpb25tZW51RWxlbWVudCA9ICQoYCMke2FkZE1lbnVEaXZJZH1gKTtcbiAgY29uc3QgcmVzb3VyY2VzRWxlbWVudCA9ICQoJyNjYWxlbmRhciB1bCBsaSBoMScpO1xuICBjb25zdCB0ZWFtc3RhdHNFbGVtZW50ID0gJCgnLnRwLXN0YXRzJyk7XG4gIGRhdGVzRWxlbWVudC5jc3MoJ21hcmdpbi10b3AnLCAtKHdpbmRvdy5zY3JvbGxZICsgNDApKTtcbiAgcmVzb3VyY2VzRWxlbWVudC5jc3MoJ21hcmdpbi1sZWZ0JywgLSh3aW5kb3cuc2Nyb2xsWCAtIDIpKTtcbiAgdGVhbXN0YXRzRWxlbWVudC5jc3MoJ21hcmdpbi1sZWZ0JywgLSh3aW5kb3cuc2Nyb2xsWCAtIDEwMCkpO1xuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgbG9jYXRpb25tZW51RWxlbWVudC5jc3MoJ21hcmdpbi10b3AnLCB3aW5kb3cuc2Nyb2xsWSk7XG4gICAgdGVhbXN0YXRzRWxlbWVudC5jc3MoJ21hcmdpbi1sZWZ0JywgLSh3aW5kb3cuc2Nyb2xsWCAtIDEwMCkpO1xuICAgIGRhdGVzRWxlbWVudC5jc3MoJ21hcmdpbi10b3AnLCAtKHdpbmRvdy5zY3JvbGxZICsgNDApKTtcbiAgICByZXNvdXJjZXNFbGVtZW50LmNzcygnbWFyZ2luLWxlZnQnLCAtKHdpbmRvdy5zY3JvbGxYIC0gMikpO1xuICB9XG4gICQod2luZG93KS5vZmYoJ3Njcm9sbC5zY3JvbGx1cGRhdGUnKS5vbignc2Nyb2xsLnNjcm9sbHVwZGF0ZScsIG51bGwsIG51bGwsIHVwZGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvcGVuQ2FsZW5kYXJVbmF2YWlsYWJpbGl0eUJ1YmJsZShcbiAgYnViYmxlSWQsXG4gIHJlZklkLFxuICBleGNsdXNpdmVXaXRoSWQsXG4gIGNsb3NpbmdJZCxcbiAgbGVmdHhvZmZzZXQsXG4gIHJpZ2h0eG9mZnNldCxcbiAgdG9weW9mZnNldCxcbiAgYm90dG9teW9mZnNldFxuKSB7XG4gIC8vIE9wZW4gdGhlIGJ1YmJsZSBhbmQgYWZ0ZXJ3YXJkcyBzZXQgdGhlIGZvY3VzIG9uIHRoZSBmaXJzdCBpbnB1dFxuICBvcGVuSW5mb0J1YmJsZShcbiAgICBidWJibGVJZCxcbiAgICByZWZJZCxcbiAgICBleGNsdXNpdmVXaXRoSWQsXG4gICAgY2xvc2luZ0lkLFxuICAgIGxlZnR4b2Zmc2V0LFxuICAgIHJpZ2h0eG9mZnNldCxcbiAgICB0b3B5b2Zmc2V0LFxuICAgIGJvdHRvbXlvZmZzZXRcbiAgKTtcbiAgJChidWJibGVJZCkuZmluZCgnaW5wdXQuaW5wdXQtdGltZScpLmZpcnN0KCkuZm9jdXMoKS50cmlnZ2VyKCdzZWxlY3QnKTtcbn1cblxuLyogRnVuY3Rpb24gdG8gc2V0IHRoZSBjb3JyZWN0IGNzcyBjbGFzc2VzIGZvciB0aGUgaGVpZ2h0IG9mIGFuIGVudGlyZSBleHBhbmRlZCByb3cgaW4gdGhlIGV2ZW50cyBjYWxlbmRhciAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeEV2ZW50Um93cygpIHtcbiAgY29uc3Qgc2l6ZSA9ICQoJy5kYXRlcyBvbCBsaScpLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gc2l6ZTsgaSsrKSB7XG4gICAgbGV0IG1heCA9IDA7XG4gICAgLy8gZ2V0IGFsbCBjZWxscyBvbiB0aGUgc2FtZSByb3cgKGluIHRoZSBjb2xsYXBzZWQgdmlldykuIG1ha2Ugc3VyZSBub3QgdG8gc2VsZWN0IHRoZSBjZWxscyBpbiB0aGUgZHJvcGRvd24gbGlzdFxuICAgIGNvbnN0IGFsbCA9ICQoYCNjYWw+bGk+b2w+bGk6bnRoLW9mLXR5cGUoJHtpfSlgKS5ub3QoJyNjYWw+bGk+b2w+bGk+b2w+bGknKTtcbiAgICBhbGwuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoJCh0aGlzKS5hdHRyKCdldmVudGNlbGxzJykpIG1heCA9IE1hdGgubWF4KG1heCwgJCh0aGlzKS5hdHRyKCdldmVudGNlbGxzJykpO1xuICAgIH0pO1xuICAgIC8vIHJlbW92ZSBhbGwgZXhpc3RpbmcgZXhwYW5kZWQtKiBjbGFzc25hbWVzXG4gICAgYWxsLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgJCh0aGlzKVswXS5jbGFzc05hbWUgPSAkKHRoaXMpWzBdLmNsYXNzTmFtZS5yZXBsYWNlKC9cXGJleHBhbmRlZC0uKj9cXGIvZywgJycpO1xuICAgIH0pO1xuICAgIC8vIGlmIHdlIGhhdmUgYSBtYXg+MCwgdGhlbiBhZGQgdGhlIGV4cGFuZGVkLSogY2xhc3NuYW1lXG4gICAgaWYgKG1heCAhPT0gMCkgYWxsLmFkZENsYXNzKGBleHBhbmRlZC0ke21heH1gKTtcbiAgfVxufVxuXG4vLyBSZXBsYWNpbmcgYSBjZWxsIGluIHRoZSBjYWxlbmRhciBzaG91bGQgdGFrZSBub3RlIG9mIHBvc3NpYmxlIGNvbmN1cnJlbnQgYWN0aW9ucyBieSB0aGUgdXNlci4gQXQgdGhpcyB0aW1lLCB3ZSBvbmx5IGNvcGUgd2l0aCBvcGVuaW5nIHRoZSBjb250ZXh0IG1lbnVcbmpRdWVyeS5mbi5yZXBsYWNlQ2VsbCA9IGZ1bmN0aW9uIChodG1sKSB7XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSAkKHRoaXMpO1xuICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gJChodG1sKTtcblxuICAgIGNvbnN0IGlzQ3VycmVudCA9IGVsZW1lbnQuaGFzQ2xhc3MoJ2N1cnJlbnRNZW51Rm9jdXMnKTtcbiAgICBpZiAoaXNDdXJyZW50KSByZXBsYWNlbWVudC5hZGRDbGFzcygnY3VycmVudE1lbnVGb2N1cycpO1xuXG4gICAgZWxlbWVudC5yZXBsYWNlV2l0aChyZXBsYWNlbWVudCk7XG4gIH0pO1xufTtcblxuLyogQ2VsbCBkaXNhYmxlbWVudCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcmZvcm1DZWxsRGlzYWJsZW1lbnQoZXZlbnQsIGNlbGxRdWVyeSkge1xuICBsZXQgY2VsbHM7XG4gIC8vIFJlbW92ZSB0aGUgZGlzYWJsZWQgc3RhdGUgb2YgdGhlIHNlbGVjdGVkIGNlbGxzIGlmIHdlIGFyZSBub3QgZG9pbmcgYSBtdWx0aXBsZSBzZWxlY3RcbiAgaWYgKCFoYXNNZXRhS2V5KGV2ZW50KSAmJiAhKGV2ZW50LndoaWNoID09PSAzICYmICQoZXZlbnQudGFyZ2V0KS5oYXNDbGFzcygnZGlzYWJsZWQnKSkpXG4gICAgJCgnbGkudWktc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcblxuICAvLyBJZiB3ZSBhcmUgc2VsZWN0aW5nIHRoZSBlbnRpcmUgZ3JvdXAsIHRoZW4gY2hlY2sgaWYgdGhlcmUgaXMgYW4gYWN0dWFsIGxvY2sgaW4gdGhhdCBncm91cCBhbmQgaWYgc28sIGluZGljYXRlIHRoYXQgdmlzdWFsbHlcbiAgaWYgKGV2ZW50LmFsdEtleSAmJiBjZWxsUXVlcnkuYXR0cignZ3JvdXBpZCcpICE9PSB1bmRlZmluZWQpIHtcbiAgICBjZWxscyA9ICQoYC4ke2NlbGxRdWVyeS5hdHRyKCdncm91cGlkJyl9YCk7XG4gICAgaWYgKGNlbGxzLmZpbmQoJy5kZXYtZ3JvdXAtbG9jay0tYWN0dWFsJykubGVuZ3RoID4gMCkgY2VsbHMuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gIH1cbn1cblxuLyogRnVuY3Rpb24gdG8gdG9nZ2xlIGFuIGV2ZW50IHN0YXR1cyBsb2NrICovXG4vKiBUaGlzIGZ1bmN0aW9uIG5vdCBvbmx5IHRvZ2dsZXMgdGhlIHVubG9ja2VkIGNsYXNzIG5hbWUsIGJ1dCBhbHNvIHVwZGF0ZXMgdGhlIHBlcm1pc3Npb25zIG9mIHRoZSBjZWxsIHRvIGluZGljYXRlIHRoYXQgaXQgd2FzIHVubG9ja2VkICovXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlRXZlbnRTdGF0dXNMb2NrKGxvY2spIHtcbiAgY29uc3QgdGFyZ2V0UGVybWlzc2lvbnMgPSAkKGxvY2spLmNsb3Nlc3QoJ2xpJykuZGF0YSgncGVybWlzc2lvbnMnKTtcblxuICBpZiAobG9jay5oYXNDbGFzcygndW5sb2NrZWQnKSlcbiAgICBsb2NrXG4gICAgICAucmVtb3ZlQ2xhc3MoJ3VubG9ja2VkJylcbiAgICAgIC5jbG9zZXN0KCdsaScpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ3VubG9ja2VkJylcbiAgICAgIC5kYXRhKCdwZXJtaXNzaW9ucycsIHRhcmdldFBlcm1pc3Npb25zLnJlcGxhY2UoJ2wnLCAnJykpO1xuICBlbHNlXG4gICAgbG9ja1xuICAgICAgLmFkZENsYXNzKCd1bmxvY2tlZCcpXG4gICAgICAuY2xvc2VzdCgnbGknKVxuICAgICAgLmFkZENsYXNzKCd1bmxvY2tlZCcpXG4gICAgICAuZGF0YSgncGVybWlzc2lvbnMnLCBgJHt0YXJnZXRQZXJtaXNzaW9uc31sYCk7XG59XG5cbi8qIEZ1bmN0aW9uIHRvIHRvZ2dsZSBhIGdyb3VwIGxvY2sgKi9cbi8qIFRoaXMgZnVuY3Rpb24gbm90IG9ubHkgdG9nZ2xlcyB0aGUgdW5sb2NrZWQgY2xhc3MgbmFtZSwgYnV0IGFsc28gdXBkYXRlcyB0aGUgcGVybWlzc2lvbnMgb2YgdGhlIGNlbGwgdG8gaW5kaWNhdGUgdGhhdCBpdCB3YXMgdW5sb2NrZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVHcm91cExvY2sobG9jaykge1xuICBjb25zdCB0YXJnZXRQZXJtaXNzaW9ucyA9ICQobG9jaykuY2xvc2VzdCgnLnByb2plY3RuYW1lJykuZGF0YSgncGVybWlzc2lvbnMnKTtcblxuICBpZiAobG9jay5oYXNDbGFzcygnZ3JvdXAtbG9jay0tb3BlbicpKVxuICAgIGxvY2tcbiAgICAgIC5yZW1vdmVDbGFzcygnZ3JvdXAtbG9jay0tb3BlbicpXG4gICAgICAuY2xvc2VzdCgnLnByb2plY3RuYW1lJylcbiAgICAgIC5kYXRhKCdwZXJtaXNzaW9ucycsIHRhcmdldFBlcm1pc3Npb25zLnJlcGxhY2UoJ2wnLCAnJykpO1xuICBlbHNlXG4gICAgbG9ja1xuICAgICAgLmFkZENsYXNzKCdncm91cC1sb2NrLS1vcGVuJylcbiAgICAgIC5jbG9zZXN0KCcucHJvamVjdG5hbWUnKVxuICAgICAgLmRhdGEoJ3Blcm1pc3Npb25zJywgYCR7dGFyZ2V0UGVybWlzc2lvbnN9bGApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlQ29ycmVzcG9uZGluZ1N1bW1hcnlCdWJibGVMb2NrKGNlbGxMb2NrKSB7XG4gIGNvbnN0IHN1bW1hcnlJRCA9ICQoY2VsbExvY2spLmNsb3Nlc3QoJ2xpJykuYXR0cignc3VtbWFyeWJ1YmJsZScpO1xuICBjb25zdCBidWJibGUgPSAkKGAjJHtzdW1tYXJ5SUR9YCk7XG4gIGNvbnN0IGxvY2sgPSBidWJibGUuZmluZCgnLmxvY2stdG9nZ2xlJyk7XG4gIGNvbnN0IGVkaXRhYmxlRmllbGRzID0gW1xuICAgIGJ1YmJsZS5maW5kKCcubG9jYXRpb24nKSxcbiAgICBidWJibGUuZmluZCgnLmRhdGUnKSxcbiAgICBidWJibGUuZmluZCgnLmRldi1ldmVudC1uYW1lJylcbiAgXTtcbiAgaWYgKCFjZWxsTG9jay5oYXNDbGFzcygndW5sb2NrZWQnKSkge1xuICAgIGxvY2sucmVtb3ZlQ2xhc3MoJ2xvY2stdG9nZ2xlLS1vcGVuJyk7XG4gICAgZWRpdGFibGVGaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgbGV0IGVsZW1lbnRUb01hbmlwdWxhdGUgPSBlbGVtZW50O1xuICAgICAgZWxlbWVudFRvTWFuaXB1bGF0ZS5maW5kKCdzcGFuOmVxKDApJykuc2hvdygpO1xuICAgICAgZWxlbWVudFRvTWFuaXB1bGF0ZS5maW5kKCdzcGFuOmVxKDEpJykuaGlkZSgpO1xuICAgICAgaWYgKCFlbGVtZW50Lmhhc0NsYXNzKCdkZXYtZXZlbnQtbmFtZScpKSBlbGVtZW50VG9NYW5pcHVsYXRlID0gZWxlbWVudC5maW5kKCdzcGFuOmVxKDApJyk7XG4gICAgICBlbGVtZW50VG9NYW5pcHVsYXRlXG4gICAgICAgIC5yZW1vdmVDbGFzcygnY2FsLWluZm8tYnViYmxlX19leHBsaWNpdC1saW5rJylcbiAgICAgICAgLmRhdGEoJ2Rpc2FibGVkLmVkaXRhYmxlJywgdHJ1ZSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgbG9jay5hZGRDbGFzcygnbG9jay10b2dnbGUtLW9wZW4nKTtcbiAgICBlZGl0YWJsZUZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudC5oYXNDbGFzcygnZGV2LWV2ZW50LW5hbWUnKSkgZWxlbWVudC5kYXRhKCdkaXNhYmxlZC5lZGl0YWJsZScsIGZhbHNlKTtcbiAgICAgIGVsc2VcbiAgICAgICAgZWxlbWVudFxuICAgICAgICAgIC5maW5kKCdzcGFuOmVxKDApJylcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2NhbC1pbmZvLWJ1YmJsZV9fZXhwbGljaXQtbGluaycpXG4gICAgICAgICAgLmRhdGEoJ2Rpc2FibGVkLmVkaXRhYmxlJywgZmFsc2UpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVFdmVudFN0YXR1c0xvY2tGcm9tQnViYmxlKGJ1YmJsZUxvY2spIHtcbiAgY29uc3QgY2FsZW5kYXJDZWxsSUQgPSBidWJibGVMb2NrLmF0dHIoJ2NhbGVuZGFyY2VsbCcpO1xuICAvLyBUb2dnbGUgdGhlIGxvY2s7IGlmIHRoZXJlIGlzIGFuIHVubG9ja2FibGUgZ3JvdXAgbG9jaywgdGhlbiB0b2dnbGUgdGhhdCBvbmUgdG9vXG4gIGNvbnN0IGdyb3VwTG9jayA9ICQoYCMke2NhbGVuZGFyQ2VsbElEfWApLmNsb3Nlc3QoJ2xpJykuZmluZCgnLmdyb3VwLWxvY2suZGV2LWdyb3VwLWxvY2stdG9nZ2xlJyk7XG4gIGlmIChncm91cExvY2subGVuZ3RoID4gMCkgdG9nZ2xlR3JvdXBMb2NrKGdyb3VwTG9jayk7XG4gIHRvZ2dsZUV2ZW50U3RhdHVzTG9jaygkKGAjJHtjYWxlbmRhckNlbGxJRH1gKS5maW5kKCcuZGV2LWV2ZW50LWxvY2stdG9nZ2xlJykpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./CommonScripts/eventscalendar/eventscalendar-ui-control.js\n");

/***/ }),

/***/ "./CommonScripts/sharedscripts/sharedscripts-bubbles.js":
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"openInfoBubble\": function() { return /* binding */ openInfoBubble; }\n/* harmony export */ });\n/* Opening of bubbles */\nfunction openInfoBubble(bubbleId, refId, exclusiveWithId, closingId, leftxoffset, rightxoffset, topyoffset, bottomyoffset) {\n  var bubbleEl = $(bubbleId);\n  if (bubbleEl.hasClass('pinned')) return; // do nothing when the bubble is already pinned\n\n  bubbleEl.find('.tip').show();\n  var ref = $(refId).offset();\n\n  // If we could not find the offset, it means that the bubble no longer is shown, so we return from the function\n  if (!ref) return;\n  var bubbleWidth = $(bubbleEl).width();\n  var refWidth = $(refId).width();\n  var bubbleHeight = $(bubbleEl).height();\n  var maxxpos = $(window).scrollLeft() + window.innerWidth - (bubbleWidth + refWidth);\n  var minypos = $(window).scrollTop() + bubbleHeight;\n  var maxypos = $(window).scrollTop() + window.innerHeight - bubbleHeight;\n  var xpos;\n  var ypos;\n  if (ref.left > maxxpos) {\n    xpos = ref.left - bubbleWidth - leftxoffset;\n    bubbleEl.removeClass('left');\n    bubbleEl.addClass('right');\n  } else {\n    xpos = ref.left + refWidth + rightxoffset;\n    bubbleEl.removeClass('right');\n    bubbleEl.addClass('left');\n  }\n  if (ref.top >= maxypos && ref.top >= minypos) {\n    ypos = ref.top - bubbleHeight + bottomyoffset;\n    bubbleEl.removeClass('top');\n    bubbleEl.addClass('bottom');\n  } else {\n    ypos = ref.top - topyoffset;\n    bubbleEl.removeClass('bottom');\n    bubbleEl.addClass('top');\n  }\n  bubbleEl.css('left', xpos);\n  bubbleEl.css('top', ypos);\n  if (closingId !== null) $(\"\".concat(closingId, \":visible:not(.pinned)\")).hide();\n  if (exclusiveWithId !== null) {\n    if ($(\"\".concat(exclusiveWithId, \":visible:not(.pinned)\")).length === 0) bubbleEl.fadeIn('fast');\n  } else {\n    bubbleEl.fadeIn('fast');\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Db21tb25TY3JpcHRzL3NoYXJlZHNjcmlwdHMvc2hhcmVkc2NyaXB0cy1idWJibGVzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBVUE7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUmVhY3RDb21wb25lbnRzXy8uL0NvbW1vblNjcmlwdHMvc2hhcmVkc2NyaXB0cy9zaGFyZWRzY3JpcHRzLWJ1YmJsZXMuanM/ZThlNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBPcGVuaW5nIG9mIGJ1YmJsZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBvcGVuSW5mb0J1YmJsZShcbiAgYnViYmxlSWQsXG4gIHJlZklkLFxuICBleGNsdXNpdmVXaXRoSWQsXG4gIGNsb3NpbmdJZCxcbiAgbGVmdHhvZmZzZXQsXG4gIHJpZ2h0eG9mZnNldCxcbiAgdG9weW9mZnNldCxcbiAgYm90dG9teW9mZnNldFxuKSB7XG4gIGNvbnN0IGJ1YmJsZUVsID0gJChidWJibGVJZCk7XG5cbiAgaWYgKGJ1YmJsZUVsLmhhc0NsYXNzKCdwaW5uZWQnKSkgcmV0dXJuOyAvLyBkbyBub3RoaW5nIHdoZW4gdGhlIGJ1YmJsZSBpcyBhbHJlYWR5IHBpbm5lZFxuXG4gIGJ1YmJsZUVsLmZpbmQoJy50aXAnKS5zaG93KCk7XG4gIGNvbnN0IHJlZiA9ICQocmVmSWQpLm9mZnNldCgpO1xuXG4gIC8vIElmIHdlIGNvdWxkIG5vdCBmaW5kIHRoZSBvZmZzZXQsIGl0IG1lYW5zIHRoYXQgdGhlIGJ1YmJsZSBubyBsb25nZXIgaXMgc2hvd24sIHNvIHdlIHJldHVybiBmcm9tIHRoZSBmdW5jdGlvblxuICBpZiAoIXJlZikgcmV0dXJuO1xuXG4gIGNvbnN0IGJ1YmJsZVdpZHRoID0gJChidWJibGVFbCkud2lkdGgoKTtcbiAgY29uc3QgcmVmV2lkdGggPSAkKHJlZklkKS53aWR0aCgpO1xuICBjb25zdCBidWJibGVIZWlnaHQgPSAkKGJ1YmJsZUVsKS5oZWlnaHQoKTtcbiAgY29uc3QgbWF4eHBvcyA9ICQod2luZG93KS5zY3JvbGxMZWZ0KCkgKyB3aW5kb3cuaW5uZXJXaWR0aCAtIChidWJibGVXaWR0aCArIHJlZldpZHRoKTtcbiAgY29uc3QgbWlueXBvcyA9ICQod2luZG93KS5zY3JvbGxUb3AoKSArIGJ1YmJsZUhlaWdodDtcbiAgY29uc3QgbWF4eXBvcyA9ICQod2luZG93KS5zY3JvbGxUb3AoKSArIHdpbmRvdy5pbm5lckhlaWdodCAtIGJ1YmJsZUhlaWdodDtcbiAgbGV0IHhwb3M7XG4gIGxldCB5cG9zO1xuXG4gIGlmIChyZWYubGVmdCA+IG1heHhwb3MpIHtcbiAgICB4cG9zID0gcmVmLmxlZnQgLSBidWJibGVXaWR0aCAtIGxlZnR4b2Zmc2V0O1xuICAgIGJ1YmJsZUVsLnJlbW92ZUNsYXNzKCdsZWZ0Jyk7XG4gICAgYnViYmxlRWwuYWRkQ2xhc3MoJ3JpZ2h0Jyk7XG4gIH0gZWxzZSB7XG4gICAgeHBvcyA9IHJlZi5sZWZ0ICsgcmVmV2lkdGggKyByaWdodHhvZmZzZXQ7XG4gICAgYnViYmxlRWwucmVtb3ZlQ2xhc3MoJ3JpZ2h0Jyk7XG4gICAgYnViYmxlRWwuYWRkQ2xhc3MoJ2xlZnQnKTtcbiAgfVxuICBpZiAocmVmLnRvcCA+PSBtYXh5cG9zICYmIHJlZi50b3AgPj0gbWlueXBvcykge1xuICAgIHlwb3MgPSByZWYudG9wIC0gYnViYmxlSGVpZ2h0ICsgYm90dG9teW9mZnNldDtcbiAgICBidWJibGVFbC5yZW1vdmVDbGFzcygndG9wJyk7XG4gICAgYnViYmxlRWwuYWRkQ2xhc3MoJ2JvdHRvbScpO1xuICB9IGVsc2Uge1xuICAgIHlwb3MgPSByZWYudG9wIC0gdG9weW9mZnNldDtcbiAgICBidWJibGVFbC5yZW1vdmVDbGFzcygnYm90dG9tJyk7XG4gICAgYnViYmxlRWwuYWRkQ2xhc3MoJ3RvcCcpO1xuICB9XG4gIGJ1YmJsZUVsLmNzcygnbGVmdCcsIHhwb3MpO1xuICBidWJibGVFbC5jc3MoJ3RvcCcsIHlwb3MpO1xuICBpZiAoY2xvc2luZ0lkICE9PSBudWxsKSAkKGAke2Nsb3NpbmdJZH06dmlzaWJsZTpub3QoLnBpbm5lZClgKS5oaWRlKCk7XG4gIGlmIChleGNsdXNpdmVXaXRoSWQgIT09IG51bGwpIHtcbiAgICBpZiAoJChgJHtleGNsdXNpdmVXaXRoSWR9OnZpc2libGU6bm90KC5waW5uZWQpYCkubGVuZ3RoID09PSAwKSBidWJibGVFbC5mYWRlSW4oJ2Zhc3QnKTtcbiAgfSBlbHNlIHtcbiAgICBidWJibGVFbC5mYWRlSW4oJ2Zhc3QnKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./CommonScripts/sharedscripts/sharedscripts-bubbles.js\n");

/***/ }),

/***/ "./CommonScripts/sharedscripts/sharedscripts-contextmenu.js":
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SharedscriptsContextmenu\": function() { return /* binding */ SharedscriptsContextmenu; }\n/* harmony export */ });\n/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@sentry/hub/esm/exports.js\");\n/* harmony import */ var _sharedscripts_sentry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./CommonScripts/sharedscripts/sharedscripts-sentry.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n/* eslint-disable camelcase, func-names */\n// Client-side support for dynamic context menus.\n//\n// The trigger to open them is something which is left to the client to set up.\n// All the client needs to do is tell this module the page coordinates of where\n// the menu should appear. E.g.:\n//\n//   $('#maintable').on('contextmenu', 'td', function(e) {\n//       menu.show(e.pageX, e.pageY)\n//   })\n//\n// The menu will be created with its top-left corner at exactly that position,\n// unless it would not fit within the bounds of the viewport. If that is the\n// case it will get shifted left and up as much as is needed to make it fit.\n//\n//\n// Creating the menu is done by calling $context.create(...) and passing it a\n// javascript array which defines the menu structure. E.g.:\n//\n//   menu = $context.create([\n//     item_1,\n//     item_2,\n//     ...\n//     item_n,\n//   ])\n//\n// The menus get attached to the DOM, so it is best to only create them once.\n// When a menu closes they do not get cleaned up. Cleanup should be done\n// explicitly, but there is no supporting function yet to do so. (TODO!)\n//\n//\n// Each menu item is a javascript object which defines some basic data. At the\n// heart of everything is its type, which can be anything supported by the\n// 'formatters' list you'll find further down in the code. At the time of\n// writing these are: item, separator, submenu, input and checkbox. The type gets\n// specified via a 'a' or 'an' field. E.g.:\n//\n//   item_1 = { an: 'item', ... }\n//   item_2 = { a: 'separator', ... }\n//   item_3 = { a: 'submenu', ... }\n//\n// If no type is specified then it is assumed to be 'item'. This should be the\n// common case. So 'item_1' could have been reduced to:\n//\n//   item_1 = { ... }\n//\n// All menu items can have an optional 'id' field. This allows referring to,\n// and manipulating, a specific menu item after the menu has been built. The\n// added effect is that a data attribute 'data-menu-id' is added to the DOM\n// element, which helps grabbing specific menu items in automated tests.\n//\n// All other fields which are required depend on the type of the menu item. For\n// the default type 'item' these are:\n//   - text: which sets the menu item's label.\n//   - fn: which defines a callback function to be triggered when the menu item\n//     gets activated. If you don't specify a callback and a menu item gets\n//     activated this library will fire a 'click-menu-item' event, which can be\n//     handled by JQuery event handlers. E.g.:\n//\n//     $('body').on('click-menu-item', function(e, menu_item_definition) {\n//       ...\n//     })\n//\n// Item visibility and enablement:\n// All menu items have an optional 'disableif' and 'hideif' field. They accept\n// a function parameter and can be used to respectively disable or hide the menu item.\n//\n// Submenus also have a label which you can define via the 'text' field. In\n// addition it accepts a 'with' field which holds the definition for the\n// submenu. This again conforms to the definition of any menu (i.e. a list of\n// menu items). E.g.:\n//\n//   submenu = { a: 'submenu', text: 'Submenu', with: [\n//     item_1,\n//     item_2,\n//     ...\n//     item_n\n//   ]}\n//\n// Aside from that submenus can also be created dynamically. To do that you\n// should not pass an array as the value of the 'with' field but pass a\n// function instead. This function will get triggered when the submenu should\n// become visible, and it should return the definition of the submenu as usual.\n// So the above example could also have been written as:\n//\n//   submenu = { a: 'submenu', text: 'Submenu', with: function() {\n//     return [\n//       item_1,\n//       item_2,\n//       ...\n//       item_n\n//     ]\n//   }}\n//\n// Here is a more complete example of a menu definition, which also shows\n// fields for other menu item types:\n//\n//   menu = $context.create([\n//     { text: 'New Event', fn: function() { console.log('NEW EVENT')} },\n//     { text: 'Set as Unavailable', fn: logit },\n//\n//     { a: 'separator' },\n//\n//     { a: 'submenu', text: 'Assign Status', with: [\n//       { text: 'No Status' },\n//           { text: 'Option Request' },\n//           { text: 'Option' },\n//           { text: 'Confirmed Option' },\n//           { text: 'Planned' },\n//           { text: 'Locked' },\n//           { text: 'Cancelled' }\n//      ]},\n//      { a: 'submenu', text: 'Assign Role', with: dynamic_items_fn },\n//\n//      { a: 'separator' },\n//\n//      { text: 'Cut', disableif=function(){ return user can_delete }},\n//      { text: 'Copy' },\n//      { text: 'Paste' },\n//\n//      { a: 'separator' },\n//\n//      { a: 'submenu', text: 'Add to Group', with: [ { an: 'search', text: 'Search contact...', source: source_fn, select: select_fn } ],\n//\n//      { an: 'input' },\n//      { a: 'checkbox', text: 'Check ?' },\n//   ])\n//\n//\n// In addition, the opening and closing of menus and submenus fires events\n// which can be handles by JQuery event handlers. E.g.:\n//\n//   $('body').on('closed-menu', function(e) {\n//      ...\n//   })\n//\n// The events which can be watched for are:\n//   - opening-menu\n//   - closed-menu\n//   - opening-sub-menu\n//   - closed-sub-menu\n\n\n\nvar SharedscriptsContextmenu = /*#__PURE__*/function () {\n  function SharedscriptsContextmenu(items, options, root_menu) {\n    _classCallCheck(this, SharedscriptsContextmenu);\n    this.menu = null;\n    this.root_menu = root_menu || this;\n    this.options = options || {};\n    this.identified = {};\n    this.active_submenu_item = null;\n    this.active_submenu = null;\n    this.is_shown = false;\n    this.x = null;\n    this.y = null;\n    this.isMac = navigator.platform.match(/mac/i) !== null && navigator.platform.match(/mac/i).length > 0;\n    this.clones = [];\n    this.cached_submenu_items = {};\n    this.timer = null;\n    this.setup_container();\n    this.setup_items(items);\n    this.setup_interactions();\n  }\n  _createClass(SharedscriptsContextmenu, [{\n    key: \"setup_container\",\n    value: function setup_container() {\n      this.menu = $('<ul>');\n      if (this.root_menu === this) {\n        this.menu.addClass('menu');\n      } else {\n        this.menu.addClass('submenu');\n        if (this.options.subMenuCssClasses) {\n          this.options.subMenuCssClasses.forEach(function (cssClass) {\n            this.menu.addClass(cssClass);\n          }.bind(this));\n        }\n      }\n      if (this.options.containerCssClasses) {\n        this.menu.removeClass('menu');\n        this.options.containerCssClasses.forEach(function (cssClass) {\n          this.menu.addClass(cssClass);\n        }.bind(this));\n      }\n      if (this.options.id) this.menu.attr('id', this.options.id);\n      if (this.options.closeOnMouseOut) {\n        var self = this;\n        this.menu.on('mouseleave', function () {\n          this.timer = setTimeout(function () {\n            self.close();\n            if (self.root_menu === self) {\n              self.options.onCloseMouseOut && self.options.onCloseMouseOut();\n            }\n          }, self.options.closeAfter || 500);\n        });\n        /* If a mouseover happens while the timer on mouseleave is still counting,\n           cancel the close action.  */\n        this.menu.on('mouseover', function () {\n          if (this.timer) {\n            clearTimeout(this.timer);\n            this.timer = null;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"setup_items\",\n    value: function setup_items(items) {\n      for (var i = 0; i < items.length; i++) {\n        var item = items[i];\n        var element = $('<li>').addClass('dev-menu-item');\n        if (item.class) element.addClass(item.class);\n        element.data('dev-menu-item', item);\n        format(item, element, this);\n        if (item.hideif !== undefined) element.data('hideif', item.hideif);\n        if (item.disableif !== undefined) {\n          element.data('disableif', item.disableif);\n        }\n        if (item.showif !== undefined) {\n          element.data('showif', item.showif);\n        }\n        if (typeof item.text === 'function') element.data('text_fn', item.text);\n        if (item.htmlAttributes) {\n          element.data('htmlAttributes', item.htmlAttributes);\n        }\n        if (item.id) {\n          element.attr('data-menu-id', item.id);\n          this.identified[item.id] = {\n            item: item,\n            element: element\n          };\n        }\n        if (item.focus) element.attr('data-focus', true);\n        this.menu.append(element);\n      }\n    }\n  }, {\n    key: \"setup_interactions\",\n    value: function setup_interactions() {\n      var context = this;\n\n      // Prevent clicks from seeping through the context menu, which might\n      // otherwise close the menu prematurely.\n      // eslint-disable-next-line func-names\n      this.menu.on('click', function (e) {\n        e.stopPropagation();\n      });\n\n      // Same for input fields shown in the menu. Interacting with them should\n      // not close the menu.\n      // eslint-disable-next-line func-names\n      this.menu.on('click', 'input', function (e) {\n        e.stopPropagation();\n      });\n\n      // Clicking on a menu item triggers an action event.\n      this.menu.on('click', '.dev-menu-item:not(.separator):not(.disabled)',\n      // eslint-disable-next-line func-names\n      function (e) {\n        e.stopPropagation();\n        var definition = $(this).data('dev-menu-item');\n        logAction(\"Clicked on \".concat(definition.text));\n        if (definition.fn) {\n          definition.fn(e);\n          if ((definition.a || definition.an) !== 'submenu') {\n            context.root_menu.close();\n          }\n        } else {\n          context.menu.trigger('click-menu-item', definition);\n        }\n      });\n\n      // Submenu interaction.\n      // eslint-disable-next-line func-names\n      this.menu.on('mouseover', '.dev-menu-item', function (e) {\n        if ($(this).hasClass('disabled')) return;\n        if (context.active_submenu_item) context.active_submenu_item.removeClass('active');\n        if ($(this).data('dev-menu-item').a !== 'submenu' && $(this).data('dev-menu-item').an !== 'submenu') {\n          context.active_submenu_item = null;\n        } else {\n          context.active_submenu_item = $(this);\n          context.active_submenu_item.addClass('active');\n        }\n        toggle_submenu_as_needed();\n      });\n\n      // Show/Hide submenus as needed.\n      // This gets debounced to prevent visual artefacts.\n      var toggle_submenu_as_needed = debounce(function () {\n        if (context.active_submenu && context.active_submenu.is_shown && context.active_submenu_item && context.active_submenu === context.active_submenu_item.data('submenu')) {\n          return;\n        }\n        if (context.active_submenu) context.active_submenu.close();\n        if (context.active_submenu_item) {\n          context.active_submenu = context.active_submenu_item.data('submenu');\n          var definition = context.active_submenu_item.data('dev-menu-item');\n          var items = definition.with;\n          var createSubMenu = function createSubMenu(items, options, context) {\n            options.id = 'submenu';\n            options.for = definition.text;\n            context.active_submenu = new SharedscriptsContextmenu(items, options, context);\n            context.active_submenu_item.data('submenu', context.active_submenu);\n          };\n          var contextHasSubmenuForDefinition = function contextHasSubmenuForDefinition(definition) {\n            return context.active_submenu && context.active_submenu.options.for === definition.text;\n          };\n          logAction(\"Opening submenu for \".concat(definition.text));\n\n          // Async function\n          if (typeof items === 'function') {\n            var cached_items = context.root_menu.cached_submenu_items[definition.text];\n            if (definition.rebuildSubmenu || !cached_items) {\n              items(true, function (res) {\n                /* If the active_submenu_item is no longer set, the user has selected another menu item.\n                   Discard the results of the async call and do not show the submenu */\n                if (context.active_submenu_item) {\n                  createSubMenu(res, context.options, context);\n                  context.active_submenu.show_for(context.active_submenu_item);\n                }\n                context.root_menu.cached_submenu_items[definition.text] = res;\n              });\n            } else {\n              createSubMenu(cached_items, context.options, context);\n              context.active_submenu.show_for(context.active_submenu_item);\n            }\n          } else {\n            /* Recreate the menu if explicitly configured or if the current submenu is not set or for another definition */\n            if (!contextHasSubmenuForDefinition(definition) || definition.rebuildSubmenu) {\n              createSubMenu(items, context.options, context);\n            }\n            context.active_submenu.show_for(context.active_submenu_item);\n          }\n        }\n      }, 250);\n\n      // Clicking outside the context menu must hide it.\n      $('body').on('click', function (e) {\n        if (e.ctrlKey && context.isMac) return;\n        context.close();\n      });\n    }\n  }, {\n    key: \"show\",\n    value:\n    // Show the menu as near as possible to the requested coordinates, but\n    // making sure that the entire menu stays visible...\n    function show(x, y) {\n      var max_x = $(document).width();\n      var max_y = $(document).height();\n      var width = this.menu.width();\n      var height = this.menu.height();\n      x = Math.max(0, Math.min(x, max_x - width));\n      y = Math.max(0, Math.min(y, max_y - height));\n      this.show_at(x, y);\n    }\n  }, {\n    key: \"show_for\",\n    value: function show_for(menu_item) {\n      if (this.is_shown) return;\n      this.prepare_show();\n      this.menu.hide();\n      $(menu_item).append(this.menu);\n      this.menu.css('visibility', 'visible').hide().fadeIn(100);\n      if (this.menu.width() + menu_item.offset().left + menu_item.width() > document.documentElement.clientWidth + $(window).scrollLeft()) {\n        var left = this.menu.width() > menu_item.width() ? menu_item.width() - this.menu.width() : 5;\n        this.menu.css('left', \"\".concat(left, \"px\")).css('position', 'absolute');\n      }\n      this.is_shown = true;\n      this.after_show();\n    }\n  }, {\n    key: \"show_at\",\n    value: function show_at(x, y) {\n      if (this.is_shown && this.x === x && this.y === y) return;\n\n      // Only append the root menu to the body, submenus are appended to their menu-item element\n      if (this.root_menu === this) $('body').append(this.menu);\n      this.prepare_show();\n      var top = y;\n      if ($('body').height() + $(document).scrollTop() - y < this.menu.height()) {\n        top -= this.menu.height() - ($('body').height() + $(document).scrollTop() - y) + 5;\n      }\n      this.menu.css('top', \"\".concat(top, \"px\")).css('left', \"\".concat(x, \"px\")).css('visibility', 'visible').css('z-index', 999999).hide().fadeIn(100);\n      this.is_shown = true;\n      this.after_show();\n    }\n  }, {\n    key: \"prepare_show\",\n    value: function prepare_show() {\n      if (this.active_submenu_item) {\n        this.active_submenu_item.removeClass('active');\n        this.active_submenu_item = null;\n      }\n      if (this.active_submenu) {\n        this.active_submenu.close();\n        this.active_submenu = null;\n      }\n      this.menu.find('li').each(function () {\n        if ($(this).data('hideif') && $(this).data('hideif')()) {\n          $(this).hide();\n        } else {\n          $(this).show();\n        }\n      }).each(function () {\n        if ($(this).data('disableif')) {\n          var disableif = $(this).data('disableif');\n          if (typeof disableif === 'boolean' && disableif || $(this).data('disableif')()) {\n            $(this).addClass('disabled');\n            $(this).find('> a').addClass('disabled');\n          } else {\n            $(this).removeClass('disabled');\n            $(this).find('> a').removeClass('disabled');\n          }\n        }\n      }).each(function () {\n        if ($(this).data('showif')) {\n          if (!$(this).data('showif')()) {\n            $(this).css('display', 'none');\n          } else {\n            $(this).css('display', 'block');\n          }\n        }\n      }).each(function () {\n        if ($(this).data('htmlAttributes')) {\n          var attributes = $(this).data('htmlAttributes');\n          var element = $(this);\n          Object.keys(attributes).forEach(function (key) {\n            $(element).data(key, attributes[key]);\n          });\n        }\n      }).each(function () {\n        if ($(this).data('text_fn')) {\n          $(this).find('a').html($(this).data('text_fn')());\n        }\n      });\n      if (this.root_menu === this) {\n        this.menu.trigger('opening-menu');\n      } else {\n        $(this.menu).trigger('opening-sub-menu');\n      }\n    }\n  }, {\n    key: \"after_show\",\n    value: function after_show() {\n      this.menu.find('li').each(function () {\n        if ($(this).data('focus')) {\n          $(this).find('input').focus();\n        }\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (!this.is_shown) return;\n      if (this.active_submenu_item) {\n        this.active_submenu_item.removeClass('active');\n        if (this.active_submenu_item.data('submenu') !== undefined) {\n          this.active_submenu_item.data('submenu').close();\n        }\n      }\n\n      /* Add the clone element back on the page */\n      this.clones.forEach(function (cloneElement) {\n        cloneElement.appendTo(cloneElement.data('parent'));\n      });\n      /* Reset cached submenu items */\n      this.cached_submenu_items = {};\n      this.is_shown = false;\n      this.menu.css('visibility', 'hidden').fadeOut(100);\n      if (this.root_menu === this) {\n        this.menu.trigger('closed-menu');\n      } else {\n        this.menu.trigger('closed-sub-menu');\n      }\n      this.menu.detach();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.menu.remove();\n    }\n  }, {\n    key: \"enable\",\n    value: function enable(id) {\n      if (this.identified[id]) {\n        this.identified[id].element.removeClass('disabled');\n        this.identified[id].element.find('> a').removeClass('disabled');\n        if (typeof this.identified[id].element.data('disableif') === 'boolean') {\n          this.identified[id].element.data('disableif', false);\n        }\n      }\n    }\n  }, {\n    key: \"enable_all\",\n    value: function enable_all() {\n      var ids = Object.keys(this.identified);\n      for (var i = 0; i < ids.length; i++) {\n        this.enable(ids[i]);\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable(id) {\n      if (this.identified[id]) {\n        this.identified[id].element.addClass('disabled');\n        if (typeof this.identified[id].element.data('disableif') === 'boolean') {\n          this.identified[id].element.data('disableif', true);\n        }\n      }\n    }\n  }, {\n    key: \"disable_all\",\n    value: function disable_all() {\n      var ids = Object.keys(this.identified);\n      for (var i = 0; i < ids.length; i++) {\n        this.disable(ids[i]);\n      }\n    }\n  }, {\n    key: \"set_text\",\n    value: function set_text(id, text) {\n      var idd = this.identified[id];\n      if (idd.item.text) {\n        idd.item.text = text;\n        idd.element.find('a.menu-action').text(text);\n      }\n    }\n  }, {\n    key: \"get_htmlattribute\",\n    value: function get_htmlattribute(id, key) {\n      if (this.identified[id]) {\n        if (this.identified[id].item.htmlAttributes) {\n          return this.identified[id].item.htmlAttributes[key];\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"set_htmlattribute\",\n    value: function set_htmlattribute(id, key, value) {\n      var idd = this.identified[id];\n      if (idd) {\n        var htmlAttributes = idd.item.htmlAttributes || {};\n        htmlAttributes[key] = value;\n        idd.item.htmlAttributes = htmlAttributes;\n        idd.element.data(key, value);\n      }\n    }\n  }]);\n  return SharedscriptsContextmenu;\n}();\n\n// --------------------------------------------------------------------------\n\nvar formatters = {\n  separator: function separator(definition, element, menucontext) {\n    element.addClass('separator');\n  },\n  item: function item(definition, element, menucontext) {\n    var text = typeof definition.text === 'function' ? definition.text : definition.text.replace(/\\s/g, '&nbsp;'); // Preserve whitespaces in the text\n    if (definition.cssClass) {\n      element.addClass(definition.cssClass);\n    }\n    $('<a class=\"menu-action\" href=\"javascript:{}\">').appendTo(element).html(text);\n    if (definition.deleteAction) {\n      $('<a class=\"destroyer\" href=\"javascript:{}\">').on('click', function (e) {\n        e.stopPropagation();\n        definition.deleteAction(e);\n        return false;\n      }).appendTo(element).html('delete');\n    }\n  },\n  submenu: function submenu(definition, element, menucontext) {\n    $('<a href=\"javascript:{}\">').html(definition.text).appendTo(element.addClass('branch'));\n  },\n  input: function input(definition, element, menucontext) {\n    var input = $('<input>').attr('type', 'text').attr('placeholder', definition.text);\n    if (definition.focusOnOpen) {\n      menucontext.menu.on('opening-sub-menu', function () {\n        setTimeout(function () {\n          input.focus();\n        }, 150);\n      });\n    }\n    if (definition.onEnter) {\n      input.on('keypress', function (e) {\n        if (e.key === 'Enter') {\n          var inputValue = input.val();\n          definition.onEnter(inputValue);\n          input.val('');\n        }\n      });\n    }\n    element.append(input);\n  },\n  search: function search(definition, element, menucontext) {\n    var updateInputMarginFunction = function updateInputMarginFunction() {\n      setTimeout(function () {\n        var width = $('.input-filter', element).outerWidth() + 10;\n        $(searchfield).css('padding-right', \"\".concat(width.toString(), \"px\"));\n      }, 0);\n    };\n\n    // JQ-UI Autocomplete automatically appends the suggestion menu to a parent marked with .ui-front\n    var container = $('<div>').addClass('ui-front menu__autocomplete-result');\n    var searchfield = $('<input>').attr('type', 'text').attr('placeholder', definition.text);\n    if (definition.onNew) {\n      searchfield.on('keyup', function (event) {\n        if (event.key === 'Enter') {\n          event.preventDefault();\n          definition.onNew(searchfield.val());\n        }\n      });\n    }\n    container.append(searchfield);\n    if (definition.withFilter) {\n      var filter = $('<span>').addClass('submenu-filter input-filter');\n      filter.attr('title', definition.filterTooltipFunction());\n      filter.html(definition.filterLabelFunction());\n      filter.on('click', function (clickEvent) {\n        clickEvent.preventDefault();\n        definition.filterToggle(function () {\n          filter.attr('title', definition.filterTooltipFunction());\n          filter.html(definition.filterLabelFunction());\n          updateInputMarginFunction();\n        });\n      });\n      container.append(filter);\n    }\n    menucontext.menu.on('opening-sub-menu', function () {\n      searchfield.get(0).value = '';\n      updateInputMarginFunction();\n      setTimeout(function () {\n        searchfield.focus();\n      }, 150);\n    });\n    element.append(container);\n\n    // TODO: move autocomplete implementation to separate module for sharing\n    searchfield.npPresetAutocomplete({\n      autoFocus: true,\n      minLength: definition.minLength,\n      messages: {\n        noResults: function noResults() {},\n        results: function results() {}\n      },\n      source: definition.source,\n      create: function create() {\n        if (definition.withPresets) {\n          searchfield.on('focus', function () {\n            searchfield.npPresetAutocomplete('search', '');\n          });\n        }\n      },\n      select: function select(event, ui) {\n        event.stopPropagation();\n        event.preventDefault();\n        definition.select(event, ui);\n        menucontext.root_menu.close();\n      },\n      open: function open(event, ui) {\n        $('.ui-autocomplete.ui-menu').css('left', 0).css('top', 0).css('width', 'auto');\n      }\n    });\n  },\n  searchresults: function searchresults(definition, element, menucontext) {\n    element.append($('<div>').attr('id', definition.id));\n  },\n  checkbox: function checkbox(definition, element, menucontext) {\n    var checkbox = $('<input>').attr('type', 'checkbox');\n    element.append(checkbox).append(definition.text);\n  },\n  hoverable: function hoverable(definition, element, menucontext) {\n    var text = typeof definition.text === 'function' ? definition.text : definition.text.replace(/\\s/g, '&nbsp;'); // Preserve whitespaces in the text\n    $('<a class=\"menu-action\" href=\"javascript:{}\">').appendTo(element).on('mouseover', definition.mouseover || function (e) {}).on('mouseout', definition.mouseout || function (e) {}).html(text);\n  },\n  clone: function clone(definition, element, menucontext) {\n    var original = $(\"#\".concat(definition.cloneId));\n    var clone = original.clone(true);\n    /* Remove the original element, keeping it in the clones array.\n       Necessary such that no two elements with the same id are on the page\n       and callback functions operate on the correct element */\n    menucontext.clones.push(original);\n    original.data('parent', original.parent());\n    original.detach();\n    clone.show();\n    clone.appendTo(element);\n  }\n};\nfunction format(definition, element, menucontext) {\n  var type = definition.a || definition.an || 'item';\n  formatters[type](definition, element, menucontext);\n}\n\n// --------------------------------------------------------------------------\n\n// http://davidwalsh.name/javascript-debounce-function\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this,\n      args = arguments;\n    var later = function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\n// Error logging\nfunction logAction(message) {\n  if ((0,_sharedscripts_sentry__WEBPACK_IMPORTED_MODULE_0__.isSentryInitialized)()) {\n    _sentry_browser__WEBPACK_IMPORTED_MODULE_1__.addBreadcrumb({\n      category: 'contextmenu',\n      message: message,\n      level: 'info'\n    });\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Db21tb25TY3JpcHRzL3NoYXJlZHNjcmlwdHMvc2hhcmVkc2NyaXB0cy1jb250ZXh0bWVudS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBR0E7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SZWFjdENvbXBvbmVudHNfLy4vQ29tbW9uU2NyaXB0cy9zaGFyZWRzY3JpcHRzL3NoYXJlZHNjcmlwdHMtY29udGV4dG1lbnUuanM/MWM1NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UsIGZ1bmMtbmFtZXMgKi9cbi8vIENsaWVudC1zaWRlIHN1cHBvcnQgZm9yIGR5bmFtaWMgY29udGV4dCBtZW51cy5cbi8vXG4vLyBUaGUgdHJpZ2dlciB0byBvcGVuIHRoZW0gaXMgc29tZXRoaW5nIHdoaWNoIGlzIGxlZnQgdG8gdGhlIGNsaWVudCB0byBzZXQgdXAuXG4vLyBBbGwgdGhlIGNsaWVudCBuZWVkcyB0byBkbyBpcyB0ZWxsIHRoaXMgbW9kdWxlIHRoZSBwYWdlIGNvb3JkaW5hdGVzIG9mIHdoZXJlXG4vLyB0aGUgbWVudSBzaG91bGQgYXBwZWFyLiBFLmcuOlxuLy9cbi8vICAgJCgnI21haW50YWJsZScpLm9uKCdjb250ZXh0bWVudScsICd0ZCcsIGZ1bmN0aW9uKGUpIHtcbi8vICAgICAgIG1lbnUuc2hvdyhlLnBhZ2VYLCBlLnBhZ2VZKVxuLy8gICB9KVxuLy9cbi8vIFRoZSBtZW51IHdpbGwgYmUgY3JlYXRlZCB3aXRoIGl0cyB0b3AtbGVmdCBjb3JuZXIgYXQgZXhhY3RseSB0aGF0IHBvc2l0aW9uLFxuLy8gdW5sZXNzIGl0IHdvdWxkIG5vdCBmaXQgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIHZpZXdwb3J0LiBJZiB0aGF0IGlzIHRoZVxuLy8gY2FzZSBpdCB3aWxsIGdldCBzaGlmdGVkIGxlZnQgYW5kIHVwIGFzIG11Y2ggYXMgaXMgbmVlZGVkIHRvIG1ha2UgaXQgZml0LlxuLy9cbi8vXG4vLyBDcmVhdGluZyB0aGUgbWVudSBpcyBkb25lIGJ5IGNhbGxpbmcgJGNvbnRleHQuY3JlYXRlKC4uLikgYW5kIHBhc3NpbmcgaXQgYVxuLy8gamF2YXNjcmlwdCBhcnJheSB3aGljaCBkZWZpbmVzIHRoZSBtZW51IHN0cnVjdHVyZS4gRS5nLjpcbi8vXG4vLyAgIG1lbnUgPSAkY29udGV4dC5jcmVhdGUoW1xuLy8gICAgIGl0ZW1fMSxcbi8vICAgICBpdGVtXzIsXG4vLyAgICAgLi4uXG4vLyAgICAgaXRlbV9uLFxuLy8gICBdKVxuLy9cbi8vIFRoZSBtZW51cyBnZXQgYXR0YWNoZWQgdG8gdGhlIERPTSwgc28gaXQgaXMgYmVzdCB0byBvbmx5IGNyZWF0ZSB0aGVtIG9uY2UuXG4vLyBXaGVuIGEgbWVudSBjbG9zZXMgdGhleSBkbyBub3QgZ2V0IGNsZWFuZWQgdXAuIENsZWFudXAgc2hvdWxkIGJlIGRvbmVcbi8vIGV4cGxpY2l0bHksIGJ1dCB0aGVyZSBpcyBubyBzdXBwb3J0aW5nIGZ1bmN0aW9uIHlldCB0byBkbyBzby4gKFRPRE8hKVxuLy9cbi8vXG4vLyBFYWNoIG1lbnUgaXRlbSBpcyBhIGphdmFzY3JpcHQgb2JqZWN0IHdoaWNoIGRlZmluZXMgc29tZSBiYXNpYyBkYXRhLiBBdCB0aGVcbi8vIGhlYXJ0IG9mIGV2ZXJ5dGhpbmcgaXMgaXRzIHR5cGUsIHdoaWNoIGNhbiBiZSBhbnl0aGluZyBzdXBwb3J0ZWQgYnkgdGhlXG4vLyAnZm9ybWF0dGVycycgbGlzdCB5b3UnbGwgZmluZCBmdXJ0aGVyIGRvd24gaW4gdGhlIGNvZGUuIEF0IHRoZSB0aW1lIG9mXG4vLyB3cml0aW5nIHRoZXNlIGFyZTogaXRlbSwgc2VwYXJhdG9yLCBzdWJtZW51LCBpbnB1dCBhbmQgY2hlY2tib3guIFRoZSB0eXBlIGdldHNcbi8vIHNwZWNpZmllZCB2aWEgYSAnYScgb3IgJ2FuJyBmaWVsZC4gRS5nLjpcbi8vXG4vLyAgIGl0ZW1fMSA9IHsgYW46ICdpdGVtJywgLi4uIH1cbi8vICAgaXRlbV8yID0geyBhOiAnc2VwYXJhdG9yJywgLi4uIH1cbi8vICAgaXRlbV8zID0geyBhOiAnc3VibWVudScsIC4uLiB9XG4vL1xuLy8gSWYgbm8gdHlwZSBpcyBzcGVjaWZpZWQgdGhlbiBpdCBpcyBhc3N1bWVkIHRvIGJlICdpdGVtJy4gVGhpcyBzaG91bGQgYmUgdGhlXG4vLyBjb21tb24gY2FzZS4gU28gJ2l0ZW1fMScgY291bGQgaGF2ZSBiZWVuIHJlZHVjZWQgdG86XG4vL1xuLy8gICBpdGVtXzEgPSB7IC4uLiB9XG4vL1xuLy8gQWxsIG1lbnUgaXRlbXMgY2FuIGhhdmUgYW4gb3B0aW9uYWwgJ2lkJyBmaWVsZC4gVGhpcyBhbGxvd3MgcmVmZXJyaW5nIHRvLFxuLy8gYW5kIG1hbmlwdWxhdGluZywgYSBzcGVjaWZpYyBtZW51IGl0ZW0gYWZ0ZXIgdGhlIG1lbnUgaGFzIGJlZW4gYnVpbHQuIFRoZVxuLy8gYWRkZWQgZWZmZWN0IGlzIHRoYXQgYSBkYXRhIGF0dHJpYnV0ZSAnZGF0YS1tZW51LWlkJyBpcyBhZGRlZCB0byB0aGUgRE9NXG4vLyBlbGVtZW50LCB3aGljaCBoZWxwcyBncmFiYmluZyBzcGVjaWZpYyBtZW51IGl0ZW1zIGluIGF1dG9tYXRlZCB0ZXN0cy5cbi8vXG4vLyBBbGwgb3RoZXIgZmllbGRzIHdoaWNoIGFyZSByZXF1aXJlZCBkZXBlbmQgb24gdGhlIHR5cGUgb2YgdGhlIG1lbnUgaXRlbS4gRm9yXG4vLyB0aGUgZGVmYXVsdCB0eXBlICdpdGVtJyB0aGVzZSBhcmU6XG4vLyAgIC0gdGV4dDogd2hpY2ggc2V0cyB0aGUgbWVudSBpdGVtJ3MgbGFiZWwuXG4vLyAgIC0gZm46IHdoaWNoIGRlZmluZXMgYSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSB0cmlnZ2VyZWQgd2hlbiB0aGUgbWVudSBpdGVtXG4vLyAgICAgZ2V0cyBhY3RpdmF0ZWQuIElmIHlvdSBkb24ndCBzcGVjaWZ5IGEgY2FsbGJhY2sgYW5kIGEgbWVudSBpdGVtIGdldHNcbi8vICAgICBhY3RpdmF0ZWQgdGhpcyBsaWJyYXJ5IHdpbGwgZmlyZSBhICdjbGljay1tZW51LWl0ZW0nIGV2ZW50LCB3aGljaCBjYW4gYmVcbi8vICAgICBoYW5kbGVkIGJ5IEpRdWVyeSBldmVudCBoYW5kbGVycy4gRS5nLjpcbi8vXG4vLyAgICAgJCgnYm9keScpLm9uKCdjbGljay1tZW51LWl0ZW0nLCBmdW5jdGlvbihlLCBtZW51X2l0ZW1fZGVmaW5pdGlvbikge1xuLy8gICAgICAgLi4uXG4vLyAgICAgfSlcbi8vXG4vLyBJdGVtIHZpc2liaWxpdHkgYW5kIGVuYWJsZW1lbnQ6XG4vLyBBbGwgbWVudSBpdGVtcyBoYXZlIGFuIG9wdGlvbmFsICdkaXNhYmxlaWYnIGFuZCAnaGlkZWlmJyBmaWVsZC4gVGhleSBhY2NlcHRcbi8vIGEgZnVuY3Rpb24gcGFyYW1ldGVyIGFuZCBjYW4gYmUgdXNlZCB0byByZXNwZWN0aXZlbHkgZGlzYWJsZSBvciBoaWRlIHRoZSBtZW51IGl0ZW0uXG4vL1xuLy8gU3VibWVudXMgYWxzbyBoYXZlIGEgbGFiZWwgd2hpY2ggeW91IGNhbiBkZWZpbmUgdmlhIHRoZSAndGV4dCcgZmllbGQuIEluXG4vLyBhZGRpdGlvbiBpdCBhY2NlcHRzIGEgJ3dpdGgnIGZpZWxkIHdoaWNoIGhvbGRzIHRoZSBkZWZpbml0aW9uIGZvciB0aGVcbi8vIHN1Ym1lbnUuIFRoaXMgYWdhaW4gY29uZm9ybXMgdG8gdGhlIGRlZmluaXRpb24gb2YgYW55IG1lbnUgKGkuZS4gYSBsaXN0IG9mXG4vLyBtZW51IGl0ZW1zKS4gRS5nLjpcbi8vXG4vLyAgIHN1Ym1lbnUgPSB7IGE6ICdzdWJtZW51JywgdGV4dDogJ1N1Ym1lbnUnLCB3aXRoOiBbXG4vLyAgICAgaXRlbV8xLFxuLy8gICAgIGl0ZW1fMixcbi8vICAgICAuLi5cbi8vICAgICBpdGVtX25cbi8vICAgXX1cbi8vXG4vLyBBc2lkZSBmcm9tIHRoYXQgc3VibWVudXMgY2FuIGFsc28gYmUgY3JlYXRlZCBkeW5hbWljYWxseS4gVG8gZG8gdGhhdCB5b3Vcbi8vIHNob3VsZCBub3QgcGFzcyBhbiBhcnJheSBhcyB0aGUgdmFsdWUgb2YgdGhlICd3aXRoJyBmaWVsZCBidXQgcGFzcyBhXG4vLyBmdW5jdGlvbiBpbnN0ZWFkLiBUaGlzIGZ1bmN0aW9uIHdpbGwgZ2V0IHRyaWdnZXJlZCB3aGVuIHRoZSBzdWJtZW51IHNob3VsZFxuLy8gYmVjb21lIHZpc2libGUsIGFuZCBpdCBzaG91bGQgcmV0dXJuIHRoZSBkZWZpbml0aW9uIG9mIHRoZSBzdWJtZW51IGFzIHVzdWFsLlxuLy8gU28gdGhlIGFib3ZlIGV4YW1wbGUgY291bGQgYWxzbyBoYXZlIGJlZW4gd3JpdHRlbiBhczpcbi8vXG4vLyAgIHN1Ym1lbnUgPSB7IGE6ICdzdWJtZW51JywgdGV4dDogJ1N1Ym1lbnUnLCB3aXRoOiBmdW5jdGlvbigpIHtcbi8vICAgICByZXR1cm4gW1xuLy8gICAgICAgaXRlbV8xLFxuLy8gICAgICAgaXRlbV8yLFxuLy8gICAgICAgLi4uXG4vLyAgICAgICBpdGVtX25cbi8vICAgICBdXG4vLyAgIH19XG4vL1xuLy8gSGVyZSBpcyBhIG1vcmUgY29tcGxldGUgZXhhbXBsZSBvZiBhIG1lbnUgZGVmaW5pdGlvbiwgd2hpY2ggYWxzbyBzaG93c1xuLy8gZmllbGRzIGZvciBvdGhlciBtZW51IGl0ZW0gdHlwZXM6XG4vL1xuLy8gICBtZW51ID0gJGNvbnRleHQuY3JlYXRlKFtcbi8vICAgICB7IHRleHQ6ICdOZXcgRXZlbnQnLCBmbjogZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdORVcgRVZFTlQnKX0gfSxcbi8vICAgICB7IHRleHQ6ICdTZXQgYXMgVW5hdmFpbGFibGUnLCBmbjogbG9naXQgfSxcbi8vXG4vLyAgICAgeyBhOiAnc2VwYXJhdG9yJyB9LFxuLy9cbi8vICAgICB7IGE6ICdzdWJtZW51JywgdGV4dDogJ0Fzc2lnbiBTdGF0dXMnLCB3aXRoOiBbXG4vLyAgICAgICB7IHRleHQ6ICdObyBTdGF0dXMnIH0sXG4vLyAgICAgICAgICAgeyB0ZXh0OiAnT3B0aW9uIFJlcXVlc3QnIH0sXG4vLyAgICAgICAgICAgeyB0ZXh0OiAnT3B0aW9uJyB9LFxuLy8gICAgICAgICAgIHsgdGV4dDogJ0NvbmZpcm1lZCBPcHRpb24nIH0sXG4vLyAgICAgICAgICAgeyB0ZXh0OiAnUGxhbm5lZCcgfSxcbi8vICAgICAgICAgICB7IHRleHQ6ICdMb2NrZWQnIH0sXG4vLyAgICAgICAgICAgeyB0ZXh0OiAnQ2FuY2VsbGVkJyB9XG4vLyAgICAgIF19LFxuLy8gICAgICB7IGE6ICdzdWJtZW51JywgdGV4dDogJ0Fzc2lnbiBSb2xlJywgd2l0aDogZHluYW1pY19pdGVtc19mbiB9LFxuLy9cbi8vICAgICAgeyBhOiAnc2VwYXJhdG9yJyB9LFxuLy9cbi8vICAgICAgeyB0ZXh0OiAnQ3V0JywgZGlzYWJsZWlmPWZ1bmN0aW9uKCl7IHJldHVybiB1c2VyIGNhbl9kZWxldGUgfX0sXG4vLyAgICAgIHsgdGV4dDogJ0NvcHknIH0sXG4vLyAgICAgIHsgdGV4dDogJ1Bhc3RlJyB9LFxuLy9cbi8vICAgICAgeyBhOiAnc2VwYXJhdG9yJyB9LFxuLy9cbi8vICAgICAgeyBhOiAnc3VibWVudScsIHRleHQ6ICdBZGQgdG8gR3JvdXAnLCB3aXRoOiBbIHsgYW46ICdzZWFyY2gnLCB0ZXh0OiAnU2VhcmNoIGNvbnRhY3QuLi4nLCBzb3VyY2U6IHNvdXJjZV9mbiwgc2VsZWN0OiBzZWxlY3RfZm4gfSBdLFxuLy9cbi8vICAgICAgeyBhbjogJ2lucHV0JyB9LFxuLy8gICAgICB7IGE6ICdjaGVja2JveCcsIHRleHQ6ICdDaGVjayA/JyB9LFxuLy8gICBdKVxuLy9cbi8vXG4vLyBJbiBhZGRpdGlvbiwgdGhlIG9wZW5pbmcgYW5kIGNsb3Npbmcgb2YgbWVudXMgYW5kIHN1Ym1lbnVzIGZpcmVzIGV2ZW50c1xuLy8gd2hpY2ggY2FuIGJlIGhhbmRsZXMgYnkgSlF1ZXJ5IGV2ZW50IGhhbmRsZXJzLiBFLmcuOlxuLy9cbi8vICAgJCgnYm9keScpLm9uKCdjbG9zZWQtbWVudScsIGZ1bmN0aW9uKGUpIHtcbi8vICAgICAgLi4uXG4vLyAgIH0pXG4vL1xuLy8gVGhlIGV2ZW50cyB3aGljaCBjYW4gYmUgd2F0Y2hlZCBmb3IgYXJlOlxuLy8gICAtIG9wZW5pbmctbWVudVxuLy8gICAtIGNsb3NlZC1tZW51XG4vLyAgIC0gb3BlbmluZy1zdWItbWVudVxuLy8gICAtIGNsb3NlZC1zdWItbWVudVxuXG5pbXBvcnQgKiBhcyBTZW50cnkgZnJvbSBcIkBzZW50cnkvYnJvd3NlclwiO1xuaW1wb3J0IHtpc1NlbnRyeUluaXRpYWxpemVkfSBmcm9tIFwiLi9zaGFyZWRzY3JpcHRzLXNlbnRyeVwiO1xuXG5leHBvcnQgY2xhc3MgU2hhcmVkc2NyaXB0c0NvbnRleHRtZW51IHtcbiAgY29uc3RydWN0b3IoaXRlbXMsIG9wdGlvbnMsIHJvb3RfbWVudSkge1xuICAgIHRoaXMubWVudSA9IG51bGw7XG4gICAgdGhpcy5yb290X21lbnUgPSByb290X21lbnUgfHwgdGhpcztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5pZGVudGlmaWVkID0ge307XG5cbiAgICB0aGlzLmFjdGl2ZV9zdWJtZW51X2l0ZW0gPSBudWxsO1xuICAgIHRoaXMuYWN0aXZlX3N1Ym1lbnUgPSBudWxsO1xuXG4gICAgdGhpcy5pc19zaG93biA9IGZhbHNlO1xuICAgIHRoaXMueCA9IG51bGw7XG4gICAgdGhpcy55ID0gbnVsbDtcbiAgICB0aGlzLmlzTWFjID1cbiAgICAgIG5hdmlnYXRvci5wbGF0Zm9ybS5tYXRjaCgvbWFjL2kpICE9PSBudWxsICYmXG4gICAgICBuYXZpZ2F0b3IucGxhdGZvcm0ubWF0Y2goL21hYy9pKS5sZW5ndGggPiAwO1xuICAgIHRoaXMuY2xvbmVzID0gW107XG4gICAgdGhpcy5jYWNoZWRfc3VibWVudV9pdGVtcyA9IHt9O1xuICAgIHRoaXMudGltZXIgPSBudWxsO1xuXG4gICAgdGhpcy5zZXR1cF9jb250YWluZXIoKTtcbiAgICB0aGlzLnNldHVwX2l0ZW1zKGl0ZW1zKTtcbiAgICB0aGlzLnNldHVwX2ludGVyYWN0aW9ucygpO1xuICB9XG5cbiAgc2V0dXBfY29udGFpbmVyKCkge1xuICAgIHRoaXMubWVudSA9ICQoJzx1bD4nKTtcbiAgICBpZiAodGhpcy5yb290X21lbnUgPT09IHRoaXMpIHtcbiAgICAgIHRoaXMubWVudS5hZGRDbGFzcygnbWVudScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1lbnUuYWRkQ2xhc3MoJ3N1Ym1lbnUnKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3ViTWVudUNzc0NsYXNzZXMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnN1Yk1lbnVDc3NDbGFzc2VzLmZvckVhY2goXG4gICAgICAgICAgZnVuY3Rpb24oY3NzQ2xhc3MpIHtcbiAgICAgICAgICAgIHRoaXMubWVudS5hZGRDbGFzcyhjc3NDbGFzcyk7XG4gICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGFpbmVyQ3NzQ2xhc3Nlcykge1xuICAgICAgdGhpcy5tZW51LnJlbW92ZUNsYXNzKCdtZW51Jyk7XG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyQ3NzQ2xhc3Nlcy5mb3JFYWNoKFxuICAgICAgICBmdW5jdGlvbihjc3NDbGFzcykge1xuICAgICAgICAgIHRoaXMubWVudS5hZGRDbGFzcyhjc3NDbGFzcyk7XG4gICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pZCkgdGhpcy5tZW51LmF0dHIoJ2lkJywgdGhpcy5vcHRpb25zLmlkKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbk1vdXNlT3V0KSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIHRoaXMubWVudS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLmNsb3NlKCk7XG4gICAgICAgICAgaWYgKHNlbGYucm9vdF9tZW51ID09PSBzZWxmKSB7XG4gICAgICAgICAgICBzZWxmLm9wdGlvbnMub25DbG9zZU1vdXNlT3V0ICYmIHNlbGYub3B0aW9ucy5vbkNsb3NlTW91c2VPdXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHNlbGYub3B0aW9ucy5jbG9zZUFmdGVyIHx8IDUwMCk7XG4gICAgICB9KTtcbiAgICAgIC8qIElmIGEgbW91c2VvdmVyIGhhcHBlbnMgd2hpbGUgdGhlIHRpbWVyIG9uIG1vdXNlbGVhdmUgaXMgc3RpbGwgY291bnRpbmcsXG4gICAgICAgICBjYW5jZWwgdGhlIGNsb3NlIGFjdGlvbi4gICovXG4gICAgICB0aGlzLm1lbnUub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICAgICAgICB0aGlzLnRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHNldHVwX2l0ZW1zKGl0ZW1zKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgY29uc3QgZWxlbWVudCA9ICQoJzxsaT4nKS5hZGRDbGFzcygnZGV2LW1lbnUtaXRlbScpO1xuICAgICAgaWYgKGl0ZW0uY2xhc3MpIGVsZW1lbnQuYWRkQ2xhc3MoaXRlbS5jbGFzcyk7XG4gICAgICBlbGVtZW50LmRhdGEoJ2Rldi1tZW51LWl0ZW0nLCBpdGVtKTtcblxuICAgICAgZm9ybWF0KGl0ZW0sIGVsZW1lbnQsIHRoaXMpO1xuICAgICAgaWYgKGl0ZW0uaGlkZWlmICE9PSB1bmRlZmluZWQpIGVsZW1lbnQuZGF0YSgnaGlkZWlmJywgaXRlbS5oaWRlaWYpO1xuICAgICAgaWYgKGl0ZW0uZGlzYWJsZWlmICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZWxlbWVudC5kYXRhKCdkaXNhYmxlaWYnLCBpdGVtLmRpc2FibGVpZik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbS5zaG93aWYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbGVtZW50LmRhdGEoJ3Nob3dpZicsIGl0ZW0uc2hvd2lmKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaXRlbS50ZXh0ID09PSAnZnVuY3Rpb24nKSBlbGVtZW50LmRhdGEoJ3RleHRfZm4nLCBpdGVtLnRleHQpO1xuICAgICAgaWYgKGl0ZW0uaHRtbEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgZWxlbWVudC5kYXRhKCdodG1sQXR0cmlidXRlcycsIGl0ZW0uaHRtbEF0dHJpYnV0ZXMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbS5pZCkge1xuICAgICAgICBlbGVtZW50LmF0dHIoJ2RhdGEtbWVudS1pZCcsIGl0ZW0uaWQpO1xuICAgICAgICB0aGlzLmlkZW50aWZpZWRbaXRlbS5pZF0gPSB7XG4gICAgICAgICAgaXRlbSxcbiAgICAgICAgICBlbGVtZW50XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLmZvY3VzKSBlbGVtZW50LmF0dHIoJ2RhdGEtZm9jdXMnLCB0cnVlKTtcbiAgICAgIHRoaXMubWVudS5hcHBlbmQoZWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIHNldHVwX2ludGVyYWN0aW9ucygpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcblxuICAgIC8vIFByZXZlbnQgY2xpY2tzIGZyb20gc2VlcGluZyB0aHJvdWdoIHRoZSBjb250ZXh0IG1lbnUsIHdoaWNoIG1pZ2h0XG4gICAgLy8gb3RoZXJ3aXNlIGNsb3NlIHRoZSBtZW51IHByZW1hdHVyZWx5LlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5tZW51Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTYW1lIGZvciBpbnB1dCBmaWVsZHMgc2hvd24gaW4gdGhlIG1lbnUuIEludGVyYWN0aW5nIHdpdGggdGhlbSBzaG91bGRcbiAgICAvLyBub3QgY2xvc2UgdGhlIG1lbnUuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB0aGlzLm1lbnUub24oJ2NsaWNrJywgJ2lucHV0JywgZnVuY3Rpb24oZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIC8vIENsaWNraW5nIG9uIGEgbWVudSBpdGVtIHRyaWdnZXJzIGFuIGFjdGlvbiBldmVudC5cbiAgICB0aGlzLm1lbnUub24oXG4gICAgICAnY2xpY2snLFxuICAgICAgJy5kZXYtbWVudS1pdGVtOm5vdCguc2VwYXJhdG9yKTpub3QoLmRpc2FibGVkKScsXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gJCh0aGlzKS5kYXRhKCdkZXYtbWVudS1pdGVtJyk7XG4gICAgICAgIGxvZ0FjdGlvbihgQ2xpY2tlZCBvbiAke2RlZmluaXRpb24udGV4dH1gKTtcblxuICAgICAgICBpZiAoZGVmaW5pdGlvbi5mbikge1xuICAgICAgICAgIGRlZmluaXRpb24uZm4oZSk7XG4gICAgICAgICAgaWYgKChkZWZpbml0aW9uLmEgfHwgZGVmaW5pdGlvbi5hbikgIT09ICdzdWJtZW51Jykge1xuICAgICAgICAgICAgY29udGV4dC5yb290X21lbnUuY2xvc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGV4dC5tZW51LnRyaWdnZXIoJ2NsaWNrLW1lbnUtaXRlbScsIGRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcblxuICAgIC8vIFN1Ym1lbnUgaW50ZXJhY3Rpb24uXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB0aGlzLm1lbnUub24oJ21vdXNlb3ZlcicsICcuZGV2LW1lbnUtaXRlbScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSByZXR1cm47XG5cbiAgICAgIGlmIChjb250ZXh0LmFjdGl2ZV9zdWJtZW51X2l0ZW0pIGNvbnRleHQuYWN0aXZlX3N1Ym1lbnVfaXRlbS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgJCh0aGlzKS5kYXRhKCdkZXYtbWVudS1pdGVtJykuYSAhPT0gJ3N1Ym1lbnUnICYmXG4gICAgICAgICQodGhpcykuZGF0YSgnZGV2LW1lbnUtaXRlbScpLmFuICE9PSAnc3VibWVudSdcbiAgICAgICkge1xuICAgICAgICBjb250ZXh0LmFjdGl2ZV9zdWJtZW51X2l0ZW0gPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5hY3RpdmVfc3VibWVudV9pdGVtID0gJCh0aGlzKTtcbiAgICAgICAgY29udGV4dC5hY3RpdmVfc3VibWVudV9pdGVtLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cblxuICAgICAgdG9nZ2xlX3N1Ym1lbnVfYXNfbmVlZGVkKCk7XG4gICAgfSk7XG5cbiAgICAvLyBTaG93L0hpZGUgc3VibWVudXMgYXMgbmVlZGVkLlxuICAgIC8vIFRoaXMgZ2V0cyBkZWJvdW5jZWQgdG8gcHJldmVudCB2aXN1YWwgYXJ0ZWZhY3RzLlxuICAgIGNvbnN0IHRvZ2dsZV9zdWJtZW51X2FzX25lZWRlZCA9IGRlYm91bmNlKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKFxuICAgICAgICBjb250ZXh0LmFjdGl2ZV9zdWJtZW51ICYmXG4gICAgICAgIGNvbnRleHQuYWN0aXZlX3N1Ym1lbnUuaXNfc2hvd24gJiZcbiAgICAgICAgY29udGV4dC5hY3RpdmVfc3VibWVudV9pdGVtICYmXG4gICAgICAgIGNvbnRleHQuYWN0aXZlX3N1Ym1lbnUgPT09IGNvbnRleHQuYWN0aXZlX3N1Ym1lbnVfaXRlbS5kYXRhKCdzdWJtZW51JylcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjb250ZXh0LmFjdGl2ZV9zdWJtZW51KSBjb250ZXh0LmFjdGl2ZV9zdWJtZW51LmNsb3NlKCk7XG5cbiAgICAgIGlmIChjb250ZXh0LmFjdGl2ZV9zdWJtZW51X2l0ZW0pIHtcbiAgICAgICAgY29udGV4dC5hY3RpdmVfc3VibWVudSA9IGNvbnRleHQuYWN0aXZlX3N1Ym1lbnVfaXRlbS5kYXRhKCdzdWJtZW51Jyk7XG5cbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IGNvbnRleHQuYWN0aXZlX3N1Ym1lbnVfaXRlbS5kYXRhKCdkZXYtbWVudS1pdGVtJyk7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gZGVmaW5pdGlvbi53aXRoO1xuICAgICAgICBjb25zdCBjcmVhdGVTdWJNZW51ID0gZnVuY3Rpb24oaXRlbXMsIG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgICAgICAgICBvcHRpb25zLmlkID0gJ3N1Ym1lbnUnO1xuICAgICAgICAgIG9wdGlvbnMuZm9yID0gZGVmaW5pdGlvbi50ZXh0O1xuICAgICAgICAgIGNvbnRleHQuYWN0aXZlX3N1Ym1lbnUgPSBuZXcgU2hhcmVkc2NyaXB0c0NvbnRleHRtZW51KGl0ZW1zLCBvcHRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgICBjb250ZXh0LmFjdGl2ZV9zdWJtZW51X2l0ZW0uZGF0YSgnc3VibWVudScsIGNvbnRleHQuYWN0aXZlX3N1Ym1lbnUpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjb250ZXh0SGFzU3VibWVudUZvckRlZmluaXRpb24gPSBmdW5jdGlvbihkZWZpbml0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuYWN0aXZlX3N1Ym1lbnUgJiYgY29udGV4dC5hY3RpdmVfc3VibWVudS5vcHRpb25zLmZvciA9PT0gZGVmaW5pdGlvbi50ZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGxvZ0FjdGlvbihgT3BlbmluZyBzdWJtZW51IGZvciAke2RlZmluaXRpb24udGV4dH1gKTtcblxuICAgICAgICAvLyBBc3luYyBmdW5jdGlvblxuICAgICAgICBpZiAodHlwZW9mIGl0ZW1zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY29uc3QgY2FjaGVkX2l0ZW1zID0gY29udGV4dC5yb290X21lbnUuY2FjaGVkX3N1Ym1lbnVfaXRlbXNbZGVmaW5pdGlvbi50ZXh0XTtcbiAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5yZWJ1aWxkU3VibWVudSB8fCAhY2FjaGVkX2l0ZW1zKSB7XG4gICAgICAgICAgICBpdGVtcyh0cnVlLCBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgLyogSWYgdGhlIGFjdGl2ZV9zdWJtZW51X2l0ZW0gaXMgbm8gbG9uZ2VyIHNldCwgdGhlIHVzZXIgaGFzIHNlbGVjdGVkIGFub3RoZXIgbWVudSBpdGVtLlxuICAgICAgICAgICAgICAgICBEaXNjYXJkIHRoZSByZXN1bHRzIG9mIHRoZSBhc3luYyBjYWxsIGFuZCBkbyBub3Qgc2hvdyB0aGUgc3VibWVudSAqL1xuICAgICAgICAgICAgICBpZiAoY29udGV4dC5hY3RpdmVfc3VibWVudV9pdGVtKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlU3ViTWVudShyZXMsIGNvbnRleHQub3B0aW9ucywgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hY3RpdmVfc3VibWVudS5zaG93X2Zvcihjb250ZXh0LmFjdGl2ZV9zdWJtZW51X2l0ZW0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnRleHQucm9vdF9tZW51LmNhY2hlZF9zdWJtZW51X2l0ZW1zW2RlZmluaXRpb24udGV4dF0gPSByZXM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3JlYXRlU3ViTWVudShjYWNoZWRfaXRlbXMsIGNvbnRleHQub3B0aW9ucywgY29udGV4dCk7XG4gICAgICAgICAgICBjb250ZXh0LmFjdGl2ZV9zdWJtZW51LnNob3dfZm9yKGNvbnRleHQuYWN0aXZlX3N1Ym1lbnVfaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8qIFJlY3JlYXRlIHRoZSBtZW51IGlmIGV4cGxpY2l0bHkgY29uZmlndXJlZCBvciBpZiB0aGUgY3VycmVudCBzdWJtZW51IGlzIG5vdCBzZXQgb3IgZm9yIGFub3RoZXIgZGVmaW5pdGlvbiAqL1xuICAgICAgICAgIGlmICghY29udGV4dEhhc1N1Ym1lbnVGb3JEZWZpbml0aW9uKGRlZmluaXRpb24pIHx8IGRlZmluaXRpb24ucmVidWlsZFN1Ym1lbnUpIHtcbiAgICAgICAgICAgIGNyZWF0ZVN1Yk1lbnUoaXRlbXMsIGNvbnRleHQub3B0aW9ucywgY29udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRleHQuYWN0aXZlX3N1Ym1lbnUuc2hvd19mb3IoY29udGV4dC5hY3RpdmVfc3VibWVudV9pdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIDI1MCk7XG5cbiAgICAvLyBDbGlja2luZyBvdXRzaWRlIHRoZSBjb250ZXh0IG1lbnUgbXVzdCBoaWRlIGl0LlxuICAgICQoJ2JvZHknKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5jdHJsS2V5ICYmIGNvbnRleHQuaXNNYWMpIHJldHVybjtcbiAgICAgIGNvbnRleHQuY2xvc2UoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBTaG93IHRoZSBtZW51IGFzIG5lYXIgYXMgcG9zc2libGUgdG8gdGhlIHJlcXVlc3RlZCBjb29yZGluYXRlcywgYnV0XG4gIC8vIG1ha2luZyBzdXJlIHRoYXQgdGhlIGVudGlyZSBtZW51IHN0YXlzIHZpc2libGUuLi5cbiAgc2hvdyh4LCB5KSB7XG4gICAgY29uc3QgbWF4X3ggPSAkKGRvY3VtZW50KS53aWR0aCgpO1xuICAgIGNvbnN0IG1heF95ID0gJChkb2N1bWVudCkuaGVpZ2h0KCk7XG5cbiAgICBjb25zdCB3aWR0aCA9IHRoaXMubWVudS53aWR0aCgpO1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMubWVudS5oZWlnaHQoKTtcblxuICAgIHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbih4LCBtYXhfeCAtIHdpZHRoKSk7XG4gICAgeSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHksIG1heF95IC0gaGVpZ2h0KSk7XG5cbiAgICB0aGlzLnNob3dfYXQoeCwgeSk7XG4gIH07XG5cbiAgc2hvd19mb3IobWVudV9pdGVtKSB7XG4gICAgaWYgKHRoaXMuaXNfc2hvd24pIHJldHVybjtcblxuICAgIHRoaXMucHJlcGFyZV9zaG93KCk7XG5cbiAgICB0aGlzLm1lbnUuaGlkZSgpO1xuICAgICQobWVudV9pdGVtKS5hcHBlbmQodGhpcy5tZW51KTtcbiAgICB0aGlzLm1lbnVcbiAgICAgIC5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpXG4gICAgICAuaGlkZSgpXG4gICAgICAuZmFkZUluKDEwMCk7XG5cbiAgICBpZiAodGhpcy5tZW51LndpZHRoKCkgKyBtZW51X2l0ZW0ub2Zmc2V0KCkubGVmdCArIG1lbnVfaXRlbS53aWR0aCgpID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoICsgJCh3aW5kb3cpLnNjcm9sbExlZnQoKSkge1xuICAgICAgY29uc3QgbGVmdCA9IHRoaXMubWVudS53aWR0aCgpID4gbWVudV9pdGVtLndpZHRoKCkgPyBtZW51X2l0ZW0ud2lkdGgoKSAtIHRoaXMubWVudS53aWR0aCgpIDogNTtcbiAgICAgIHRoaXMubWVudS5jc3MoJ2xlZnQnLCBgJHtsZWZ0fXB4YCkuY3NzKCdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xuICAgIH1cblxuICAgIHRoaXMuaXNfc2hvd24gPSB0cnVlO1xuICAgIHRoaXMuYWZ0ZXJfc2hvdygpO1xuICB9O1xuXG4gIHNob3dfYXQoeCwgeSkge1xuICAgIGlmICh0aGlzLmlzX3Nob3duICYmIHRoaXMueCA9PT0geCAmJiB0aGlzLnkgPT09IHkpIHJldHVybjtcblxuICAgIC8vIE9ubHkgYXBwZW5kIHRoZSByb290IG1lbnUgdG8gdGhlIGJvZHksIHN1Ym1lbnVzIGFyZSBhcHBlbmRlZCB0byB0aGVpciBtZW51LWl0ZW0gZWxlbWVudFxuICAgIGlmICh0aGlzLnJvb3RfbWVudSA9PT0gdGhpcykgJCgnYm9keScpLmFwcGVuZCh0aGlzLm1lbnUpO1xuICAgIHRoaXMucHJlcGFyZV9zaG93KCk7XG5cbiAgICBsZXQgdG9wID0geTtcblxuICAgIGlmICgkKCdib2R5JykuaGVpZ2h0KCkgKyAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSAtIHkgPCB0aGlzLm1lbnUuaGVpZ2h0KCkpIHtcbiAgICAgIHRvcCAtPSAodGhpcy5tZW51LmhlaWdodCgpIC0gKCQoJ2JvZHknKS5oZWlnaHQoKSArICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpIC0geSkgKyA1KTtcbiAgICB9XG5cbiAgICB0aGlzLm1lbnVcbiAgICAgIC5jc3MoJ3RvcCcsIGAke3RvcH1weGApXG4gICAgICAuY3NzKCdsZWZ0JywgYCR7eH1weGApXG4gICAgICAuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKVxuICAgICAgLmNzcygnei1pbmRleCcsIDk5OTk5OSlcbiAgICAgIC5oaWRlKClcbiAgICAgIC5mYWRlSW4oMTAwKTtcblxuICAgIHRoaXMuaXNfc2hvd24gPSB0cnVlO1xuICAgIHRoaXMuYWZ0ZXJfc2hvdygpO1xuICB9O1xuXG4gIHByZXBhcmVfc2hvdygpIHtcbiAgICBpZiAodGhpcy5hY3RpdmVfc3VibWVudV9pdGVtKSB7XG4gICAgICB0aGlzLmFjdGl2ZV9zdWJtZW51X2l0ZW0ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5hY3RpdmVfc3VibWVudV9pdGVtID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hY3RpdmVfc3VibWVudSkge1xuICAgICAgdGhpcy5hY3RpdmVfc3VibWVudS5jbG9zZSgpO1xuICAgICAgdGhpcy5hY3RpdmVfc3VibWVudSA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5tZW51XG4gICAgICAuZmluZCgnbGknKVxuICAgICAgLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ2hpZGVpZicpICYmICQodGhpcykuZGF0YSgnaGlkZWlmJykoKSkge1xuICAgICAgICAgICQodGhpcykuaGlkZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQodGhpcykuc2hvdygpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ2Rpc2FibGVpZicpKSB7XG4gICAgICAgICAgY29uc3QgZGlzYWJsZWlmID0gJCh0aGlzKS5kYXRhKCdkaXNhYmxlaWYnKTtcbiAgICAgICAgICBpZiAoKHR5cGVvZiBkaXNhYmxlaWYgPT09ICdib29sZWFuJyAmJiBkaXNhYmxlaWYpIHx8ICQodGhpcykuZGF0YSgnZGlzYWJsZWlmJykoKSkge1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgICAgLmZpbmQoJz4gYScpXG4gICAgICAgICAgICAgIC5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgICAgLmZpbmQoJz4gYScpXG4gICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQodGhpcykuZGF0YSgnc2hvd2lmJykpIHtcbiAgICAgICAgICBpZiAoISQodGhpcykuZGF0YSgnc2hvd2lmJykoKSkge1xuICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKHRoaXMpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS5kYXRhKCdodG1sQXR0cmlidXRlcycpKSB7XG4gICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9ICQodGhpcykuZGF0YSgnaHRtbEF0dHJpYnV0ZXMnKTtcbiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gJCh0aGlzKTtcbiAgICAgICAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgJChlbGVtZW50KS5kYXRhKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS5kYXRhKCd0ZXh0X2ZuJykpIHtcbiAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAuZmluZCgnYScpXG4gICAgICAgICAgICAuaHRtbCgkKHRoaXMpLmRhdGEoJ3RleHRfZm4nKSgpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgaWYgKHRoaXMucm9vdF9tZW51ID09PSB0aGlzKSB7XG4gICAgICB0aGlzLm1lbnUudHJpZ2dlcignb3BlbmluZy1tZW51Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQodGhpcy5tZW51KS50cmlnZ2VyKCdvcGVuaW5nLXN1Yi1tZW51Jyk7XG4gICAgfVxuICB9O1xuXG4gIGFmdGVyX3Nob3coKSB7XG4gICAgdGhpcy5tZW51LmZpbmQoJ2xpJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ2ZvY3VzJykpIHtcbiAgICAgICAgJCh0aGlzKVxuICAgICAgICAgIC5maW5kKCdpbnB1dCcpXG4gICAgICAgICAgLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgY2xvc2UoKSB7XG4gICAgaWYgKCF0aGlzLmlzX3Nob3duKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5hY3RpdmVfc3VibWVudV9pdGVtKSB7XG4gICAgICB0aGlzLmFjdGl2ZV9zdWJtZW51X2l0ZW0ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgaWYgKHRoaXMuYWN0aXZlX3N1Ym1lbnVfaXRlbS5kYXRhKCdzdWJtZW51JykgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmFjdGl2ZV9zdWJtZW51X2l0ZW0uZGF0YSgnc3VibWVudScpLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogQWRkIHRoZSBjbG9uZSBlbGVtZW50IGJhY2sgb24gdGhlIHBhZ2UgKi9cbiAgICB0aGlzLmNsb25lcy5mb3JFYWNoKGZ1bmN0aW9uKGNsb25lRWxlbWVudCkge1xuICAgICAgY2xvbmVFbGVtZW50LmFwcGVuZFRvKGNsb25lRWxlbWVudC5kYXRhKCdwYXJlbnQnKSk7XG4gICAgfSk7XG4gICAgLyogUmVzZXQgY2FjaGVkIHN1Ym1lbnUgaXRlbXMgKi9cbiAgICB0aGlzLmNhY2hlZF9zdWJtZW51X2l0ZW1zID0ge307XG5cbiAgICB0aGlzLmlzX3Nob3duID0gZmFsc2U7XG4gICAgdGhpcy5tZW51LmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKS5mYWRlT3V0KDEwMCk7XG4gICAgaWYgKHRoaXMucm9vdF9tZW51ID09PSB0aGlzKSB7XG4gICAgICB0aGlzLm1lbnUudHJpZ2dlcignY2xvc2VkLW1lbnUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZW51LnRyaWdnZXIoJ2Nsb3NlZC1zdWItbWVudScpO1xuICAgIH1cbiAgICB0aGlzLm1lbnUuZGV0YWNoKCk7XG4gIH07XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLm1lbnUucmVtb3ZlKCk7XG4gIH07XG5cbiAgZW5hYmxlKGlkKSB7XG4gICAgaWYgKHRoaXMuaWRlbnRpZmllZFtpZF0pIHtcbiAgICAgIHRoaXMuaWRlbnRpZmllZFtpZF0uZWxlbWVudC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIHRoaXMuaWRlbnRpZmllZFtpZF0uZWxlbWVudC5maW5kKCc+IGEnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5pZGVudGlmaWVkW2lkXS5lbGVtZW50LmRhdGEoJ2Rpc2FibGVpZicpID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgdGhpcy5pZGVudGlmaWVkW2lkXS5lbGVtZW50LmRhdGEoJ2Rpc2FibGVpZicsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZW5hYmxlX2FsbCgpIHtcbiAgICBjb25zdCBpZHMgPSBPYmplY3Qua2V5cyh0aGlzLmlkZW50aWZpZWQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB0aGlzLmVuYWJsZShpZHNbaV0pO1xuICB9O1xuXG4gIGRpc2FibGUoaWQpIHtcbiAgICBpZiAodGhpcy5pZGVudGlmaWVkW2lkXSkge1xuICAgICAgdGhpcy5pZGVudGlmaWVkW2lkXS5lbGVtZW50LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmlkZW50aWZpZWRbaWRdLmVsZW1lbnQuZGF0YSgnZGlzYWJsZWlmJykgPT09ICdib29sZWFuJykge1xuICAgICAgICB0aGlzLmlkZW50aWZpZWRbaWRdLmVsZW1lbnQuZGF0YSgnZGlzYWJsZWlmJywgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGRpc2FibGVfYWxsKCkge1xuICAgIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKHRoaXMuaWRlbnRpZmllZCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHRoaXMuZGlzYWJsZShpZHNbaV0pO1xuICB9O1xuXG4gIHNldF90ZXh0KGlkLCB0ZXh0KSB7XG4gICAgY29uc3QgaWRkID0gdGhpcy5pZGVudGlmaWVkW2lkXTtcbiAgICBpZiAoaWRkLml0ZW0udGV4dCkge1xuICAgICAgaWRkLml0ZW0udGV4dCA9IHRleHQ7XG4gICAgICBpZGQuZWxlbWVudC5maW5kKCdhLm1lbnUtYWN0aW9uJykudGV4dCh0ZXh0KTtcbiAgICB9XG4gIH07XG5cbiAgZ2V0X2h0bWxhdHRyaWJ1dGUoaWQsIGtleSkge1xuICAgIGlmICh0aGlzLmlkZW50aWZpZWRbaWRdKSB7XG4gICAgICBpZiAodGhpcy5pZGVudGlmaWVkW2lkXS5pdGVtLmh0bWxBdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkZW50aWZpZWRbaWRdLml0ZW0uaHRtbEF0dHJpYnV0ZXNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgc2V0X2h0bWxhdHRyaWJ1dGUoaWQsIGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCBpZGQgPSB0aGlzLmlkZW50aWZpZWRbaWRdO1xuICAgIGlmIChpZGQpIHtcbiAgICAgIGNvbnN0IGh0bWxBdHRyaWJ1dGVzID0gaWRkLml0ZW0uaHRtbEF0dHJpYnV0ZXMgfHwge307XG4gICAgICBodG1sQXR0cmlidXRlc1trZXldID0gdmFsdWU7XG4gICAgICBpZGQuaXRlbS5odG1sQXR0cmlidXRlcyA9IGh0bWxBdHRyaWJ1dGVzO1xuICAgICAgaWRkLmVsZW1lbnQuZGF0YShrZXksIHZhbHVlKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNvbnN0IGZvcm1hdHRlcnMgPSB7XG5cbiAgc2VwYXJhdG9yKGRlZmluaXRpb24sIGVsZW1lbnQsIG1lbnVjb250ZXh0KSB7XG4gICAgZWxlbWVudC5hZGRDbGFzcygnc2VwYXJhdG9yJyk7XG4gIH0sXG5cbiAgaXRlbShkZWZpbml0aW9uLCBlbGVtZW50LCBtZW51Y29udGV4dCkge1xuICAgIGNvbnN0IHRleHQgPSB0eXBlb2YgZGVmaW5pdGlvbi50ZXh0ID09PSAnZnVuY3Rpb24nID8gZGVmaW5pdGlvbi50ZXh0IDogZGVmaW5pdGlvbi50ZXh0LnJlcGxhY2UoL1xccy9nLCAnJm5ic3A7Jyk7IC8vIFByZXNlcnZlIHdoaXRlc3BhY2VzIGluIHRoZSB0ZXh0XG4gICAgaWYgKGRlZmluaXRpb24uY3NzQ2xhc3MpIHtcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoZGVmaW5pdGlvbi5jc3NDbGFzcyk7XG4gICAgfVxuICAgICQoJzxhIGNsYXNzPVwibWVudS1hY3Rpb25cIiBocmVmPVwiamF2YXNjcmlwdDp7fVwiPicpXG4gICAgICAuYXBwZW5kVG8oZWxlbWVudClcbiAgICAgIC5odG1sKHRleHQpO1xuXG4gICAgaWYgKGRlZmluaXRpb24uZGVsZXRlQWN0aW9uKSB7XG4gICAgICAkKCc8YSBjbGFzcz1cImRlc3Ryb3llclwiIGhyZWY9XCJqYXZhc2NyaXB0Ont9XCI+JylcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGRlZmluaXRpb24uZGVsZXRlQWN0aW9uKGUpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSlcbiAgICAgICAgLmFwcGVuZFRvKGVsZW1lbnQpXG4gICAgICAgIC5odG1sKCdkZWxldGUnKTtcbiAgICB9XG4gIH0sXG5cbiAgc3VibWVudShkZWZpbml0aW9uLCBlbGVtZW50LCBtZW51Y29udGV4dCkge1xuICAgICQoJzxhIGhyZWY9XCJqYXZhc2NyaXB0Ont9XCI+JylcbiAgICAgIC5odG1sKGRlZmluaXRpb24udGV4dClcbiAgICAgIC5hcHBlbmRUbyhlbGVtZW50LmFkZENsYXNzKCdicmFuY2gnKSk7XG4gIH0sXG5cbiAgaW5wdXQoZGVmaW5pdGlvbiwgZWxlbWVudCwgbWVudWNvbnRleHQpIHtcbiAgICBjb25zdCBpbnB1dCA9ICQoJzxpbnB1dD4nKVxuICAgICAgLmF0dHIoJ3R5cGUnLCAndGV4dCcpXG4gICAgICAuYXR0cigncGxhY2Vob2xkZXInLCBkZWZpbml0aW9uLnRleHQpO1xuICAgIGlmIChkZWZpbml0aW9uLmZvY3VzT25PcGVuKSB7XG4gICAgICBtZW51Y29udGV4dC5tZW51Lm9uKCdvcGVuaW5nLXN1Yi1tZW51JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgfSwgMTUwKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZGVmaW5pdGlvbi5vbkVudGVyKSB7XG4gICAgICBpbnB1dC5vbigna2V5cHJlc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgIGNvbnN0IGlucHV0VmFsdWUgPSBpbnB1dC52YWwoKTtcbiAgICAgICAgICBkZWZpbml0aW9uLm9uRW50ZXIoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgaW5wdXQudmFsKCcnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsZW1lbnQuYXBwZW5kKGlucHV0KTtcbiAgfSxcblxuICBzZWFyY2goZGVmaW5pdGlvbiwgZWxlbWVudCwgbWVudWNvbnRleHQpIHtcblxuICAgIGNvbnN0IHVwZGF0ZUlucHV0TWFyZ2luRnVuY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gJCgnLmlucHV0LWZpbHRlcicsIGVsZW1lbnQpLm91dGVyV2lkdGgoKSArIDEwO1xuICAgICAgICAkKHNlYXJjaGZpZWxkKS5jc3MoJ3BhZGRpbmctcmlnaHQnLCBgJHt3aWR0aC50b1N0cmluZygpfXB4YCk7XG4gICAgICB9LCAwKTtcbiAgICB9O1xuXG4gICAgLy8gSlEtVUkgQXV0b2NvbXBsZXRlIGF1dG9tYXRpY2FsbHkgYXBwZW5kcyB0aGUgc3VnZ2VzdGlvbiBtZW51IHRvIGEgcGFyZW50IG1hcmtlZCB3aXRoIC51aS1mcm9udFxuICAgIGNvbnN0IGNvbnRhaW5lciA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ3VpLWZyb250IG1lbnVfX2F1dG9jb21wbGV0ZS1yZXN1bHQnKTtcbiAgICBjb25zdCBzZWFyY2hmaWVsZCA9ICQoJzxpbnB1dD4nKVxuICAgICAgLmF0dHIoJ3R5cGUnLCAndGV4dCcpXG4gICAgICAuYXR0cigncGxhY2Vob2xkZXInLCBkZWZpbml0aW9uLnRleHQpO1xuICAgIGlmIChkZWZpbml0aW9uLm9uTmV3KSB7XG4gICAgICBzZWFyY2hmaWVsZC5vbigna2V5dXAnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBkZWZpbml0aW9uLm9uTmV3KHNlYXJjaGZpZWxkLnZhbCgpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnRhaW5lci5hcHBlbmQoc2VhcmNoZmllbGQpO1xuICAgIGlmIChkZWZpbml0aW9uLndpdGhGaWx0ZXIpIHtcbiAgICAgIGNvbnN0IGZpbHRlciA9ICQoJzxzcGFuPicpLmFkZENsYXNzKCdzdWJtZW51LWZpbHRlciBpbnB1dC1maWx0ZXInKTtcbiAgICAgIGZpbHRlci5hdHRyKCd0aXRsZScsIGRlZmluaXRpb24uZmlsdGVyVG9vbHRpcEZ1bmN0aW9uKCkpO1xuICAgICAgZmlsdGVyLmh0bWwoZGVmaW5pdGlvbi5maWx0ZXJMYWJlbEZ1bmN0aW9uKCkpO1xuICAgICAgZmlsdGVyLm9uKCdjbGljaycsIGZ1bmN0aW9uKGNsaWNrRXZlbnQpIHtcbiAgICAgICAgY2xpY2tFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkZWZpbml0aW9uLmZpbHRlclRvZ2dsZShmdW5jdGlvbigpIHtcbiAgICAgICAgICBmaWx0ZXIuYXR0cigndGl0bGUnLCBkZWZpbml0aW9uLmZpbHRlclRvb2x0aXBGdW5jdGlvbigpKTtcbiAgICAgICAgICBmaWx0ZXIuaHRtbChkZWZpbml0aW9uLmZpbHRlckxhYmVsRnVuY3Rpb24oKSk7XG4gICAgICAgICAgdXBkYXRlSW5wdXRNYXJnaW5GdW5jdGlvbigpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgY29udGFpbmVyLmFwcGVuZChmaWx0ZXIpO1xuICAgIH1cbiAgICBtZW51Y29udGV4dC5tZW51Lm9uKCdvcGVuaW5nLXN1Yi1tZW51JywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWFyY2hmaWVsZC5nZXQoMCkudmFsdWUgPSAnJztcbiAgICAgIHVwZGF0ZUlucHV0TWFyZ2luRnVuY3Rpb24oKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlYXJjaGZpZWxkLmZvY3VzKCk7XG4gICAgICB9LCAxNTApO1xuICAgIH0pO1xuXG4gICAgZWxlbWVudC5hcHBlbmQoY29udGFpbmVyKTtcblxuICAgIC8vIFRPRE86IG1vdmUgYXV0b2NvbXBsZXRlIGltcGxlbWVudGF0aW9uIHRvIHNlcGFyYXRlIG1vZHVsZSBmb3Igc2hhcmluZ1xuICAgIHNlYXJjaGZpZWxkLm5wUHJlc2V0QXV0b2NvbXBsZXRlKHtcbiAgICAgIGF1dG9Gb2N1czogdHJ1ZSxcbiAgICAgIG1pbkxlbmd0aDogZGVmaW5pdGlvbi5taW5MZW5ndGgsXG4gICAgICBtZXNzYWdlczoge1xuICAgICAgICBub1Jlc3VsdHMoKSB7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VsdHMoKSB7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzb3VyY2U6IGRlZmluaXRpb24uc291cmNlLFxuICAgICAgY3JlYXRlKCkge1xuICAgICAgICBpZiAoZGVmaW5pdGlvbi53aXRoUHJlc2V0cykge1xuICAgICAgICAgIHNlYXJjaGZpZWxkLm9uKCdmb2N1cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VhcmNoZmllbGQubnBQcmVzZXRBdXRvY29tcGxldGUoJ3NlYXJjaCcsICcnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNlbGVjdChldmVudCwgdWkpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRlZmluaXRpb24uc2VsZWN0KGV2ZW50LCB1aSk7XG4gICAgICAgIG1lbnVjb250ZXh0LnJvb3RfbWVudS5jbG9zZSgpO1xuICAgICAgfSxcbiAgICAgIG9wZW4oZXZlbnQsIHVpKSB7XG4gICAgICAgICQoJy51aS1hdXRvY29tcGxldGUudWktbWVudScpXG4gICAgICAgICAgLmNzcygnbGVmdCcsIDApXG4gICAgICAgICAgLmNzcygndG9wJywgMClcbiAgICAgICAgICAuY3NzKCd3aWR0aCcsICdhdXRvJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgc2VhcmNocmVzdWx0cyhkZWZpbml0aW9uLCBlbGVtZW50LCBtZW51Y29udGV4dCkge1xuICAgIGVsZW1lbnQuYXBwZW5kKCQoJzxkaXY+JykuYXR0cignaWQnLCBkZWZpbml0aW9uLmlkKSk7XG4gIH0sXG5cbiAgY2hlY2tib3goZGVmaW5pdGlvbiwgZWxlbWVudCwgbWVudWNvbnRleHQpIHtcbiAgICBjb25zdCBjaGVja2JveCA9ICQoJzxpbnB1dD4nKS5hdHRyKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG5cbiAgICBlbGVtZW50LmFwcGVuZChjaGVja2JveCkuYXBwZW5kKGRlZmluaXRpb24udGV4dCk7XG4gIH0sXG5cbiAgaG92ZXJhYmxlKGRlZmluaXRpb24sIGVsZW1lbnQsIG1lbnVjb250ZXh0KSB7XG4gICAgY29uc3QgdGV4dCA9IHR5cGVvZiBkZWZpbml0aW9uLnRleHQgPT09ICdmdW5jdGlvbicgPyBkZWZpbml0aW9uLnRleHQgOiBkZWZpbml0aW9uLnRleHQucmVwbGFjZSgvXFxzL2csICcmbmJzcDsnKTsgLy8gUHJlc2VydmUgd2hpdGVzcGFjZXMgaW4gdGhlIHRleHRcbiAgICAkKCc8YSBjbGFzcz1cIm1lbnUtYWN0aW9uXCIgaHJlZj1cImphdmFzY3JpcHQ6e31cIj4nKVxuICAgICAgLmFwcGVuZFRvKGVsZW1lbnQpXG4gICAgICAub24oJ21vdXNlb3ZlcicsIGRlZmluaXRpb24ubW91c2VvdmVyIHx8IGZ1bmN0aW9uKGUpIHtcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlb3V0JywgZGVmaW5pdGlvbi5tb3VzZW91dCB8fCBmdW5jdGlvbihlKSB7XG4gICAgICB9KVxuICAgICAgLmh0bWwodGV4dCk7XG4gIH0sXG5cbiAgY2xvbmUoZGVmaW5pdGlvbiwgZWxlbWVudCwgbWVudWNvbnRleHQpIHtcbiAgICBjb25zdCBvcmlnaW5hbCA9ICQoYCMke2RlZmluaXRpb24uY2xvbmVJZH1gKTtcbiAgICBjb25zdCBjbG9uZSA9IG9yaWdpbmFsLmNsb25lKHRydWUpO1xuICAgIC8qIFJlbW92ZSB0aGUgb3JpZ2luYWwgZWxlbWVudCwga2VlcGluZyBpdCBpbiB0aGUgY2xvbmVzIGFycmF5LlxuICAgICAgIE5lY2Vzc2FyeSBzdWNoIHRoYXQgbm8gdHdvIGVsZW1lbnRzIHdpdGggdGhlIHNhbWUgaWQgYXJlIG9uIHRoZSBwYWdlXG4gICAgICAgYW5kIGNhbGxiYWNrIGZ1bmN0aW9ucyBvcGVyYXRlIG9uIHRoZSBjb3JyZWN0IGVsZW1lbnQgKi9cbiAgICBtZW51Y29udGV4dC5jbG9uZXMucHVzaChvcmlnaW5hbCk7XG4gICAgb3JpZ2luYWwuZGF0YSgncGFyZW50Jywgb3JpZ2luYWwucGFyZW50KCkpO1xuICAgIG9yaWdpbmFsLmRldGFjaCgpO1xuICAgIGNsb25lLnNob3coKTtcbiAgICBjbG9uZS5hcHBlbmRUbyhlbGVtZW50KTtcbiAgfVxufTtcblxuZnVuY3Rpb24gZm9ybWF0KGRlZmluaXRpb24sIGVsZW1lbnQsIG1lbnVjb250ZXh0KSB7XG4gIGNvbnN0IHR5cGUgPSBkZWZpbml0aW9uLmEgfHwgZGVmaW5pdGlvbi5hbiB8fCAnaXRlbSc7XG4gIGZvcm1hdHRlcnNbdHlwZV0oZGVmaW5pdGlvbiwgZWxlbWVudCwgbWVudWNvbnRleHQpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBodHRwOi8vZGF2aWR3YWxzaC5uYW1lL2phdmFzY3JpcHQtZGVib3VuY2UtZnVuY3Rpb25cbi8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3Rcbi8vIGJlIHRyaWdnZXJlZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IHN0b3BzIGJlaW5nIGNhbGxlZCBmb3Jcbi8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuLy8gbGVhZGluZyBlZGdlLCBpbnN0ZWFkIG9mIHRoZSB0cmFpbGluZy5cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICBsZXQgdGltZW91dDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLFxuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICBjb25zdCBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICBpZiAoIWltbWVkaWF0ZSkgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB9O1xuICAgIGNvbnN0IGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICBpZiAoY2FsbE5vdykgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgfTtcbn1cblxuLy8gRXJyb3IgbG9nZ2luZ1xuZnVuY3Rpb24gbG9nQWN0aW9uKG1lc3NhZ2UpIHtcbiAgaWYgKGlzU2VudHJ5SW5pdGlhbGl6ZWQoKSkge1xuICAgIFNlbnRyeS5hZGRCcmVhZGNydW1iKHtcbiAgICAgIGNhdGVnb3J5OiAnY29udGV4dG1lbnUnLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIGxldmVsOiAnaW5mbydcbiAgICB9KVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./CommonScripts/sharedscripts/sharedscripts-contextmenu.js\n");

/***/ }),

/***/ "./CommonScripts/sharedscripts/sharedscripts-contextmenucalendarandinspectors.js":
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ContextMenuForCalendarsAndInspectors\": function() { return /* binding */ ContextMenuForCalendarsAndInspectors; }\n/* harmony export */ });\n/* harmony import */ var _sharedscripts_contextmenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./CommonScripts/sharedscripts/sharedscripts-contextmenu.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ContextMenuForCalendarsAndInspectors = /*#__PURE__*/function () {\n  function ContextMenuForCalendarsAndInspectors(configuration) {\n    _classCallCheck(this, ContextMenuForCalendarsAndInspectors);\n    this.configuration = configuration;\n    this.hide = this.hide.bind(this);\n    this.initializeMenu();\n  }\n  _createClass(ContextMenuForCalendarsAndInspectors, [{\n    key: \"initializeMenu\",\n    value: function initializeMenu() {\n      var options = _objectSpread(_objectSpread({}, this.menuOptions()), {}, {\n        id: this.menuIdentifier()\n      });\n      var items = this.menuItems();\n      this.menu = new _sharedscripts_contextmenu__WEBPACK_IMPORTED_MODULE_0__.SharedscriptsContextmenu(items, options);\n      /* Set id on the menu elements and transfer permissions */\n      $(this.menu.menu).find('> li').each(function (index, element) {\n        $(element).attr('id', \"\".concat(options.id, \"_\").concat(index));\n        if ($(element).has('a').length > 0) $(element).find('> a').attr('permissions', items[index].permission);\n      });\n    }\n  }, {\n    key: \"separator\",\n    value: function separator(options) {\n      return _objectSpread(_objectSpread({}, options), {}, {\n        'a': 'separator'\n      });\n    }\n  }, {\n    key: \"actionItem\",\n    value: function actionItem(actionName, options) {\n      var _this = this;\n      var action = this.configuration.actions[actionName];\n      if (action) {\n        return _objectSpread(_objectSpread({}, options || {}), {}, {\n          'an': 'item',\n          'permission': action.permissions,\n          'id': action.id,\n          'text': action.name,\n          'fn': function fn(e) {\n            return action.fn(e, _this.actionCallbackContext());\n          }\n        });\n      } else {\n        throw new Error(\"Menu action with name \".concat(actionName, \" is not defined by the backend\"));\n      }\n    }\n  }, {\n    key: \"input\",\n    value: function input(placeholder, onEnter, options) {\n      return _objectSpread(_objectSpread({}, options), {}, {\n        'a': 'input',\n        'text': placeholder,\n        'onEnter': onEnter\n      });\n    }\n  }, {\n    key: \"search\",\n    value: function search(text, sourceFunction, selectionFunction, options) {\n      var _this2 = this;\n      return _objectSpread(_objectSpread({}, options || {}), {}, {\n        'a': 'search',\n        text: text,\n        'source': function source(searchTerm, response) {\n          return sourceFunction(searchTerm, _this2.actionCallbackContext(), response);\n        },\n        'select': function select(event, ui) {\n          selectionFunction(event, ui, _this2.actionCallbackContext());\n          _this2.close();\n        }\n      });\n    }\n  }, {\n    key: \"submenu\",\n    value: function submenu(actionName, menuItems, options) {\n      var action = this.configuration.actions[actionName];\n      return _objectSpread(_objectSpread({}, options), {}, {\n        'a': 'submenu',\n        'permission': action.permissions,\n        'id': action.id,\n        'text': action.name,\n        'with': menuItems\n      });\n    }\n  }, {\n    key: \"menuItems\",\n    value: function menuItems() {\n      throw new Error('Subclass should have overridden menuItems');\n    }\n  }, {\n    key: \"menuOptions\",\n    value: function menuOptions() {\n      throw new Error('Subclass should have overridden menuOptions');\n    }\n  }, {\n    key: \"menuIdentifier\",\n    value: function menuIdentifier() {\n      throw new Error('Subclass should have overridden menuIdentifier');\n    }\n  }, {\n    key: \"beforeMenuOpen\",\n    value: function beforeMenuOpen(contextMenuOpenEvent) {\n      throw new Error('Subclass should have overridden beforeMenuOpen');\n    }\n  }, {\n    key: \"beforeMenuClose\",\n    value: function beforeMenuClose() {\n      throw new Error('Subclass should have overridden beforeMenuClose');\n    }\n  }, {\n    key: \"afterMenuClose\",\n    value: function afterMenuClose() {\n      throw new Error('Subclass should have overridden afterMenuClose');\n    }\n  }, {\n    key: \"setPermissions\",\n    value: function setPermissions(contextMenuOpenEvent) {\n      throw new Error('Subclass should have overridden setPermissions');\n    }\n  }, {\n    key: \"actionCallbackContext\",\n    value: function actionCallbackContext() {\n      throw new Error('Subclass should have overridden actionCallbackContext');\n    }\n  }, {\n    key: \"setupDisablements\",\n    value: function setupDisablements() {\n      var _this3 = this;\n      this.menu.menu.find('> li > a[permissions]').each(function (index, element) {\n        if ($(element).attr('isdisable')) {\n          _this3.menu.disable($(element).parent().attr('data-menu-id'));\n          /* Make sure the anchor is updated as well */\n          $(element).addClass('disabled');\n        } else {\n          _this3.menu.enable($(element).parent().attr('data-menu-id'));\n          /* Make sure the anchor is updated as well */\n          $(element).removeClass('disabled');\n        }\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open(contextMenuOpenEvent) {\n      // Close the menu if it was already open somewhere else on the page\n      this.menu.close();\n      // Invoke the hook to perform behavior before opening the context menu\n      this.beforeMenuOpen(contextMenuOpenEvent);\n      // Keep track of the element on which we have opened the context menu\n      this.contextMenuTarget = contextMenuOpenEvent.target;\n      // Remove the disabled classes from the anchors, such that the disablements are set correctly\n      this.menu.menu.find('> li > a').removeClass('disabled');\n      this.menu.show(contextMenuOpenEvent.pageX, contextMenuOpenEvent.pageY);\n      // Invoke the hook that sets the permissions\n      this.setPermissions(contextMenuOpenEvent);\n      // Based on the manipulations of the hook method, update the disablements\n      this.setupDisablements();\n      $('body').on('click', this.hide);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(event) {\n      if (event && event.isDefaultPrevented()) return;\n      // On a mac, it is possible to open the context menu by keeping the CTRL key pressed and clicking with the mouse\n      // In Safari, this click would trigger the hide method here, resulting in that the context menu briefly opens and then closes again\n      // Hence: if we are running on the mac, and the click is done while the ctrl key is pressed, we suppress hiding the menu.\n      if (this.menu.isMac && event.ctrlKey) return;\n      this.close();\n      $('body').off('click', this.hide);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.beforeMenuClose();\n      this.menu.close();\n      this.afterMenuClose();\n    }\n  }, {\n    key: \"contextMenuSelection\",\n    value: function contextMenuSelection() {\n      return $('.ui-selected');\n    }\n  }]);\n  return ContextMenuForCalendarsAndInspectors;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Db21tb25TY3JpcHRzL3NoYXJlZHNjcmlwdHMvc2hhcmVkc2NyaXB0cy1jb250ZXh0bWVudWNhbGVuZGFyYW5kaW5zcGVjdG9ycy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SZWFjdENvbXBvbmVudHNfLy4vQ29tbW9uU2NyaXB0cy9zaGFyZWRzY3JpcHRzL3NoYXJlZHNjcmlwdHMtY29udGV4dG1lbnVjYWxlbmRhcmFuZGluc3BlY3RvcnMuanM/MmEyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NoYXJlZHNjcmlwdHNDb250ZXh0bWVudX0gZnJvbSAnLi9zaGFyZWRzY3JpcHRzLWNvbnRleHRtZW51JztcblxuZXhwb3J0IGNsYXNzIENvbnRleHRNZW51Rm9yQ2FsZW5kYXJzQW5kSW5zcGVjdG9ycyB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24pIHtcbiAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgIHRoaXMuaGlkZSA9IHRoaXMuaGlkZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZU1lbnUoKTtcbiAgfVxuXG4gIGluaXRpYWxpemVNZW51KCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLiB0aGlzLm1lbnVPcHRpb25zKCksIGlkOiB0aGlzLm1lbnVJZGVudGlmaWVyKCkgfTtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMubWVudUl0ZW1zKCk7XG4gICAgdGhpcy5tZW51ID0gbmV3IFNoYXJlZHNjcmlwdHNDb250ZXh0bWVudShpdGVtcywgb3B0aW9ucyk7XG4gICAgLyogU2V0IGlkIG9uIHRoZSBtZW51IGVsZW1lbnRzIGFuZCB0cmFuc2ZlciBwZXJtaXNzaW9ucyAqL1xuICAgICQodGhpcy5tZW51Lm1lbnUpXG4gICAgICAuZmluZCgnPiBsaScpXG4gICAgICAuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgJChlbGVtZW50KS5hdHRyKCdpZCcsIGAke29wdGlvbnMuaWR9XyR7aW5kZXh9YCk7XG4gICAgICAgIGlmICgkKGVsZW1lbnQpLmhhcygnYScpLmxlbmd0aCA+IDApXG4gICAgICAgICAgJChlbGVtZW50KS5maW5kKCc+IGEnKS5hdHRyKCdwZXJtaXNzaW9ucycsIGl0ZW1zW2luZGV4XS5wZXJtaXNzaW9uKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgc2VwYXJhdG9yKG9wdGlvbnMpIHtcbiAgICByZXR1cm4geyAuLi5vcHRpb25zLCAnYSc6ICdzZXBhcmF0b3InfTtcbiAgfVxuXG4gIGFjdGlvbkl0ZW0oYWN0aW9uTmFtZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuY29uZmlndXJhdGlvbi5hY3Rpb25zW2FjdGlvbk5hbWVdO1xuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIHJldHVybiB7IC4uLm9wdGlvbnMgfHwge30sICdhbic6ICdpdGVtJywgJ3Blcm1pc3Npb24nOiBhY3Rpb24ucGVybWlzc2lvbnMsICdpZCc6IGFjdGlvbi5pZCwgJ3RleHQnOiBhY3Rpb24ubmFtZSwgJ2ZuJzogKGUpID0+IGFjdGlvbi5mbihlLCB0aGlzLmFjdGlvbkNhbGxiYWNrQ29udGV4dCgpKX07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTWVudSBhY3Rpb24gd2l0aCBuYW1lICR7YWN0aW9uTmFtZX0gaXMgbm90IGRlZmluZWQgYnkgdGhlIGJhY2tlbmRgKTtcbiAgICB9XG4gIH1cblxuICBpbnB1dChwbGFjZWhvbGRlciwgb25FbnRlciwgb3B0aW9ucykge1xuICAgIHJldHVybiB7IC4uLm9wdGlvbnMsICdhJzogJ2lucHV0JywgJ3RleHQnOiBwbGFjZWhvbGRlciwgJ29uRW50ZXInOiBvbkVudGVyIH07XG4gIH1cblxuICBzZWFyY2godGV4dCwgc291cmNlRnVuY3Rpb24sIHNlbGVjdGlvbkZ1bmN0aW9uLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHsgLi4ub3B0aW9ucyB8fCB7fSxcbiAgICAgICdhJzogJ3NlYXJjaCcsXG4gICAgICB0ZXh0LFxuICAgICAgJ3NvdXJjZSc6IChzZWFyY2hUZXJtLCByZXNwb25zZSkgPT4gc291cmNlRnVuY3Rpb24oc2VhcmNoVGVybSwgdGhpcy5hY3Rpb25DYWxsYmFja0NvbnRleHQoKSwgcmVzcG9uc2UpLFxuICAgICAgJ3NlbGVjdCc6IChldmVudCwgdWkpID0+IHtcbiAgICAgICAgc2VsZWN0aW9uRnVuY3Rpb24oZXZlbnQsIHVpLCB0aGlzLmFjdGlvbkNhbGxiYWNrQ29udGV4dCgpKTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfSB9O1xuICB9XG5cbiAgc3VibWVudShhY3Rpb25OYW1lLCBtZW51SXRlbXMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBhY3Rpb24gPSB0aGlzLmNvbmZpZ3VyYXRpb24uYWN0aW9uc1thY3Rpb25OYW1lXTtcbiAgICByZXR1cm4geyAuLi5vcHRpb25zLCAgJ2EnOiAnc3VibWVudScsICdwZXJtaXNzaW9uJzogYWN0aW9uLnBlcm1pc3Npb25zLCAnaWQnOiBhY3Rpb24uaWQsICd0ZXh0JzogYWN0aW9uLm5hbWUsICd3aXRoJzogbWVudUl0ZW1zIH07XG4gIH1cblxuICBtZW51SXRlbXMoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTdWJjbGFzcyBzaG91bGQgaGF2ZSBvdmVycmlkZGVuIG1lbnVJdGVtcycpO1xuICB9XG5cbiAgbWVudU9wdGlvbnMoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTdWJjbGFzcyBzaG91bGQgaGF2ZSBvdmVycmlkZGVuIG1lbnVPcHRpb25zJyk7XG4gIH1cblxuICBtZW51SWRlbnRpZmllcigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1YmNsYXNzIHNob3VsZCBoYXZlIG92ZXJyaWRkZW4gbWVudUlkZW50aWZpZXInKTtcbiAgfVxuXG4gIGJlZm9yZU1lbnVPcGVuKGNvbnRleHRNZW51T3BlbkV2ZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTdWJjbGFzcyBzaG91bGQgaGF2ZSBvdmVycmlkZGVuIGJlZm9yZU1lbnVPcGVuJyk7XG4gIH1cblxuICBiZWZvcmVNZW51Q2xvc2UoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTdWJjbGFzcyBzaG91bGQgaGF2ZSBvdmVycmlkZGVuIGJlZm9yZU1lbnVDbG9zZScpO1xuICB9XG5cbiAgYWZ0ZXJNZW51Q2xvc2UoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTdWJjbGFzcyBzaG91bGQgaGF2ZSBvdmVycmlkZGVuIGFmdGVyTWVudUNsb3NlJyk7XG4gIH1cblxuICBzZXRQZXJtaXNzaW9ucyhjb250ZXh0TWVudU9wZW5FdmVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcignU3ViY2xhc3Mgc2hvdWxkIGhhdmUgb3ZlcnJpZGRlbiBzZXRQZXJtaXNzaW9ucycpO1xuICB9XG5cbiAgYWN0aW9uQ2FsbGJhY2tDb250ZXh0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignU3ViY2xhc3Mgc2hvdWxkIGhhdmUgb3ZlcnJpZGRlbiBhY3Rpb25DYWxsYmFja0NvbnRleHQnKTtcbiAgfVxuXG4gIHNldHVwRGlzYWJsZW1lbnRzKCkge1xuICAgIHRoaXMubWVudS5tZW51LmZpbmQoJz4gbGkgPiBhW3Blcm1pc3Npb25zXScpLmVhY2goKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICBpZiAoJChlbGVtZW50KS5hdHRyKCdpc2Rpc2FibGUnKSkge1xuICAgICAgICB0aGlzLm1lbnUuZGlzYWJsZSgkKGVsZW1lbnQpLnBhcmVudCgpLmF0dHIoJ2RhdGEtbWVudS1pZCcpKTtcbiAgICAgICAgLyogTWFrZSBzdXJlIHRoZSBhbmNob3IgaXMgdXBkYXRlZCBhcyB3ZWxsICovXG4gICAgICAgICQoZWxlbWVudCkuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1lbnUuZW5hYmxlKCQoZWxlbWVudCkucGFyZW50KCkuYXR0cignZGF0YS1tZW51LWlkJykpO1xuICAgICAgICAvKiBNYWtlIHN1cmUgdGhlIGFuY2hvciBpcyB1cGRhdGVkIGFzIHdlbGwgKi9cbiAgICAgICAgJChlbGVtZW50KS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9wZW4oY29udGV4dE1lbnVPcGVuRXZlbnQpIHtcbiAgICAvLyBDbG9zZSB0aGUgbWVudSBpZiBpdCB3YXMgYWxyZWFkeSBvcGVuIHNvbWV3aGVyZSBlbHNlIG9uIHRoZSBwYWdlXG4gICAgdGhpcy5tZW51LmNsb3NlKCk7XG4gICAgLy8gSW52b2tlIHRoZSBob29rIHRvIHBlcmZvcm0gYmVoYXZpb3IgYmVmb3JlIG9wZW5pbmcgdGhlIGNvbnRleHQgbWVudVxuICAgIHRoaXMuYmVmb3JlTWVudU9wZW4oY29udGV4dE1lbnVPcGVuRXZlbnQpO1xuICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhlIGVsZW1lbnQgb24gd2hpY2ggd2UgaGF2ZSBvcGVuZWQgdGhlIGNvbnRleHQgbWVudVxuICAgIHRoaXMuY29udGV4dE1lbnVUYXJnZXQgPSBjb250ZXh0TWVudU9wZW5FdmVudC50YXJnZXQ7XG4gICAgLy8gUmVtb3ZlIHRoZSBkaXNhYmxlZCBjbGFzc2VzIGZyb20gdGhlIGFuY2hvcnMsIHN1Y2ggdGhhdCB0aGUgZGlzYWJsZW1lbnRzIGFyZSBzZXQgY29ycmVjdGx5XG4gICAgdGhpcy5tZW51Lm1lbnUuZmluZCgnPiBsaSA+IGEnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICB0aGlzLm1lbnUuc2hvdyhjb250ZXh0TWVudU9wZW5FdmVudC5wYWdlWCwgY29udGV4dE1lbnVPcGVuRXZlbnQucGFnZVkpO1xuICAgIC8vIEludm9rZSB0aGUgaG9vayB0aGF0IHNldHMgdGhlIHBlcm1pc3Npb25zXG4gICAgdGhpcy5zZXRQZXJtaXNzaW9ucyhjb250ZXh0TWVudU9wZW5FdmVudCk7XG4gICAgLy8gQmFzZWQgb24gdGhlIG1hbmlwdWxhdGlvbnMgb2YgdGhlIGhvb2sgbWV0aG9kLCB1cGRhdGUgdGhlIGRpc2FibGVtZW50c1xuICAgIHRoaXMuc2V0dXBEaXNhYmxlbWVudHMoKTtcbiAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgdGhpcy5oaWRlKTtcbiAgfVxuXG4gIGhpZGUoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybjtcbiAgICAvLyBPbiBhIG1hYywgaXQgaXMgcG9zc2libGUgdG8gb3BlbiB0aGUgY29udGV4dCBtZW51IGJ5IGtlZXBpbmcgdGhlIENUUkwga2V5IHByZXNzZWQgYW5kIGNsaWNraW5nIHdpdGggdGhlIG1vdXNlXG4gICAgLy8gSW4gU2FmYXJpLCB0aGlzIGNsaWNrIHdvdWxkIHRyaWdnZXIgdGhlIGhpZGUgbWV0aG9kIGhlcmUsIHJlc3VsdGluZyBpbiB0aGF0IHRoZSBjb250ZXh0IG1lbnUgYnJpZWZseSBvcGVucyBhbmQgdGhlbiBjbG9zZXMgYWdhaW5cbiAgICAvLyBIZW5jZTogaWYgd2UgYXJlIHJ1bm5pbmcgb24gdGhlIG1hYywgYW5kIHRoZSBjbGljayBpcyBkb25lIHdoaWxlIHRoZSBjdHJsIGtleSBpcyBwcmVzc2VkLCB3ZSBzdXBwcmVzcyBoaWRpbmcgdGhlIG1lbnUuXG4gICAgaWYgKHRoaXMubWVudS5pc01hYyAmJiBldmVudC5jdHJsS2V5KSByZXR1cm47XG4gICAgdGhpcy5jbG9zZSgpO1xuICAgICQoJ2JvZHknKS5vZmYoJ2NsaWNrJywgdGhpcy5oaWRlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuYmVmb3JlTWVudUNsb3NlKCk7XG4gICAgdGhpcy5tZW51LmNsb3NlKCk7XG4gICAgdGhpcy5hZnRlck1lbnVDbG9zZSgpO1xuICB9XG5cbiAgY29udGV4dE1lbnVTZWxlY3Rpb24oKSB7XG4gICAgcmV0dXJuICQoJy51aS1zZWxlY3RlZCcpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./CommonScripts/sharedscripts/sharedscripts-contextmenucalendarandinspectors.js\n");

/***/ }),

/***/ "./CommonScripts/sharedscripts/sharedscripts-genericcalendarcontextmenu.js":
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GenericCalendarContextMenu\": function() { return /* binding */ GenericCalendarContextMenu; }\n/* harmony export */ });\n/* harmony import */ var _sharedscripts_contextmenucalendarandinspectors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./CommonScripts/sharedscripts/sharedscripts-contextmenucalendarandinspectors.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar GenericCalendarContextMenu = /*#__PURE__*/function (_ContextMenuForCalend) {\n  _inherits(GenericCalendarContextMenu, _ContextMenuForCalend);\n  var _super = _createSuper(GenericCalendarContextMenu);\n  function GenericCalendarContextMenu() {\n    _classCallCheck(this, GenericCalendarContextMenu);\n    return _super.apply(this, arguments);\n  }\n  _createClass(GenericCalendarContextMenu, [{\n    key: \"menuOptions\",\n    value: function menuOptions() {\n      var _this = this;\n      return {\n        closeOnMouseOut: true,\n        onCloseMouseOut: function onCloseMouseOut() {\n          return _this.close();\n        },\n        containerCssClasses: ['cal-context-menu'],\n        subMenuCssClasses: ['submenu']\n      };\n    }\n  }, {\n    key: \"hasSufficientPermissions\",\n    value: function hasSufficientPermissions(provided, required) {\n      return _.isEmpty(_.difference(required, _.toArray(provided)));\n    }\n  }, {\n    key: \"setPermissions\",\n    value: function setPermissions(contextMenuOpenEvent) {\n      var _this2 = this;\n      var selectionQuery = $('#theCalendar .currentMenuFocus , #theCalendar .ui-selected');\n      var menuName = this.menuIdentifier();\n      var permissions;\n      var allPermissions = selectionQuery.map(function (i, el) {\n        return $(el).data('permissions');\n      });\n      if (allPermissions.length === 0) {\n        permissions = '';\n      } else {\n        var _allPermissions = _slicedToArray(allPermissions, 1);\n        permissions = _allPermissions[0];\n        allPermissions.each(function (idx, elementPermissions) {\n          permissions = _.intersection(elementPermissions, permissions);\n        });\n      }\n      $(\"#\".concat(menuName, \" li [permissions]\")).attr('isDisable', 'true');\n      // For each of the elements in the menu check if they have the right permissions\n      $(\"#\".concat(menuName, \" li [permissions]\")).each(function (index, element) {\n        var menuElementPermissionsString = $(element).attr('permissions');\n        if (_this2.hasSufficientPermissions(permissions, menuElementPermissionsString)) {\n          $(element).not('.disabled').removeAttr('isDisable');\n        }\n      });\n    }\n  }, {\n    key: \"updateUndo\",\n    value: function updateUndo(hasUndo, lastActionName) {\n      var undoAction = this.configuration.actions.undo;\n      if (!undoAction) {\n        return;\n      }\n      var undoActionId = undoAction.id;\n      this.menu.set_text(undoActionId, lastActionName);\n      if (hasUndo) {\n        this.menu.enable(undoActionId);\n      } else {\n        this.menu.disable(undoActionId);\n      }\n    }\n  }]);\n  return GenericCalendarContextMenu;\n}(_sharedscripts_contextmenucalendarandinspectors__WEBPACK_IMPORTED_MODULE_0__.ContextMenuForCalendarsAndInspectors);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Db21tb25TY3JpcHRzL3NoYXJlZHNjcmlwdHMvc2hhcmVkc2NyaXB0cy1nZW5lcmljY2FsZW5kYXJjb250ZXh0bWVudS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUmVhY3RDb21wb25lbnRzXy8uL0NvbW1vblNjcmlwdHMvc2hhcmVkc2NyaXB0cy9zaGFyZWRzY3JpcHRzLWdlbmVyaWNjYWxlbmRhcmNvbnRleHRtZW51LmpzPzBmOWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udGV4dE1lbnVGb3JDYWxlbmRhcnNBbmRJbnNwZWN0b3JzIH0gZnJvbSAnLi9zaGFyZWRzY3JpcHRzLWNvbnRleHRtZW51Y2FsZW5kYXJhbmRpbnNwZWN0b3JzJztcblxuZXhwb3J0IGNsYXNzIEdlbmVyaWNDYWxlbmRhckNvbnRleHRNZW51IGV4dGVuZHMgQ29udGV4dE1lbnVGb3JDYWxlbmRhcnNBbmRJbnNwZWN0b3JzIHtcblxuICBtZW51T3B0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xvc2VPbk1vdXNlT3V0OiB0cnVlLFxuICAgICAgb25DbG9zZU1vdXNlT3V0OiAoKSA9PiB0aGlzLmNsb3NlKCksXG4gICAgICBjb250YWluZXJDc3NDbGFzc2VzOiBbICdjYWwtY29udGV4dC1tZW51JyBdLFxuICAgICAgc3ViTWVudUNzc0NsYXNzZXM6IFsgJ3N1Ym1lbnUnIF1cbiAgICB9O1xuICB9XG5cbiAgaGFzU3VmZmljaWVudFBlcm1pc3Npb25zKHByb3ZpZGVkLCByZXF1aXJlZCkge1xuICAgIHJldHVybiBfLmlzRW1wdHkoXy5kaWZmZXJlbmNlKHJlcXVpcmVkLCBfLnRvQXJyYXkocHJvdmlkZWQpKSk7XG4gIH1cblxuICBzZXRQZXJtaXNzaW9ucyhjb250ZXh0TWVudU9wZW5FdmVudCkge1xuICAgIGNvbnN0IHNlbGVjdGlvblF1ZXJ5ID0gJCgnI3RoZUNhbGVuZGFyIC5jdXJyZW50TWVudUZvY3VzICwgI3RoZUNhbGVuZGFyIC51aS1zZWxlY3RlZCcpO1xuICAgIGNvbnN0IG1lbnVOYW1lID0gdGhpcy5tZW51SWRlbnRpZmllcigpO1xuICAgIGxldCBwZXJtaXNzaW9ucztcbiAgICBjb25zdCBhbGxQZXJtaXNzaW9ucyA9IHNlbGVjdGlvblF1ZXJ5Lm1hcCgoaSwgZWwpID0+ICQoZWwpLmRhdGEoJ3Blcm1pc3Npb25zJykpO1xuXG4gICAgaWYgKGFsbFBlcm1pc3Npb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcGVybWlzc2lvbnMgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgW3Blcm1pc3Npb25zXSA9IGFsbFBlcm1pc3Npb25zO1xuICAgICAgYWxsUGVybWlzc2lvbnMuZWFjaCgoaWR4LCBlbGVtZW50UGVybWlzc2lvbnMpID0+IHtcbiAgICAgICAgcGVybWlzc2lvbnMgPSBfLmludGVyc2VjdGlvbihlbGVtZW50UGVybWlzc2lvbnMsIHBlcm1pc3Npb25zKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAkKGAjJHttZW51TmFtZX0gbGkgW3Blcm1pc3Npb25zXWApLmF0dHIoJ2lzRGlzYWJsZScsICd0cnVlJyk7XG4gICAgLy8gRm9yIGVhY2ggb2YgdGhlIGVsZW1lbnRzIGluIHRoZSBtZW51IGNoZWNrIGlmIHRoZXkgaGF2ZSB0aGUgcmlnaHQgcGVybWlzc2lvbnNcbiAgICAkKGAjJHttZW51TmFtZX0gbGkgW3Blcm1pc3Npb25zXWApLmVhY2goKGluZGV4LCBlbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCBtZW51RWxlbWVudFBlcm1pc3Npb25zU3RyaW5nID0gJChlbGVtZW50KS5hdHRyKCdwZXJtaXNzaW9ucycpO1xuICAgICAgaWYgKHRoaXMuaGFzU3VmZmljaWVudFBlcm1pc3Npb25zKHBlcm1pc3Npb25zLCBtZW51RWxlbWVudFBlcm1pc3Npb25zU3RyaW5nKSkge1xuICAgICAgICAkKGVsZW1lbnQpLm5vdCgnLmRpc2FibGVkJykucmVtb3ZlQXR0cignaXNEaXNhYmxlJylcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVVuZG8oaGFzVW5kbywgbGFzdEFjdGlvbk5hbWUpIHtcbiAgICBjb25zdCB1bmRvQWN0aW9uID0gdGhpcy5jb25maWd1cmF0aW9uLmFjdGlvbnMudW5kbztcbiAgICBpZiAoIXVuZG9BY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdW5kb0FjdGlvbklkID0gdW5kb0FjdGlvbi5pZDtcbiAgICB0aGlzLm1lbnUuc2V0X3RleHQodW5kb0FjdGlvbklkLCBsYXN0QWN0aW9uTmFtZSk7XG4gICAgaWYgKGhhc1VuZG8pIHtcbiAgICAgIHRoaXMubWVudS5lbmFibGUodW5kb0FjdGlvbklkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZW51LmRpc2FibGUodW5kb0FjdGlvbklkKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./CommonScripts/sharedscripts/sharedscripts-genericcalendarcontextmenu.js\n");

/***/ }),

/***/ "./CommonScripts/sharedscripts/sharedscripts-npcommon.js":
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"handleAjaxError\": function() { return /* binding */ handleAjaxError; },\n/* harmony export */   \"hasAltKey\": function() { return /* binding */ hasAltKey; },\n/* harmony export */   \"hasMetaKey\": function() { return /* binding */ hasMetaKey; },\n/* harmony export */   \"insertCover\": function() { return /* binding */ insertCover; },\n/* harmony export */   \"removeCover\": function() { return /* binding */ removeCover; }\n/* harmony export */ });\n/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@sentry/hub/esm/exports.js\");\n/* harmony import */ var _sharedscripts_sentry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./CommonScripts/sharedscripts/sharedscripts-sentry.js\");\n/* eslint-disable no-unused-vars, func-names */\n/* global ajax request handling */\n\n\n$.ajaxSetup({\n  timeout: 60000\n});\n\n// the 'busy' spinner shows in the right-hand corner when an ajax request is running or a page navigation link was clicked\n$(document).ajaxStart(function () {\n  $('#status').addClass('busy').children('.message').html('BUSY');\n});\n$(window).on('beforeunload', function () {\n  $('#status').addClass('busy').children('.message').html('BUSY');\n});\n$(document).ajaxStop(function () {\n  $('#status').removeClass('busy').not('.lost').children('.message').html('');\n});\nfunction alertInternalServerError(errorDialogHTML) {\n  if (errorDialogHTML) $('body').append(errorDialogHTML);\n}\nfunction alertConnectionLost(message) {\n  alert(message);\n  window.location = '/';\n}\nfunction alertUnreportableError(message) {\n  alert(message);\n}\nfunction setOffline() {\n  $('#status').removeClass('busy').addClass('lost').children('.message').html('OFFLINE');\n}\n\n// tempo var to suppress multiple warning (should replace with nice encapsulated var)\nvar warningGiven;\nfunction handleAjaxError(e, jqXHR, ajaxSettings, thrownError) {\n  function logToSentry() {\n    if ((0,_sharedscripts_sentry__WEBPACK_IMPORTED_MODULE_0__.isSentryInitialized)()) {\n      _sentry_browser__WEBPACK_IMPORTED_MODULE_1__.withScope(function (scope) {\n        var extraData = {\n          type: ajaxSettings.type,\n          url: ajaxSettings.url,\n          data: ajaxSettings.data,\n          status: jqXHR.status,\n          error: thrownError || jqXHR.statusText,\n          response: jqXHR.responseText ? jqXHR.responseText.substring(0, 100) : undefined\n        };\n        scope.setExtras(extraData);\n        _sentry_browser__WEBPACK_IMPORTED_MODULE_1__.captureMessage(thrownError || jqXHR.statusText);\n      });\n    }\n  }\n  switch (jqXHR.status) {\n    case 500:\n      // Server-side error, use the communicated error message\n      setOffline();\n      // If an error happens however in a block with as response type Javascript, we need to manually evaluate the response text\n      if (jqXHR.getResponseHeader('content-type') === 'text/javascript') eval(jqXHR.responseText);\n      alertInternalServerError(jqXHR.getResponseHeader('content-type') === 'text/html' ? jqXHR.responseText : null);\n      logToSentry();\n      break;\n    case 403:\n      setOffline();\n      if ($('.panel--error').length === 0 && warningGiven === undefined) {\n        warningGiven = true;\n        alertConnectionLost('Connection with server has been lost. You need to login again. (error 403)');\n      }\n      break;\n    case 0:\n      if (jqXHR.statusText !== 'timeout') break;\n    // client-cancelled request: skip this one\n    // eslint-disable-next-line no-fallthrough\n    default:\n      if ($('.panel--error').length === 0 && warningGiven === undefined) {\n        warningGiven = true;\n        if (thrownError !== '' && thrownError !== 'timeout') {\n          logToSentry();\n          alertUnreportableError(\"Yesplan encountered an unreportable error: \".concat(thrownError));\n        } else {\n          setOffline();\n          alertConnectionLost(\"Connection with server has been lost. You need to login again. (error \".concat(jqXHR.status, \") - \").concat(thrownError, \" - \").concat(jqXHR.statusText, \" - \").concat(jqXHR.responseText, \" - \").concat(ajaxSettings.url));\n        }\n      }\n  }\n}\n$(document).ajaxError(handleAjaxError);\n\n/* cover insertion */\nfunction insertCover() {\n  if ($('.cover').length === 0) {\n    var bodyEl = $('body');\n    bodyEl.append('<div class=\"cover\"> </div>');\n    bodyEl.css({\n      'overflow': 'hidden'\n    });\n  }\n}\nfunction removeCover() {\n  var coverEl = $('.cover');\n  if (coverEl.length !== 0 && $('[data-needscover]').length === 0) coverEl.remove();\n  $('body').css({\n    'overflow': ''\n  });\n}\nfunction hasMetaKey(event) {\n  // Detect the metaKey (ctrl on windows/linux or cmd on mac)\n  var isMac = navigator.platform.match(/mac/i) !== null && navigator.platform.match(/mac/i).length > 0;\n  return isMac && event.metaKey || !isMac && event.ctrlKey;\n}\n\n// Detect the alt key\nfunction hasAltKey(event) {\n  return event.altKey;\n}\n\n// Extend the String class with a format function similar to the one in Smalltalk\nif (!String.prototype.format) {\n  String.prototype.format = function () {\n    var args = arguments;\n    return this.replace(/{(\\d+)}/g, function (match, number) {\n      return typeof args[number] !== 'undefined' ? args[number] : match;\n    });\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Db21tb25TY3JpcHRzL3NoYXJlZHNjcmlwdHMvc2hhcmVkc2NyaXB0cy1ucGNvbW1vbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL1JlYWN0Q29tcG9uZW50c18vLi9Db21tb25TY3JpcHRzL3NoYXJlZHNjcmlwdHMvc2hhcmVkc2NyaXB0cy1ucGNvbW1vbi5qcz9hNWNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzLCBmdW5jLW5hbWVzICovXG4vKiBnbG9iYWwgYWpheCByZXF1ZXN0IGhhbmRsaW5nICovXG5pbXBvcnQgKiBhcyBTZW50cnkgZnJvbSBcIkBzZW50cnkvYnJvd3NlclwiO1xuaW1wb3J0IHtpc1NlbnRyeUluaXRpYWxpemVkfSBmcm9tIFwiLi9zaGFyZWRzY3JpcHRzLXNlbnRyeVwiO1xuXG4kLmFqYXhTZXR1cCh7IHRpbWVvdXQ6IDYwMDAwIH0pO1xuXG5cbi8vIHRoZSAnYnVzeScgc3Bpbm5lciBzaG93cyBpbiB0aGUgcmlnaHQtaGFuZCBjb3JuZXIgd2hlbiBhbiBhamF4IHJlcXVlc3QgaXMgcnVubmluZyBvciBhIHBhZ2UgbmF2aWdhdGlvbiBsaW5rIHdhcyBjbGlja2VkXG4kKGRvY3VtZW50KS5hamF4U3RhcnQoZnVuY3Rpb24oKSB7XG4gICQoJyNzdGF0dXMnKS5hZGRDbGFzcygnYnVzeScpLmNoaWxkcmVuKCcubWVzc2FnZScpLmh0bWwoJ0JVU1knKTtcbn0pO1xuJCh3aW5kb3cpLm9uKCdiZWZvcmV1bmxvYWQnLCBmdW5jdGlvbigpIHtcbiAgJCgnI3N0YXR1cycpLmFkZENsYXNzKCdidXN5JykuY2hpbGRyZW4oJy5tZXNzYWdlJykuaHRtbCgnQlVTWScpO1xufSk7XG5cbiQoZG9jdW1lbnQpLmFqYXhTdG9wKGZ1bmN0aW9uKCkge1xuICAkKCcjc3RhdHVzJykucmVtb3ZlQ2xhc3MoJ2J1c3knKS5ub3QoJy5sb3N0JykuY2hpbGRyZW4oJy5tZXNzYWdlJykuaHRtbCgnJyk7XG59KTtcblxuZnVuY3Rpb24gYWxlcnRJbnRlcm5hbFNlcnZlckVycm9yKGVycm9yRGlhbG9nSFRNTCkge1xuICBpZiAoZXJyb3JEaWFsb2dIVE1MKVxuICAgICQoJ2JvZHknKS5hcHBlbmQoZXJyb3JEaWFsb2dIVE1MKTtcbn1cblxuZnVuY3Rpb24gYWxlcnRDb25uZWN0aW9uTG9zdChtZXNzYWdlKSB7XG4gIGFsZXJ0KG1lc3NhZ2UpO1xuICB3aW5kb3cubG9jYXRpb24gPSAnLyc7XG59XG5cbmZ1bmN0aW9uIGFsZXJ0VW5yZXBvcnRhYmxlRXJyb3IobWVzc2FnZSkge1xuICBhbGVydChtZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gc2V0T2ZmbGluZSgpIHtcbiAgJCgnI3N0YXR1cycpLnJlbW92ZUNsYXNzKCdidXN5JykuYWRkQ2xhc3MoJ2xvc3QnKS5jaGlsZHJlbignLm1lc3NhZ2UnKS5odG1sKCdPRkZMSU5FJyk7XG59XG5cbi8vIHRlbXBvIHZhciB0byBzdXBwcmVzcyBtdWx0aXBsZSB3YXJuaW5nIChzaG91bGQgcmVwbGFjZSB3aXRoIG5pY2UgZW5jYXBzdWxhdGVkIHZhcilcbmxldCB3YXJuaW5nR2l2ZW47XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQWpheEVycm9yKGUsIGpxWEhSLCBhamF4U2V0dGluZ3MsIHRocm93bkVycm9yKSB7XG4gIGZ1bmN0aW9uIGxvZ1RvU2VudHJ5KCkge1xuICAgIGlmIChpc1NlbnRyeUluaXRpYWxpemVkKCkpIHtcbiAgICAgIFNlbnRyeS53aXRoU2NvcGUoZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgY29uc3QgZXh0cmFEYXRhID0ge1xuICAgICAgICAgIHR5cGU6IGFqYXhTZXR0aW5ncy50eXBlLFxuICAgICAgICAgIHVybDogYWpheFNldHRpbmdzLnVybCxcbiAgICAgICAgICBkYXRhOiBhamF4U2V0dGluZ3MuZGF0YSxcbiAgICAgICAgICBzdGF0dXM6IGpxWEhSLnN0YXR1cyxcbiAgICAgICAgICBlcnJvcjogdGhyb3duRXJyb3IgfHwganFYSFIuc3RhdHVzVGV4dCxcbiAgICAgICAgICByZXNwb25zZTogKGpxWEhSLnJlc3BvbnNlVGV4dCkgPyBqcVhIUi5yZXNwb25zZVRleHQuc3Vic3RyaW5nKDAsIDEwMCkgOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICAgICAgc2NvcGUuc2V0RXh0cmFzKGV4dHJhRGF0YSk7XG4gICAgICAgIFNlbnRyeS5jYXB0dXJlTWVzc2FnZSh0aHJvd25FcnJvciB8fCBqcVhIUi5zdGF0dXNUZXh0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBzd2l0Y2ggKGpxWEhSLnN0YXR1cykge1xuICAgIGNhc2UgNTAwOiAvLyBTZXJ2ZXItc2lkZSBlcnJvciwgdXNlIHRoZSBjb21tdW5pY2F0ZWQgZXJyb3IgbWVzc2FnZVxuICAgICAgc2V0T2ZmbGluZSgpO1xuICAgICAgLy8gSWYgYW4gZXJyb3IgaGFwcGVucyBob3dldmVyIGluIGEgYmxvY2sgd2l0aCBhcyByZXNwb25zZSB0eXBlIEphdmFzY3JpcHQsIHdlIG5lZWQgdG8gbWFudWFsbHkgZXZhbHVhdGUgdGhlIHJlc3BvbnNlIHRleHRcbiAgICAgIGlmIChqcVhIUi5nZXRSZXNwb25zZUhlYWRlcignY29udGVudC10eXBlJykgPT09ICd0ZXh0L2phdmFzY3JpcHQnKVxuICAgICAgICBldmFsKGpxWEhSLnJlc3BvbnNlVGV4dCk7XG4gICAgICBhbGVydEludGVybmFsU2VydmVyRXJyb3IoKGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKSA9PT0gJ3RleHQvaHRtbCcpID8ganFYSFIucmVzcG9uc2VUZXh0IDogbnVsbCk7XG4gICAgICBsb2dUb1NlbnRyeSgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA0MDM6XG4gICAgICBzZXRPZmZsaW5lKCk7XG4gICAgICBpZiAoJCgnLnBhbmVsLS1lcnJvcicpLmxlbmd0aCA9PT0gMCAmJiAod2FybmluZ0dpdmVuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHdhcm5pbmdHaXZlbiA9IHRydWU7XG4gICAgICAgIGFsZXJ0Q29ubmVjdGlvbkxvc3QoJ0Nvbm5lY3Rpb24gd2l0aCBzZXJ2ZXIgaGFzIGJlZW4gbG9zdC4gWW91IG5lZWQgdG8gbG9naW4gYWdhaW4uIChlcnJvciA0MDMpJyk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDA6XG4gICAgICBpZiAoanFYSFIuc3RhdHVzVGV4dCAhPT0gJ3RpbWVvdXQnKVxuICAgICAgICBicmVhazsgLy8gY2xpZW50LWNhbmNlbGxlZCByZXF1ZXN0OiBza2lwIHRoaXMgb25lXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICgkKCcucGFuZWwtLWVycm9yJykubGVuZ3RoID09PSAwICYmIHdhcm5pbmdHaXZlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHdhcm5pbmdHaXZlbiA9IHRydWU7XG4gICAgICAgIGlmICh0aHJvd25FcnJvciAhPT0gJycgJiYgdGhyb3duRXJyb3IgIT09ICd0aW1lb3V0Jykge1xuICAgICAgICAgIGxvZ1RvU2VudHJ5KCk7XG4gICAgICAgICAgYWxlcnRVbnJlcG9ydGFibGVFcnJvcihgWWVzcGxhbiBlbmNvdW50ZXJlZCBhbiB1bnJlcG9ydGFibGUgZXJyb3I6ICR7dGhyb3duRXJyb3J9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0T2ZmbGluZSgpO1xuICAgICAgICAgIGFsZXJ0Q29ubmVjdGlvbkxvc3QoYENvbm5lY3Rpb24gd2l0aCBzZXJ2ZXIgaGFzIGJlZW4gbG9zdC4gWW91IG5lZWQgdG8gbG9naW4gYWdhaW4uIChlcnJvciAke2pxWEhSLnN0YXR1c30pIC0gJHt0aHJvd25FcnJvcn0gLSAke2pxWEhSLnN0YXR1c1RleHR9IC0gJHtqcVhIUi5yZXNwb25zZVRleHR9IC0gJHthamF4U2V0dGluZ3MudXJsfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gIH1cbn1cblxuJChkb2N1bWVudCkuYWpheEVycm9yKGhhbmRsZUFqYXhFcnJvcik7XG5cbi8qIGNvdmVyIGluc2VydGlvbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydENvdmVyKCkge1xuICBpZiAoJCgnLmNvdmVyJykubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc3QgYm9keUVsID0gJCgnYm9keScpO1xuICAgIGJvZHlFbC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJjb3ZlclwiPiA8L2Rpdj4nKTtcbiAgICBib2R5RWwuY3NzKHsnb3ZlcmZsb3cnOiAnaGlkZGVuJ30pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDb3ZlcigpIHtcbiAgY29uc3QgY292ZXJFbCA9ICQoJy5jb3ZlcicpO1xuICBpZiAoKGNvdmVyRWwubGVuZ3RoICE9PSAwKSAmJiAoJCgnW2RhdGEtbmVlZHNjb3Zlcl0nKS5sZW5ndGggPT09IDApKVxuICAgIGNvdmVyRWwucmVtb3ZlKCk7XG4gICQoJ2JvZHknKS5jc3MoeydvdmVyZmxvdyc6ICcnfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNNZXRhS2V5KGV2ZW50KSB7XG4gIC8vIERldGVjdCB0aGUgbWV0YUtleSAoY3RybCBvbiB3aW5kb3dzL2xpbnV4IG9yIGNtZCBvbiBtYWMpXG4gIGNvbnN0IGlzTWFjID0gKG5hdmlnYXRvci5wbGF0Zm9ybS5tYXRjaCgvbWFjL2kpICE9PSBudWxsKSAmJiAobmF2aWdhdG9yLnBsYXRmb3JtLm1hdGNoKC9tYWMvaSkpLmxlbmd0aCA+IDA7XG4gIHJldHVybiAoaXNNYWMgJiYgZXZlbnQubWV0YUtleSkgfHwgKCFpc01hYyAmJiBldmVudC5jdHJsS2V5KTtcbn1cblxuLy8gRGV0ZWN0IHRoZSBhbHQga2V5XG5leHBvcnQgZnVuY3Rpb24gaGFzQWx0S2V5KGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5hbHRLZXk7XG59XG5cbi8vIEV4dGVuZCB0aGUgU3RyaW5nIGNsYXNzIHdpdGggYSBmb3JtYXQgZnVuY3Rpb24gc2ltaWxhciB0byB0aGUgb25lIGluIFNtYWxsdGFsa1xuaWYgKCFTdHJpbmcucHJvdG90eXBlLmZvcm1hdCkge1xuICBTdHJpbmcucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIHRoaXMucmVwbGFjZSgveyhcXGQrKX0vZywgZnVuY3Rpb24obWF0Y2gsIG51bWJlcikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBhcmdzW251bWJlcl0gIT09ICd1bmRlZmluZWQnID8gYXJnc1tudW1iZXJdIDogbWF0Y2g7XG4gICAgfSk7XG4gIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./CommonScripts/sharedscripts/sharedscripts-npcommon.js\n");

/***/ }),

/***/ "./CommonScripts/sharedscripts/sharedscripts-sentry.js":
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isSentryInitialized\": function() { return /* binding */ isSentryInitialized; }\n/* harmony export */ });\n/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@sentry/hub/esm/hub.js\");\n/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@sentry/browser/esm/index.js\");\n\nfunction isSentryInitialized() {\n  return _sentry_browser__WEBPACK_IMPORTED_MODULE_0__.getCurrentHub().getClient() !== undefined;\n}\n__webpack_require__.g.Sentry = _sentry_browser__WEBPACK_IMPORTED_MODULE_1__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Db21tb25TY3JpcHRzL3NoYXJlZHNjcmlwdHMvc2hhcmVkc2NyaXB0cy1zZW50cnkuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL1JlYWN0Q29tcG9uZW50c18vLi9Db21tb25TY3JpcHRzL3NoYXJlZHNjcmlwdHMvc2hhcmVkc2NyaXB0cy1zZW50cnkuanM/ZTk3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBTZW50cnkgZnJvbSBcIkBzZW50cnkvYnJvd3NlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNTZW50cnlJbml0aWFsaXplZCgpIHtcbiAgcmV0dXJuIFNlbnRyeS5nZXRDdXJyZW50SHViKCkuZ2V0Q2xpZW50KCkgIT09IHVuZGVmaW5lZFxufVxuXG5nbG9iYWwuU2VudHJ5ID0gU2VudHJ5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./CommonScripts/sharedscripts/sharedscripts-sentry.js\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["vendor"], function() { return __webpack_exec__("./CommonScripts/eventscalendar.js"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ ReactComponents_eventscalendar = __webpack_exports__;
/******/ }
]);